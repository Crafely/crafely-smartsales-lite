const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/Permission.CpNuQci2.js","js/vendor.Cb3pcdfF.js","css/vendor.tQH9kz2n.css","js/404.BeRU0TNi.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),u=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,o=(e,t)=>{for(var l in t||(t={}))s.call(t,l)&&u(e,l,t[l]);if(a)for(var l of a(t))n.call(t,l)&&u(e,l,t[l]);return e},i=(e,a)=>t(e,l(a)),d=(e,t)=>{var l={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&n.call(e,r)&&(l[r]=e[r]);return l},c=(e,t,l)=>new Promise((a,s)=>{var n=e=>{try{u(l.next(e))}catch(t){s(t)}},r=e=>{try{u(l.throw(e))}catch(t){s(t)}},u=e=>e.done?a(e.value):Promise.resolve(e.value).then(n,r);u((l=l.apply(e,t)).next())}),p=function(e,t){this[0]=e,this[1]=t},m=(e,t,l)=>{var a=(e,t,s,n)=>{try{var r=l[e](t),u=(t=r.value)instanceof p,o=r.done;Promise.resolve(u?t[0]:t).then(l=>u?a("return"===e?e:"next",t[1]?{done:l.done,value:l.value}:l,s,n):s({value:l,done:o})).catch(e=>a("throw",e,s,n))}catch(i){n(i)}},s=e=>n[e]=t=>new Promise((l,s)=>a(e,t,l,s)),n={};return l=l.apply(e,t),n[r("asyncIterator")]=()=>n,s("next"),s("throw"),s("return"),n},f=(e,t,l)=>(t=e[r("asyncIterator")])?t.call(e):(e=e[r("iterator")](),t={},(l=(l,a)=>(a=e[l])&&(t[l]=t=>new Promise((l,s,n)=>(t=a.call(e,t),n=t.done,Promise.resolve(t.value).then(e=>l({value:e,done:n}),s)))))("next"),l("return"),t);import{S as v,W as y,B as g,l as _,a as h,d as b,r as x,c as w,K as q,t as C,o as k,u as S,b as F,w as P,h as O,e as V,f as D,g as T,i as $,j as B,F as A,k as I,m as j,n as R,p as U,q as M,s as N,v as E,x as z,U as L,O as K,y as H,X as G,Y as W,J as Q,z as Y,A as J,G as Z,C as X,D as ee,E as te,H as le,I as ae,L as se,M as ne,N as re,P as ue,Q as oe,R as ie,T as de,V as ce,Z as pe,_ as me,$ as fe,a0 as ve,a1 as ye,a2 as ge,a3 as _e,a4 as he,a5 as be,a6 as xe,a7 as we,a8 as qe,a9 as Ce,aa as ke,ab as Se,ac as Fe,ad as Pe,ae as Oe,af as Ve,ag as De,ah as Te,ai as $e,aj as Be,ak as Ae,al as Ie,am as je,an as Re,ao as Ue,ap as Me,aq as Ne,ar as Ee,as as ze,at as Le,au as Ke,av as He,aw as Ge,ax as We,ay as Qe,az as Ye,aA as Je,aB as Ze,aC as Xe,aD as et,aE as tt,aF as lt,aG as at,aH as st,aI as nt,aJ as rt,aK as ut,aL as ot,aM as it,aN as dt,aO as ct,aP as pt,aQ as mt,aR as ft,aS as vt,aT as yt,aU as gt,aV as _t,aW as ht,aX as bt,aY as xt,aZ as wt,a_ as qt,a$ as Ct,b0 as kt,b1 as St,b2 as Ft,b3 as Pt,b4 as Ot,b5 as Vt,b6 as Dt,b7 as Tt,b8 as $t,b9 as Bt,ba as At,bb as It,bc as jt,bd as Rt,be as Ut,bf as Mt,bg as Nt,bh as Et,bi as zt,bj as Lt,bk as Kt,bl as Ht,bm as Gt,bn as Wt,bo as Qt,bp as Yt,bq as Jt,br as Zt,bs as Xt,bt as el,bu as tl,bv as ll,bw as al,bx as sl,by as nl,bz as rl,bA as ul,bB as ol,bC as il,bD as dl,bE as cl,bF as pl,bG as ml,bH as fl,bI as vl,bJ as yl,bK as gl,bL as _l,bM as hl,bN as bl,bO as xl,bP as wl,bQ as ql,bR as Cl,bS as kl,bT as Sl,bU as Fl,bV as Pl,bW as Ol,bX as Vl,bY as Dl,bZ as Tl,b_ as $l,b$ as Bl,c0 as Al,c1 as Il,c2 as jl,c3 as Rl,c4 as Ul,c5 as Ml,c6 as Nl,c7 as El,c8 as zl,c9 as Ll,ca as Kl,cb as Hl,cc as Gl,cd as Wl,ce as Ql,cf as Yl,cg as Jl,ch as Zl,ci as Xl,cj as ea,ck as ta,cl as la,cm as aa,cn as sa,co as na,cp as ra,cq as ua,cr as oa,cs as ia,ct as da,cu as ca,cv as pa,cw as ma,cx as fa,cy as va,cz as ya,cA as ga,cB as _a,cC as ha,cD as ba,cE as xa,cF as wa,cG as qa,cH as Ca,cI as ka,cJ as Sa,cK as Fa,cL as Pa,cM as Oa,cN as Va,cO as Da,cP as Ta,cQ as $a,cR as Ba,cS as Aa,cT as Ia,cU as ja,cV as Ra,cW as Ua,cX as Ma,cY as Na,cZ as Ea,c_ as za,c$ as La,d0 as Ka,d1 as Ha,d2 as Ga,d3 as Wa,d4 as Qa,d5 as Ya,d6 as Ja,d7 as Za,d8 as Xa,d9 as es,da as ts,db as ls,dc as as,dd as ss,de as ns,df as rs,dg as us,dh as os,di as is,dj as ds,dk as cs,dl as ps,dm as ms,dn as fs,dp as vs,dq as ys,dr as gs,ds as _s,dt as hs,du as bs,dv as xs,dw as ws,dx as qs,dy as Cs,dz as ks,dA as Ss,dB as Fs,dC as Ps,dD as Os,dE as Vs,dF as Ds,dG as Ts,dH as $s,dI as Bs,dJ as As,dK as Is,dL as js,dM as Rs,dN as Us,dO as Ms,dP as Ns,dQ as Es,dR as zs,dS as Ls,dT as Ks,dU as Hs,dV as Gs,dW as Ws,dX as Qs,dY as Ys,dZ as Js,d_ as Zs,d$ as Xs,e0 as en,e1 as tn,e2 as ln,e3 as an,e4 as sn,e5 as nn,e6 as rn,e7 as un,e8 as on,e9 as dn,ea as cn}from"./vendor.Cb3pcdfF.js";const pn={},mn=function(e,t,l){let a=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),s=(null==l?void 0:l.nonce)||(null==l?void 0:l.getAttribute("nonce"));a=e(t.map(e=>{if((e=function(e){return"/crafely-smartsales-lite/assets/dist/"+e}(e))in pn)return;pn[e]=!0;const t=e.endsWith(".css"),l=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,s&&a.setAttribute("nonce",s),document.head.appendChild(a),t?new Promise((t,l)=>{a.addEventListener("load",t),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})},fn=[{path:"/",name:"app.dashboard",component:()=>mn(()=>Promise.resolve().then(()=>Ti),void 0),meta:{title:"Dashboard",accessibleTo:["administrator","csmsl_pos_outlet_manager","csmsl_pos_shop_manager"],order:1}},{path:"/product",name:"app.product",component:()=>mn(()=>Promise.resolve().then(()=>qc),void 0),meta:{title:"Product",accessibleTo:["administrator","csmsl_pos_outlet_manager","csmsl_pos_shop_manager"],order:2}},{path:"/customer",name:"app.customer",component:()=>mn(()=>Promise.resolve().then(()=>rp),void 0),meta:{title:"Customer",accessibleTo:["administrator","csmsl_pos_cashier","csmsl_pos_outlet_manager","csmsl_pos_shop_manager"],order:4}},{path:"/pos",name:"app.pos",component:()=>mn(()=>Promise.resolve().then(()=>am),void 0),meta:{accessibleTo:["administrator","csmsl_pos_cashier","csmsl_pos_outlet_manager"],title:"POS",order:3}},{path:"/order",name:"app.order",component:()=>mn(()=>Promise.resolve().then(()=>tf),void 0),meta:{accessibleTo:["all"],title:"Order",order:5}},{path:"/ecosystem",name:"app.ecosystem",component:()=>mn(()=>Promise.resolve().then(()=>af),void 0),redirect:{name:"app.ecosystem.outlet"},meta:{accessibleTo:["administrator"],title:"Ecosystem",order:6},children:[{path:"outlet",name:"app.ecosystem.outlet",component:()=>mn(()=>Promise.resolve().then(()=>Rf),void 0),meta:{title:"Outlet",accessibleTo:["administrator"],isChild:!0}},{path:"users",name:"app.ecosystem.user",component:()=>mn(()=>Promise.resolve().then(()=>_v),void 0),meta:{title:"Users",isChild:!0}}]},{path:"/invoice",name:"app.invoice",component:()=>mn(()=>Promise.resolve().then(()=>Ty),void 0),meta:{accessibleTo:["all"],title:"Invoice",order:7}},{path:"/settings",name:"app.settings",component:()=>mn(()=>Promise.resolve().then(()=>Ky),void 0),redirect:{name:"app.settings.general"},children:[{path:"general-settings",name:"app.settings.general",component:()=>mn(()=>Promise.resolve().then(()=>lg),void 0),meta:{accessibleTo:["administrator"],title:"General Settings",icon:v,isChild:!0}},{path:"setup",name:"app.settings.setup",component:()=>mn(()=>Promise.resolve().then(()=>yg),void 0),meta:{accessibleTo:["administrator"],title:"Setup Settings",icon:y,isChild:!0}},{path:"aiConfig",name:"app.settings.aiConfig",component:()=>mn(()=>Promise.resolve().then(()=>qg),void 0),meta:{accessibleTo:["administrator"],title:"Ai Config Settings",icon:g,isChild:!0}}]},...[{path:"/permission-deny",name:"permission.deny",component:()=>mn(()=>import("./Permission.CpNuQci2.js"),__vite__mapDeps([0,1,2]))},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>mn(()=>import("./404.BeRU0TNi.js"),__vite__mapDeps([3,1,2]))}]],vn={baseURL:`${window.location.origin}/wp-json/ai-smart-sales/v1`,headers:(()=>{if(_.has(window,"wpApiSettings"))return{"X-WP-Nonce":window.wpApiSettings.nonce}})()},yn=e=>{const t={username:void 0,password:void 0},l=h.create(e||vn);l.interceptors.response.use(e=>e.data);const a=(e,...t)=>c(null,null,function*(){var l,a,s;try{return yield e(...t)}catch(n){let e="An error occurred.";return h.isAxiosError(n)?(e=n.response?n.response.data.message||n.response.statusText:n.request?"No response received from the server.":n.message,"ECONNABORTED"===n.code&&(e="Request timed out."),{message:e,status:null==(l=n.response)?void 0:l.status,error:(null==(s=null==(a=n.response)?void 0:a.data)?void 0:s.error)||null}):{message:e,status:500,error:null}}}),s=l=>i(o({},l),{auth:e?null:t});return{get:(e,t={})=>a(l.get,e,s(t)),post:(e,t={},n={})=>a(l.post,e,t,s(n)),put:(e,t={},n={})=>a(l.put,e,t,s(n)),remove:(e,t={},n={})=>a(l.delete,e,i(o({},s(n)),{data:t})),handleRequest:a,axios:l}},gn=b("app",()=>{const e=x([{title:"Dashboard",path:"/dashboard",name:"app.home"},{title:"POS Panel",path:"/pos",name:"app.pos"},{title:"Order",path:"/order",name:"app.order"}]),t=x(null);x(null);const l=["black","orange","green","rose","blue","violet"],a=x("black"),s=x(!1),{get:n,put:r}=yn(),u=w(()=>{var e;return(null==(e=t.value)?void 0:e.currency)||"USD"}),i=w(()=>{var e;return(null==(e=t.value)?void 0:e.business_type)||"retail"}),d=w(()=>{var e;const l=null==(e=t.value)?void 0:e.inventory_size;return!l||l<=50?"small":l<=500?"medium":"large"}),p=w(()=>!!localStorage.getItem("_token"));return{appSettings:t,loading:s,getAppSettings:()=>c(null,null,function*(){try{const{data:e}=yield n("app");t.value=e}catch(e){throw e}}),updateAppSettings:e=>c(null,null,function*(){try{const{data:l,error:a,success:s,message:n}=yield r("app",e);return s&&(t.value=o(o({},t.value),l)),q[s?"success":"error"](n),{data:l,error:a,success:s,message:n}}catch(l){throw l}}),currency:u,businessType:i,inventorySize:d,posRoutes:e,isAiConfig:p,themes:l,setTheme:e=>{document.documentElement.className=document.documentElement.className.split(" ").filter(e=>"dark"===e||"light"===e).join(" ");const t=l.find(t=>t===e);t&&(document.documentElement.classList.add(`theme-${t}`),localStorage.setItem("theme",t),a.value=t)},getTheme:()=>{const e=localStorage.getItem("theme")||"black",t=l.find(t=>t===e);t&&(document.documentElement.classList.add(`theme-${t}`),a.value=t)},activeTheme:a}}),_n=e=>{const{userRoles:t}=C(e),l=(e,t="children")=>_.flatMapDeep(e,e=>[e,...e[t]?l(e[t],t):[]]),a=l(fn).filter(e=>e.meta),s=w(()=>{const e=null==a?void 0:a.filter(e=>{var l;const a=null==(l=e.meta)?void 0:l.accessibleTo;if(!a)return!1;if(a.includes("all"))return!0;return a.some(e=>{var l;return null==(l=t.value)?void 0:l.includes(e)})});return null==e?void 0:e.sort((e,t)=>e.meta.order-t.meta.order)}),n=w(()=>s.value.filter(e=>!e.meta.isChild));return{routesByRoles:s,menuItems:n}},hn=b("user",()=>{const e=x([]),t=x(),l=x(null),a=w(()=>{var e;return(null==(e=l.value)?void 0:e.roles)||[]}),s=w(()=>{var e;return(null==(e=l.value)?void 0:e.permissions)||[]}),{can:n}=(e=>{const{userPermissions:t}=C(e);return{can:e=>!!t.value&&(Array.isArray(e)?e.every(e=>{var l;return!0===(null==(l=t.value)?void 0:l[e])}):!0===t.value[e])}})({userPermissions:s}),{menuItems:r}=_n({userRoles:a}),u={username:void 0,password:void 0},o=x(),i=x(null),d=x(!1),{get:p,post:m,put:f,remove:v}=yn(),y=()=>c(null,null,function*(){const{data:e}=yield p("/users/current");l.value=e});return k(()=>c(null,null,function*(){yield y()})),{users:e,token:t,getUsers:()=>c(null,null,function*(){const{data:t}=yield p("users");e.value=t}),getCurrentUser:y,authUser:l,menuItems:r,can:n,activeUser:o,setActiveUser:e=>{o.value=e},updateUser:t=>c(null,null,function*(){var a;const{data:s,error:n,success:r,message:u}=yield f(`users/${t.id}`,t);return r&&(e.value=e.value.map(e=>e.id===t.id?s:e),t.id===(null==(a=l.value)?void 0:a.id)&&(l.value=s)),q[r?"success":"error"](u),{data:s,error:n,success:r,message:u}}),createUser:t=>c(null,null,function*(){d.value=!0;try{const{data:l,error:a,success:s,message:n}=yield m("users",t,{auth:u});return s&&(e.value=Array.from([...e.value,l])),q[s?"success":"error"](n),{data:l,error:a,success:s,message:n}}catch(l){throw i.value=l,l}finally{d.value=!1}}),deleteUser:t=>c(null,null,function*(){const{message:l,success:a}=yield v(`users/${t}`);a&&(e.value=e.value.filter(e=>e.id!==t)),q.success(l)}),logout:()=>c(null,null,function*(){d.value=!0;try{yield m("users/logout"),q.success("Logged out successfully"),window.location.reload()}catch(e){throw i.value=e,e}finally{d.value=!1}})}}),bn=(e,t)=>{const l=e.__vccOpts||e;for(const[a,s]of t)l[a]=s;return l},xn=b("dashboard",()=>{const e=x(null),t=x(null),l=x(null),a=x(null),s=x(null),n=x(null),r=x(null),u=x(!1),{get:o}=yn();return{summary:e,salesAnalytics:t,customerAnalytics:l,productAnalytics:a,outletAnalytics:s,recentActivities:n,loading:u,error:r,getDashboardSummary:(...t)=>c(null,[...t],function*(t={}){u.value=!0;try{const{data:l,success:a,message:s,error:n}=yield o("dashboard/summary",{params:t});return e.value=l,{data:l,success:a,message:s}}catch(l){throw r.value=l,l}finally{u.value=!1}}),getSalesAnalytics:(...e)=>c(null,[...e],function*(e={}){u.value=!0;try{const{data:l}=yield o("dashboard/sales",{params:e});t.value=l}catch(l){throw r.value=l,l}finally{u.value=!1}}),getCustomerAnalytics:(...e)=>c(null,[...e],function*(e={}){u.value=!0;try{const{data:t}=yield o("dashboard/customers",{params:e});l.value=t}catch(t){throw r.value=t,t}finally{u.value=!1}}),getProductAnalytics:(...e)=>c(null,[...e],function*(e={}){u.value=!0;try{const{data:t}=yield o("dashboard/products",{params:e});a.value=t}catch(t){throw r.value=t,t}finally{u.value=!1}}),getOutletAnalytics:()=>c(null,null,function*(){u.value=!0;try{const{data:e}=yield o("dashboard/outlets");s.value=e}catch(e){throw r.value=e,e}finally{u.value=!1}}),getRecentActivities:(...e)=>c(null,[...e],function*(e={}){u.value=!0;try{const{data:t}=yield o("dashboard/recent-activities",{params:e});n.value=t}catch(t){throw r.value=t,t}finally{u.value=!1}})}}),wn=b("outlet",()=>{const e=x([]),t=x(),{get:l,post:a,put:s,remove:n}=yn();hn();return{outlets:e,getOutlets:()=>c(null,null,function*(){const{data:t}=yield l("outlets");e.value=t}),activeOutlet:t,getSingleOutlet:e=>c(null,null,function*(){const{data:a}=yield l(`outlets/${e}`);t.value=a}),setActiveOutlet:e=>{t.value=e},createOutlet:t=>c(null,null,function*(){const{data:l,error:s,success:n,message:r}=yield a("outlets",t);return n&&(e.value=Array.from([...e.value,l])),q[n?"success":"error"](r),{data:l,error:s,success:n,message:r}}),updateOutlet:t=>c(null,null,function*(){const{data:l,error:a,success:n,message:r}=yield s(`outlets/${t.id}`,t);return n&&(e.value=e.value.map(e=>e.id===t.id?l:e)),q[n?"success":"error"](r),{data:l,error:a,success:n,message:r}}),deleteOutlet:t=>c(null,null,function*(){const{message:l,success:a}=yield n(`outlets/${t}`);a&&(e.value=e.value.filter(e=>e.id!==t)),q.success(l)})}}),qn=()=>S(),Cn=()=>{var e;const t=F(),l=qn(),a=x(),s=x(),n=x(),r=x(),u=x(),i=x();return P(()=>t,({params:e,query:t})=>{a.value=e.productId||t.productId,s.value=e.customerId||t.customerId,n.value=e.orderId||t.orderId,r.value=e.invoiceId||t.invoiceId,u.value=e.outletId||t.outletId,i.value=e.userId||t.userId},{immediate:!0}),{route:t,orderId:n,invoiceId:r,outletId:u,productId:a,customerId:s,userId:i,routerReplace:(e,a)=>c(null,null,function*(){yield l.replace({name:a||t.name,query:o(o({},t.query),e)})}),getChildRoutes:e=>{let l=t.matched.find(t=>t.name===e);return(null==l?void 0:l.children)||[]},packageName:(null==(e=null==t?void 0:t.meta)?void 0:e.packageName)||"free"}},kn=[{value:"overview",label:"Overview"},{value:"analytics",label:"Analytics"},{value:"recentActivities",label:"Activities"}],Sn=x([{value:"assistant",label:"Assistant",icon:O(g)}]),Fn={key:0,class:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 z-10"},Pn={__name:"Loader",props:{loading:{type:Boolean,required:!0}},setup:e=>(t,l)=>(D(),V(A,null,[e.loading?(D(),V("div",Fn,[B(t.$slots,"loader",{},()=>[l[0]||(l[0]=I("div",{class:"text-xl font-mono animate-pulse"},"loading..",-1))])])):T("",!0),l[1]||(l[1]=$()),e.loading?T("",!0):B(t.$slots,"default",{key:1})],64))};function On(...e){return j(R(e))}function Vn(e,t){t.value="function"==typeof e?e(t.value):e}const Dn={__name:"Menubar",props:{modelValue:{type:String,required:!1},defaultValue:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(L),E(z(n),{class:z(On)("flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm",l.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Tn={__name:"MenubarContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:8},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1,default:-4},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(W),null,{default:N(()=>[H(z(G),E(z(a),{class:z(On)("z-50 min-w-48 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"])]),_:3}))}},$n={__name:"MenubarItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},inset:{type:Boolean,required:!1}},emits:["select"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(t,a)=>(D(),M(z(Q),E(z(n),{class:z(On)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e.inset&&"pl-8",l.class)}),{default:N(()=>[B(t.$slots,"default")]),_:3},16,["class"]))}},Bn={__name:"MenubarMenu",props:{value:{type:String,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(Z),Y(J(t)),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},An={__name:"MenubarTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(X),E(z(a),{class:z(On)("flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},In=ee({__name:"MainNav",props:{activeRouteName:{},routes:{}},setup:e=>(e,t)=>{var l;const a=ae("router-link");return D(),V("nav",{class:te(z(On)("hidden md:flex items-center space-x-4 lg:space-x-6",null!=(l=e.$attrs.class)?l:""))},[H(z(Dn),{class:"border-none shadow-none bg-transparent space-x-6"},{default:N(()=>[(D(!0),V(A,null,le(e.routes,l=>{var s;return D(),V(A,{key:l.path},[(null==(s=l.children)?void 0:s.length)?(D(),M(z(Bn),{key:0},{default:N(()=>[H(z(An),{class:te(["text-sm font-medium transition-all hover:opacity-100",e.activeRouteName===l.name?"text-primary opacity-100":"opacity-60 text-text"])},{default:N(()=>{var e;return[$(se(null==(e=l.meta)?void 0:e.title),1)]}),_:2},1032,["class"]),t[0]||(t[0]=$()),H(z(Tn),null,{default:N(()=>[(D(!0),V(A,null,le(l.children,e=>(D(),M(a,{key:e.path,to:{name:e.name}},{default:N(()=>[H(z($n),null,{default:N(()=>{var t;return[$(se(null==(t=e.meta)?void 0:t.title),1)]}),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)]),_:2},1024)):(D(),M(a,{key:1,to:{name:l.name},class:te(["text-sm font-medium transition-all hover:opacity-100",[e.activeRouteName===l.name?"text-primary opacity-100":"opacity-60 text-text"]])},{default:N(()=>{var e;return[$(se(null==(e=l.meta)?void 0:e.title),1)]}),_:2},1032,["to","class"]))],64)}),128))]),_:1})],2)}}),jn={__name:"Avatar",props:{class:{type:null,required:!1},size:{type:null,required:!1,default:"sm"},shape:{type:null,required:!1,default:"circle"}},setup(e){const t=e;return(l,a)=>(D(),M(z(ne),{class:te(z(On)(z(Mn)({size:e.size,shape:e.shape}),t.class))},{default:N(()=>[B(l.$slots,"default")]),_:3},8,["class"]))}},Rn={__name:"AvatarFallback",props:{delayMs:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(re),Y(J(t)),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},Un={__name:"AvatarImage",props:{src:{type:String,required:!0},referrerPolicy:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(ue),E(t,{class:"h-full w-full object-cover"}),null,16))}},Mn=oe("inline-flex items-center justify-center font-normal text-foreground select-none shrink-0 bg-secondary overflow-hidden",{variants:{size:{sm:"h-10 w-10 text-xs",base:"h-16 w-16 text-2xl",lg:"h-32 w-32 text-5xl"},shape:{circle:"rounded-full",square:"rounded-md"}}}),Nn={__name:"Button",props:{variant:{type:null,required:!1},size:{type:null,required:!1},class:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},loading:{type:Boolean,required:!1},icon:{type:Object,required:!1}},setup(e){const t=e;return(l,a)=>(D(),M(z(ce),{as:e.as,"as-child":e.asChild,class:te(z(On)(z(En)({variant:e.variant,size:e.size}),t.class)),disabled:e.loading},{default:N(()=>[(D(),M(ie(e.loading?z(de):e.icon),{class:te([e.loading?"animate-spin":"",e.loading||e.icon?"w-4 h-4 mr-1":""])},null,8,["class"])),a[0]||(a[0]=$()),B(l.$slots,"default")]),_:3},8,["as","as-child","class","disabled"]))}},En=oe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),zn=(e,t="USD")=>{let l;return l="string"==typeof e?parseFloat(e):e,new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(l||0)},Ln=e=>{var t,l;return e.q?{q:e.q}:{current_page:(null!=(t=e.pageIndex)?t:0)+1,per_page:null!=(l=e.pageSize)?l:10}},Kn=(e,t="PP")=>{try{const l="string"==typeof e?pe(e):e;return me(l,t)}catch(l){return""}},Hn=e=>Kn(e,"PP p"),Gn=e=>Kn(e,"P");function Wn(e,t,l){return e?[...l,t]:l.filter(e=>e!==t)}const Qn=e=>`/wp-content/plugins/smartsales-lite/dist${e}`,Yn={__name:"DropdownMenu",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:t}){const l=U(e,t);return(e,t)=>(D(),M(z(fe),Y(J(z(l))),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},Jn={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},Zn={__name:"DropdownMenuCheckboxItem",props:{checked:{type:[Boolean,String],required:!1},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["select","update:checked"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(ge),E(z(n),{class:z(On)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l.class)}),{default:N(()=>[I("span",Jn,[H(z(ve),null,{default:N(()=>[H(z(ye),{class:"w-4 h-4"})]),_:1})]),t[0]||(t[0]=$()),B(e.$slots,"default")]),_:3},16,["class"]))}},Xn={__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(he),null,{default:N(()=>[H(z(_e),E(z(n),{class:z(On)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"])]),_:3}))}},er={__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},inset:{type:Boolean,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(l,s)=>(D(),M(z(be),E(z(a),{class:z(On)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50  [&>svg]:size-4 [&>svg]:shrink-0",e.inset&&"pl-8",t.class)}),{default:N(()=>[B(l.$slots,"default")]),_:3},16,["class"]))}},tr={__name:"DropdownMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},inset:{type:Boolean,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(l,s)=>(D(),M(z(xe),E(z(a),{class:z(On)("px-2 py-1.5 text-sm font-semibold",e.inset&&"pl-8",t.class)}),{default:N(()=>[B(l.$slots,"default")]),_:3},16,["class"]))}},lr={__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(we),E(l.value,{class:z(On)("-mx-1 my-1 h-px bg-muted",t.class)}),null,16,["class"]))}},ar={__name:"DropdownMenuShortcut",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("span",{class:te(z(On)("ml-auto text-xs tracking-widest opacity-60",t.class))},[B(e.$slots,"default")],2))}},sr={__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=K(e);return(e,l)=>(D(),M(z(qe),E({class:"outline-none"},z(t)),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},nr={class:"flex flex-col space-y-1"},rr={class:"text-sm font-medium leading-none"},ur={class:"text-xs leading-none text-muted-foreground"},or=ee({__name:"UserNav",props:{user:{}},setup(e){const t=e,l=w(()=>t.user),a=w(()=>{var e;return function(e,t=2){if(!e)return"NA";const l=e.trim();return l.length<t?l.charAt(0).toUpperCase():l.slice(0,t).toUpperCase()}(null==(e=l.value)?void 0:e.name)});return(e,t)=>(D(),M(z(Yn),null,{default:N(()=>[H(z(sr),{"as-child":""},{default:N(()=>[H(z(Nn),{variant:"ghost",class:"relative h-8 w-8 rounded-full"},{default:N(()=>[H(z(jn),{class:"h-8 w-8"},{default:N(()=>{var l;return[H(z(Un),{src:z(Qn)(`${null==(l=e.user)?void 0:l.avatar}`),alt:"user"},null,8,["src"]),t[0]||(t[0]=$()),H(z(Rn),null,{default:N(()=>[$(se(a.value),1)]),_:1})]}),_:1})]),_:1})]),_:1}),t[4]||(t[4]=$()),H(z(Xn),{class:"w-56",align:"end"},{default:N(()=>[H(z(tr),{class:"font-normal flex"},{default:N(()=>{var l,a;return[I("div",nr,[I("p",rr,se(null==(l=e.user)?void 0:l.name),1),t[1]||(t[1]=$()),I("p",ur,se(null==(a=e.user)?void 0:a.email),1)])]}),_:1}),t[2]||(t[2]=$()),H(z(lr)),t[3]||(t[3]=$()),B(e.$slots,"default")]),_:3})]),_:3}))}}),ir={__name:"Sheet",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:t}){const l=U(e,t);return(e,t)=>(D(),M(z(Ce),Y(J(z(l))),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},dr={__name:"SheetClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(ke),Y(J(t)),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},cr=Object.assign({inheritAttrs:!1},{__name:"SheetContent",props:{class:{type:null,required:!1},side:{type:null,required:!1},forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t,side:a}=e;return d(e,["class","side"])}),n=U(s,a);return(t,a)=>(D(),M(z(Oe),null,{default:N(()=>[H(z(Se),{class:"fixed inset-0 z-50 bg-black/20 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),a[1]||(a[1]=$()),H(z(Fe),E({class:z(On)(z(mr)({side:e.side}),l.class)},o(o({},z(n)),t.$attrs)),{default:N(()=>[B(t.$slots,"default"),a[0]||(a[0]=$()),H(z(ke),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary"},{default:N(()=>[H(z(Pe),{class:"w-4 h-4"})]),_:1})]),_:3},16,["class"])]),_:3}))}}),pr={__name:"SheetTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(Ve),Y(J(t)),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},mr=oe("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),fr={__name:"Accordion",props:{collapsible:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},type:{type:null,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=U(e,t);return(e,t)=>(D(),M(z(De),Y(J(z(l))),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},vr={__name:"AccordionContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(Te),E(l.value,{class:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"}),{default:N(()=>[I("div",{class:te(z(On)("pb-4 pt-0",t.class))},[B(e.$slots,"default")],2)]),_:3},16))}},yr={__name:"AccordionItem",props:{disabled:{type:Boolean,required:!1},value:{type:String,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z($e),E(z(a),{class:z(On)("border-b",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},gr={__name:"AccordionTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(Ie),{class:"flex"},{default:N(()=>[H(z(Be),E(l.value,{class:z(On)("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t.class)}),{default:N(()=>[B(e.$slots,"default"),a[0]||(a[0]=$()),B(e.$slots,"icon",{},()=>[H(z(Ae),{class:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})])]),_:3},16,["class"])]),_:3}))}},_r={class:"flex md:hidden items-center justify-between"},hr={class:"flex flex-col space-y-2 mt-6"},br=ee({__name:"MobileMenu",props:{activeRouteName:{},routes:{},isRight:{type:Boolean}},setup:e=>(e,t)=>{const l=ae("router-link");return D(),V("div",_r,[H(z(ir),null,{default:N(()=>[H(z(pr),null,{default:N(()=>[(D(),M(ie(e.isRight?z(je):z(Re))))]),_:1}),t[1]||(t[1]=$()),H(z(cr),{side:"left"},{default:N(()=>[I("nav",hr,[(D(!0),V(A,null,le(e.routes,a=>{var s;return D(),V(A,{key:a.path},[(null==(s=a.children)?void 0:s.length)?(D(),M(z(fr),{key:0,type:"single",collapsible:""},{default:N(()=>[H(z(yr),{value:"item-1",class:"border-none"},{default:N(()=>[H(z(gr),{class:"py-2 pl-4"},{default:N(()=>{var e;return[$(se(null==(e=a.meta)?void 0:e.title),1)]}),_:2},1024),t[0]||(t[0]=$()),H(z(vr),{class:"pl-4 py-1"},{default:N(()=>[(D(!0),V(A,null,le(a.children,t=>(D(),M(l,{key:t.path,to:{name:t.name}},{default:N(()=>{var l,a;return[H(z(Nn),{variant:"ghost",class:te(["w-full justify-start mt-1",[(null==(l=e.$route.meta)?void 0:l.title)==(null==(a=t.meta)?void 0:a.title)?"bg-accent text-accent-foreground":" "]])},{default:N(()=>{var e;return[$(se(null==(e=t.meta)?void 0:e.title),1)]}),_:2},1032,["class"])]}),_:2},1032,["to"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)):(D(),M(l,{key:1,to:{name:a.name}},{default:N(()=>[H(z(Nn),{variant:"ghost",class:te(["w-full justify-start",[e.activeRouteName===a.name?"bg-accent text-accent-foreground":" "]])},{default:N(()=>{var e;return[$(se(null==(e=a.meta)?void 0:e.title),1)]}),_:2},1032,["class"])]),_:2},1032,["to"]))],64)}),128))])]),_:1})]),_:1})])}}),xr={key:0,class:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border"},wr={__name:"ResizableHandle",props:{id:{type:String,required:!1},hitAreaMargins:{type:Object,required:!1},tabindex:{type:Number,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},withHandle:{type:Boolean,required:!1}},emits:["dragging"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(Me),E(z(n),{class:z(On)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 [&[data-orientation=vertical]]:h-px [&[data-orientation=vertical]]:w-full [&[data-orientation=vertical]]:after:left-0 [&[data-orientation=vertical]]:after:h-1 [&[data-orientation=vertical]]:after:w-full [&[data-orientation=vertical]]:after:-translate-y-1/2 [&[data-orientation=vertical]]:after:translate-x-0 [&[data-orientation=vertical]>div]:rotate-90",l.class)}),{default:N(()=>[l.withHandle?(D(),V("div",xr,[H(z(Ue),{class:"h-2.5 w-2.5"})])):T("",!0)]),_:1},16,["class"]))}},qr={__name:"ResizablePanelGroup",props:{id:{type:[String,null],required:!1},autoSaveId:{type:[String,null],required:!1},direction:{type:String,required:!0},keyboardResizeBy:{type:[Number,null],required:!1},storage:{type:Object,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["layout"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(Ne),E(z(n),{class:z(On)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",l.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Cr=ee({__name:"MoodSelector",setup(e){const t=Ee();return(e,l)=>(D(),V("div",null,["light"==z(t)?(D(),M(z(Nn),{key:0,variant:"link",size:"icon",class:"w-7 h-7 text-accent-foreground",onClick:l[0]||(l[0]=e=>t.value="dark")},{default:N(()=>[H(z(ze))]),_:1})):(D(),M(z(Nn),{key:1,variant:"link",size:"icon",class:"w-7 h-7 text-accent-foreground",onClick:l[1]||(l[1]=e=>t.value="light")},{default:N(()=>[H(z(Le))]),_:1}))]))}}),kr={__name:"Card",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("div",{class:te(z(On)("rounded-xl border bg-card text-card-foreground shadow",t.class))},[B(e.$slots,"default")],2))}},Sr={__name:"CardContent",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("div",{class:te(z(On)("p-6 pt-0",t.class))},[B(e.$slots,"default")],2))}},Fr={__name:"CardDescription",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("p",{class:te(z(On)("text-sm text-muted-foreground",t.class))},[B(e.$slots,"default")],2))}},Pr={__name:"CardFooter",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("div",{class:te(z(On)("flex items-center p-6 pt-0",t.class))},[B(e.$slots,"default")],2))}},Or={__name:"CardHeader",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("div",{class:te(z(On)("flex flex-col gap-y-1.5 p-6",t.class))},[B(e.$slots,"default")],2))}},Vr={__name:"CardTitle",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("h3",{class:te(z(On)("font-semibold leading-none tracking-tight",t.class))},[B(e.$slots,"default")],2))}},Dr={__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:[String,Object,Function],required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=Ke(t,"class");return(e,a)=>(D(),M(z(He),E(z(l),{class:z(On)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Tr={__name:"RadioGroup",props:{modelValue:{type:String,required:!1},defaultValue:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(Ge),E({class:z(On)("grid gap-2",l.class)},z(n)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},$r={__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:String,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},name:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Qe),E(z(a),{class:z(On)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t.class)}),{default:N(()=>[H(z(We),{class:"flex items-center justify-center"},{default:N(()=>[H(z(ye),{class:"h-3.5 w-3.5 fill-primary"})]),_:1})]),_:1},16,["class"]))}},Br=ee({__name:"ThemeManager",props:{modelValue:{},themes:{}},setup(e){const t=Ee(),l=e;return(e,a)=>(D(),M(z(Yn),null,{default:N(()=>[H(z(sr),{"as-child":""},{default:N(()=>[H(z(Nn),{variant:"link",size:"icon",class:"w-7 h-7 text-accent-foreground"},{default:N(()=>[H(z(Ye))]),_:1})]),_:1}),a[14]||(a[14]=$()),H(z(Xn),{align:"end"},{default:N(()=>[H(z(kr),{class:"border-none shadow-none"},{default:N(()=>[H(z(Or),{class:"p-1 md:p-3 pb-0"},{default:N(()=>[H(z(Vr),null,{default:N(()=>[...a[3]||(a[3]=[$("Theme Customizer",-1)])]),_:1}),a[5]||(a[5]=$()),H(z(Fr),null,{default:N(()=>[...a[4]||(a[4]=[$("Customize your theme settings",-1)])]),_:1})]),_:1}),a[12]||(a[12]=$()),H(z(Sr),{class:"p-1 md:p-3"},{default:N(()=>[H(z(Tr),{"default-value":"comfortable",class:"flex flex-wrap gap-2 max-w-64","model-value":e.modelValue},{default:N(()=>[(D(!0),V(A,null,le(l.themes,t=>(D(),M(z(Nn),{variant:"outline",class:te(["px-2 py-1.5 h-auto",t===e.modelValue?"border-2 border-primary":""])},{default:N(()=>[H(z($r),{id:`r-${t}`,value:t,class:te([`theme-${t}`,"bg-primary border-none text-white"]),onClick:l=>e.$emit("changeTheme",t)},null,8,["id","value","class","onClick"]),a[6]||(a[6]=$()),H(z(Dr),{for:`r-${t}`,class:"capitalize"},{default:N(()=>[$(se(t),1)]),_:2},1032,["for"])]),_:2},1032,["class"]))),256))]),_:1},8,["model-value"])]),_:1}),a[13]||(a[13]=$()),H(z(Pr),{class:"p-1 md:p-3 gap-2"},{default:N(()=>[H(z(Nn),{variant:"outline",class:"px-2 py-1 h-auto bg-accent border-2 border-primary dark:bg-background dark:border dark:border-input",onClick:a[0]||(a[0]=e=>t.value="light")},{default:N(()=>[a[7]||(a[7]=$("\n            Light ",-1)),H(z(Le))]),_:1}),a[10]||(a[10]=$()),H(z(Nn),{variant:"outline",class:"px-2 py-1 h-auto dark:bg-accent dark:border-2 dark:border-primary",onClick:a[1]||(a[1]=e=>t.value="dark")},{default:N(()=>[a[8]||(a[8]=$("\n            Dark ",-1)),H(z(ze))]),_:1}),a[11]||(a[11]=$()),H(z(Nn),{variant:"outline",class:"px-2 py-1 h-auto",onClick:a[2]||(a[2]=e=>t.value="auto")},{default:N(()=>[a[9]||(a[9]=$("\n            Auto ",-1)),H(z(Je))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Ar=ee({__name:"ScrollToTop",setup(e){const{y:t}=Ze(window),l=()=>{window.scrollTo({top:0,behavior:"smooth"})},a=w(()=>t.value>250);return(e,t)=>Xe((D(),V("button",{class:"flex justify-center items-center fixed bottom-14 right-4 z-50 w-14 md:w-10 h-14 md:h-10 rounded-full border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",onClick:l},[H(z(tt),{class:"w-6 md:w-4 h-6 md:h-4"})],512)),[[et,a.value]])}}),Ir={class:"min-h-screen"},jr={class:"border-b sticky top-0 z-50 bg-background"},Rr={class:"flex h-14 items-center px-2"},Ur={class:"ml-auto flex items-center space-x-2"},Mr={key:0,class:"hidden md:flex items-center p-2 text-text"},Nr={key:2,class:"flex md:hidden items-center justify-between relative"},Er=ee({__name:"AppLayoutWithResize",props:{activeRouteName:{},hideSidebar:{type:Boolean,default:!1}},setup(e){const t=gn(),{themes:l,setTheme:a}=t,{activeTheme:s}=lt(t),n=x(),{menuItems:r}=lt(hn()),u=hn(),{authUser:o}=lt(u),i=()=>{var e,t,l;(null==(e=n.value)?void 0:e.isCollapsed)?null==(t=n.value)||t.expand():null==(l=n.value)||l.collapse()},d=w(()=>window.matchMedia("(max-width: 767px)").matches);return k(()=>{t.getTheme()}),(e,t)=>{const c=ae("router-link");return D(),V("div",Ir,[I("div",jr,[I("div",Rr,[H(br,{activeRouteName:e.activeRouteName,routes:z(r)},null,8,["activeRouteName","routes"]),t[7]||(t[7]=$()),H(In,{activeRouteName:e.activeRouteName,routes:z(r)},null,8,["activeRouteName","routes"]),t[8]||(t[8]=$()),I("div",Ur,[e.hideSidebar?T("",!0):(D(),V("div",Mr,[I("button",{onClick:i},[(D(),M(ie(z(st))))])])),t[4]||(t[4]=$()),H(Br,{modelValue:z(s),"onUpdate:modelValue":t[0]||(t[0]=e=>at(s)?s.value=e:null),themes:z(l),onChangeTheme:z(a)},null,8,["modelValue","themes","onChangeTheme"]),t[5]||(t[5]=$()),H(Cr),t[6]||(t[6]=$()),H(or,{user:z(o)},{default:N(()=>[H(c,{to:{name:"app.settings"},class:"cursor-pointer"},{default:N(()=>[H(z(er),{class:"cursor-pointer"},{default:N(()=>[...t[1]||(t[1]=[$("\n                Settings\n              ",-1)])]),_:1})]),_:1}),t[3]||(t[3]=$()),H(z(er),{onClick:z(u).logout,class:"cursor-pointer"},{default:N(()=>[...t[2]||(t[2]=[$("\n              Log out\n              \n            ",-1)])]),_:1},8,["onClick"])]),_:1},8,["user"])])])]),t[14]||(t[14]=$()),H(z(qr),{direction:"horizontal"},{default:N(()=>[H(z(nt),{style:rt({zoom:d.value?.8:1})},{default:N(()=>[H(Ar),B(e.$slots,"default")]),_:3},8,["style"]),t[11]||(t[11]=$()),e.hideSidebar?T("",!0):(D(),M(z(wr),{key:0,class:"hidden md:flex","with-handle":""})),t[12]||(t[12]=$()),e.hideSidebar?T("",!0):(D(),M(z(nt),{key:1,"default-size":30,collapsible:"",minSize:28,ref_key:"panelRef",ref:n,class:"hidden md:block"},{default:N(()=>[B(e.$slots,"sidebar")]),_:3},512)),t[13]||(t[13]=$()),e.hideSidebar?T("",!0):(D(),V("div",Nr,[H(z(ir),null,{default:N(()=>[e.hideSidebar?T("",!0):(D(),M(z(pr),{key:0,class:"fixed right-1 top-1/2 translate-y-1/2 z-50 md:hidden"},{default:N(()=>[H(z(Nn),{variant:"outline",size:"icon",class:"rounded-full"},{default:N(()=>[H(z(ut))]),_:1})]),_:1})),t[10]||(t[10]=$()),H(z(cr),{class:"w-[90%] [&>button:nth-last-of-type(1)]:top-2 [&>button:nth-last-of-type(1)]:right-3",side:"right"},{default:N(()=>[e.hideSidebar?T("",!0):(D(),M(z(nt),{key:0,class:"absolute top-0 left-0 h-full w-full",ref_key:"panelRef",ref:n},{default:N(()=>[B(e.$slots,"sidebar")]),_:3},512)),t[9]||(t[9]=$()),H(z(dr),{class:"absolute -left-3 top-1/2 -translate-y-1/2 rounded-full z-50 md:hidden"},{default:N(()=>[H(z(Nn),{variant:"outline",size:"icon",class:"rounded-full"},{default:N(()=>[H(z(ot))]),_:1})]),_:1})]),_:3})]),_:3})]))]),_:3})])}}}),zr={__name:"Tabs",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},activationMode:{type:String,required:!1},modelValue:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=U(e,t);return(e,t)=>(D(),M(z(it),Y(J(z(l))),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},Lr={__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(dt),E({class:z(On)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t.class)},l.value),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Kr={__name:"TabsList",props:{loop:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(ct),E(l.value,{class:z(On)("inline-flex items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Hr={class:"truncate"},Gr={__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(pt),E(z(a),{class:z(On)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t.class)}),{default:N(()=>[I("span",Hr,[B(e.$slots,"default")])]),_:3},16,["class"]))}},Wr={class:"block space-y-4 md:flex gap-x-4 md:space-y-0"},Qr=ee({__name:"TabbedContent",props:mt({tabs:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=ft(e,"modelValue");return(e,l)=>(D(),M(z(zr),{defaultValue:t.value,class:"space-y-4"},{default:N(()=>[I("div",Wr,[H(z(Kr),null,{default:N(()=>[(D(!0),V(A,null,le(e.tabs,e=>(D(),M(z(Gr),{key:e.value,value:e.value},{default:N(()=>[$(se(e.label),1)]),_:2},1032,["value"]))),128))]),_:1}),l[0]||(l[0]=$()),B(e.$slots,"afterTab")]),l[1]||(l[1]=$()),(D(!0),V(A,null,le(e.tabs,t=>(D(),M(z(Lr),{key:t.value,value:t.value},{default:N(()=>[B(e.$slots,"default",{currentTab:t.value})]),_:2},1032,["value"]))),128))]),_:3},8,["defaultValue"]))}}),Yr={__name:"Select",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:String,required:!1},modelValue:{type:[String,Number],required:!1},dir:{type:String,required:!1},name:{type:String,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(e,{emit:t}){const l=U(e,t);return(e,t)=>(D(),M(z(vt),Y(J(z(l))),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},Jr=Object.assign({inheritAttrs:!1},{__name:"SelectContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1,default:"popper"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(t,a)=>(D(),M(z(_t),null,{default:N(()=>[H(z(yt),E(o(o({},z(n)),t.$attrs),{class:z(On)("relative z-50 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===e.position&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",l.class)}),{default:N(()=>[H(z(au)),a[0]||(a[0]=$()),H(z(gt),{class:te(z(On)("p-1","popper"===e.position&&"h-[--radix-select-trigger-height] w-full min-w-[--radix-select-trigger-width]"))},{default:N(()=>[B(t.$slots,"default")]),_:3},8,["class"]),a[1]||(a[1]=$()),H(z(lu))]),_:3},16,["class"])]),_:3}))}}),Zr={__name:"SelectGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(ht),E({class:z(On)("p-1 w-full",t.class)},l.value),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Xr={class:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center"},eu={__name:"SelectItem",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(wt),E(z(a),{class:z(On)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t.class)}),{default:N(()=>[I("span",Xr,[H(z(bt),null,{default:N(()=>[H(z(ye),{class:"h-4 w-4"})]),_:1})]),l[0]||(l[0]=$()),H(z(xt),null,{default:N(()=>[B(e.$slots,"default")]),_:3})]),_:3},16,["class"]))}},tu={__name:"SelectLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(qt),{class:te(z(On)("px-2 py-1.5 text-sm font-semibold",t.class))},{default:N(()=>[B(e.$slots,"default")]),_:3},8,["class"]))}},lu={__name:"SelectScrollDownButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Ct),E(z(a),{class:z(On)("flex cursor-default items-center justify-center py-1",t.class)}),{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(Ae))])]),_:3},16,["class"]))}},au={__name:"SelectScrollUpButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(St),E(z(a),{class:z(On)("flex cursor-default items-center justify-center py-1",t.class)}),{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(kt))])]),_:3},16,["class"]))}},su={__name:"SelectTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Ot),E(z(a),{class:z(On)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",t.class)}),{default:N(()=>[B(e.$slots,"default"),l[0]||(l[0]=$()),H(z(Ft),{"as-child":""},{default:N(()=>[H(z(Pt),{class:"w-4 h-4 opacity-50 shrink-0"})]),_:1})]),_:3},16,["class"]))}},nu={__name:"SelectValue",props:{placeholder:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(Vt),Y(J(t)),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},ru=ee({__name:"Select",props:mt({items:{},placeholder:{},label:{},itemValue:{default:"id"},itemKey:{default:"name"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=ft(e,"modelValue");return(e,l)=>(D(),M(z(Yr),{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e)},{default:N(()=>[H(z(su),{class:"w-full"},{default:N(()=>[H(z(nu),{placeholder:e.placeholder||"Select an option"},null,8,["placeholder"])]),_:1}),l[2]||(l[2]=$()),H(z(Jr),null,{default:N(()=>[H(z(Zr),null,{default:N(()=>[e.label?(D(),M(z(tu),{key:0},{default:N(()=>[$(se(e.label),1)]),_:1})):T("",!0),l[1]||(l[1]=$()),(D(!0),V(A,null,le(e.items,t=>(D(),M(z(eu),{key:t[e.itemValue],value:t[e.itemValue]},{default:N(()=>[$(se(t[e.itemKey]),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),uu={__name:"Popover",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:t}){const l=U(e,t);return(e,t)=>(D(),M(z(Dt),Y(J(z(l))),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},ou=Object.assign({inheritAttrs:!1},{__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z($t),null,{default:N(()=>[H(z(Tt),E(o(o({},z(n)),e.$attrs),{class:z(On)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),iu={__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(Bt),Y(J(t)),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},du={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},cu={__name:"RangeCalendar",props:{defaultPlaceholder:{type:null,required:!1},defaultValue:{type:Object,required:!1},modelValue:{type:[Object,null],required:!1},placeholder:{type:null,required:!1},allowNonContiguousRanges:{type:Boolean,required:!1},pagedNavigation:{type:Boolean,required:!1},preventDeselect:{type:Boolean,required:!1},weekStartsOn:{type:Number,required:!1},weekdayFormat:{type:String,required:!1},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1},disabled:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},initialFocus:{type:Boolean,required:!1},isDateDisabled:{type:Function,required:!1},isDateUnavailable:{type:Function,required:!1},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","update:placeholder","update:startValue"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=At(s,a);return(e,t)=>(D(),M(z(It),E({class:z(On)("p-3",l.class)},z(n)),{default:N(({grid:e,weekDays:l})=>[H(z(hu),null,{default:N(()=>[H(z(wu)),t[0]||(t[0]=$()),H(z(bu)),t[1]||(t[1]=$()),H(z(xu))]),_:1}),t[3]||(t[3]=$()),I("div",du,[(D(!0),V(A,null,le(e,e=>(D(),M(z(fu),{key:e.value.toString()},{default:N(()=>[H(z(yu),null,{default:N(()=>[H(z(gu),null,{default:N(()=>[(D(!0),V(A,null,le(l,e=>(D(),M(z(_u),{key:e},{default:N(()=>[$(se(e),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),t[2]||(t[2]=$()),H(z(vu),null,{default:N(()=>[(D(!0),V(A,null,le(e.rows,(t,l)=>(D(),M(z(gu),{key:`weekDate-${l}`,class:"mt-2 w-full"},{default:N(()=>[(D(!0),V(A,null,le(t,t=>(D(),M(z(pu),{key:t.toString(),date:t},{default:N(()=>[H(z(mu),{day:t,month:e.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}},pu={__name:"RangeCalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=jt(l);return(e,l)=>(D(),M(z(Rt),E({class:z(On)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:bg-accent first:[&:has([data-selected])]:rounded-l-md last:[&:has([data-selected])]:rounded-r-md [&:has([data-selected][data-outside-view])]:bg-accent/50 [&:has([data-selected][data-selection-end])]:rounded-r-md [&:has([data-selected][data-selection-start])]:rounded-l-md",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},mu={__name:"RangeCalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=jt(l);return(e,l)=>(D(),M(z(Ut),E({class:z(On)(z(En)({variant:"ghost"}),"h-8 w-8 p-0 font-normal data-[selected]:opacity-100","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selection-start]:bg-primary data-[selection-start]:text-primary-foreground data-[selection-start]:hover:bg-primary data-[selection-start]:hover:text-primary-foreground data-[selection-start]:focus:bg-primary data-[selection-start]:focus:text-primary-foreground","data-[selection-end]:bg-primary data-[selection-end]:text-primary-foreground data-[selection-end]:hover:bg-primary data-[selection-end]:hover:text-primary-foreground data-[selection-end]:focus:bg-primary data-[selection-end]:focus:text-primary-foreground","data-[outside-view]:text-muted-foreground data-[outside-view]:opacity-50 [&[data-outside-view][data-selected]]:text-muted-foreground [&[data-outside-view][data-selected]]:opacity-30","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},fu={__name:"RangeCalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=jt(l);return(e,l)=>(D(),M(z(Mt),E({class:z(On)("w-full border-collapse space-y-1",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},vu={__name:"RangeCalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(Nt),Y(J(t)),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},yu={__name:"RangeCalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(Et),Y(J(t)),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},gu={__name:"RangeCalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=jt(l);return(e,l)=>(D(),M(z(zt),E({class:z(On)("flex",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},_u={__name:"RangeCalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=jt(l);return(e,l)=>(D(),M(z(Lt),E({class:z(On)("w-8 rounded-md text-[0.8rem] font-normal text-muted-foreground",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},hu={__name:"RangeCalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=jt(l);return(e,l)=>(D(),M(z(Kt),E({class:z(On)("relative flex w-full items-center justify-between pt-1",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},bu={__name:"RangeCalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=jt(l);return(e,l)=>(D(),M(z(Ht),E({class:z(On)("text-sm font-medium",t.class)},z(a)),{default:N(({headingValue:t})=>[B(e.$slots,"default",{headingValue:t},()=>[$(se(t),1)])]),_:3},16,["class"]))}},xu={__name:"RangeCalendarNextButton",props:{nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=jt(l);return(e,l)=>(D(),M(z(Wt),E({class:z(On)(z(En)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(Gt),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},wu={__name:"RangeCalendarPrevButton",props:{prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=jt(l);return(e,l)=>(D(),M(z(Yt),E({class:z(On)(z(En)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(Qt),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},qu=ee({__name:"DaterangePicker",props:{dateRange:{}},emits:["update:dateRange"],setup(e,{emit:t}){const l=e,a=t,s=new Jt("en-US",{dateStyle:"medium"}),n=x(l.dateRange||{start:null,end:null});return P(n,e=>{a("update:dateRange",{start:e.start,end:e.end})},{deep:!0}),P(()=>l.dateRange,e=>{!e||e.start===n.value.start&&e.end===n.value.end||(n.value={start:e.start,end:e.end})},{deep:!0}),(e,t)=>(D(),M(z(uu),null,{default:N(()=>[H(z(iu),{"as-child":""},{default:N(()=>[H(z(Nn),{variant:"outline",class:te(z(On)("w-[280px] justify-start text-left font-normal",(!n.value||!n.value.start&&!n.value.end)&&"text-muted-foreground"))},{default:N(()=>[H(z(Zt),{class:"mr-2 h-4 w-4"}),t[1]||(t[1]=$()),n.value.start?(D(),V(A,{key:0},[n.value.end?(D(),V(A,{key:0},[$(se(z(s).format(n.value.start.toDate(z(Xt)())))+" - "+se(z(s).format(n.value.end.toDate(z(Xt)()))),1)],64)):(D(),V(A,{key:1},[$(se(z(s).format(n.value.start.toDate(z(Xt)()))),1)],64))],64)):(D(),V(A,{key:1},[$("\n          Pick a date\n        ")],64))]),_:1},8,["class"])]),_:1}),t[2]||(t[2]=$()),H(z(ou),{class:"w-auto p-0"},{default:N(()=>[H(z(cu),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),"initial-focus":"","number-of-months":2},null,8,["modelValue"])]),_:1})]),_:1}))}}),Cu={class:"flex items-center gap-4"},ku=ee({__name:"QueryFilter",props:{ranges:{},outlets:{}},emits:["changeQuery"],setup(e,{emit:t}){const l=t,a=x(),s=x(),n=x(),r=w(()=>{var e,t;return a.value||s.value||(null==(e=n.value)?void 0:e.start)&&(null==(t=n.value)?void 0:t.end)}),u=()=>{a.value=void 0,s.value=void 0,n.value={start:null,end:null},l("changeQuery",null)};return P([a,s,n],()=>{var e,t,r,u;const o={};if(a.value&&(o.range=a.value),s.value&&(o.outlet_id=s.value),(null==(e=n.value)?void 0:e.start)&&(null==(t=n.value)?void 0:t.end)){const e=new Date(n.value.start),t=new Date(n.value.end);o.start_date=`${String(e.getDate()).padStart(2,"0")}-${String(e.getMonth()+1).padStart(2,"0")}-${e.getFullYear()}`,o.end_date=`${String(t.getDate()).padStart(2,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${t.getFullYear()}`}const i=Object.keys(o).length>0,d="custom"!==a.value||(null==(r=n.value)?void 0:r.start)&&(null==(u=n.value)?void 0:u.end);i&&d&&l("changeQuery",o)}),(e,t)=>{var l;return D(),V("div",Cu,[H(ru,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),items:e.ranges,itemValue:"value",itemKey:"label",placeholder:"Select range"},null,8,["modelValue","items"]),t[4]||(t[4]=$()),(null==(l=e.outlets)?void 0:l.length)>0?(D(),M(ru,{key:0,modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),items:e.outlets,placeholder:"Select outlet"},null,8,["modelValue","items"])):T("",!0),t[5]||(t[5]=$()),"custom"===a.value?(D(),M(qu,{key:1,dateRange:n.value,"onUpdate:dateRange":t[2]||(t[2]=e=>n.value=e)},null,8,["dateRange"])):T("",!0),t[6]||(t[6]=$()),r.value?(D(),M(z(Nn),{key:2,variant:"outline",size:"sm",onClick:u},{default:N(()=>[...t[3]||(t[3]=[$("\n            Reset\n        ",-1)])]),_:1})):T("",!0)])}}}),Su={class:"text-2xl font-bold"},Fu={class:"text-xs text-muted-foreground"},Pu=ee({__name:"ProgressCard",props:{title:{},value:{},note:{}},setup:e=>(e,t)=>(D(),M(z(kr),null,{default:N(()=>[H(z(Or),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:N(()=>[H(z(Vr),{class:"text-sm font-medium"},{default:N(()=>[$(se(e.title),1)]),_:1}),t[0]||(t[0]=$()),t[1]||(t[1]=I("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",class:"h-4 w-4 text-muted-foreground"},[I("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})],-1))]),_:1}),t[3]||(t[3]=$()),H(z(Sr),null,{default:N(()=>[I("div",Su,se(e.value),1),t[2]||(t[2]=$()),I("p",Fu,se(e.note),1)]),_:1})]),_:1}))}),Ou={style:{width:"100%"}},Vu=ee({__name:"Chart",props:{chartConfig:{}},setup(e){const t=e,l=x(null),a=x(null),s=x(null),n=x(!1),r=()=>{if(l.value&&(l.value.destroy(),l.value=null),s.value&&(s.value.disconnect(),s.value=null),a.value){const e=a.value.getContext("2d");e&&e.clearRect(0,0,a.value.width,a.value.height)}},u=()=>c(null,null,function*(){if(!n.value){n.value=!0;try{if(yield tl(),!a.value)return;const e=a.value.getContext("2d");if(!e)return;if(r(),!t.chartConfig)return;l.value=new ll(e,o({},t.chartConfig)),s.value=new ResizeObserver(()=>{l.value&&l.value.resize()}),s.value.observe(a.value)}catch(e){r()}}});return k(()=>c(null,null,function*(){yield u()})),el(()=>{r()}),P(()=>t.chartConfig,(e,t)=>c(null,null,function*(){e!==t&&(yield tl(),yield u())}),{deep:!0,immediate:!0}),(e,t)=>(D(),V("div",Ou,[I("canvas",{ref_key:"canvasRef",ref:a},null,512)]))}}),Du={class:"flex items-center justify-between space-y-2"},Tu=ee({__name:"ChartWrapper",props:{title:{default:"Sales Analytics"}},setup:e=>(e,t)=>(D(),M(z(kr),null,{default:N(()=>[H(z(Or),null,{default:N(()=>[H(z(Vr),null,{default:N(()=>[$(se(e.title),1)]),_:1})]),_:1}),t[0]||(t[0]=$()),H(z(Sr),null,{default:N(()=>[I("div",Du,[B(e.$slots,"default")])]),_:3})]),_:3}))}),$u=ee({__name:"CustomerChart",props:{customerData:{}},setup(e){const t=e,l=al(),a=w(()=>t.customerData?(e=>{const t={labels:[],datasets:[{label:"Total Spent",data:[],backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1,yAxisID:"y"},{label:"Number of Orders",data:[],backgroundColor:"rgba(246, 59, 130, 0.5)",borderColor:"rgb(246, 59, 130)",borderWidth:1,yAxisID:"y1"}]};return e.top_customers&&0!==e.top_customers.length?{type:"bar",data:{labels:e.top_customers.map(e=>e.name),datasets:[{label:"Total Spent",data:e.top_customers.map(e=>e.total_spent),backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1,yAxisID:"y"},{label:"Number of Orders",data:e.top_customers.map(e=>e.orders),backgroundColor:"rgba(246, 59, 130, 0.5)",borderColor:"rgb(246, 59, 130)",borderWidth:1,yAxisID:"y1"}]},options:{responsive:!0,scales:{y:{type:"linear",position:"left",beginAtZero:!0,ticks:{callback:e=>`$${e}`}},y1:{type:"linear",position:"right",beginAtZero:!0,grid:{drawOnChartArea:!1}}},plugins:{legend:{display:!0,position:"top"},tooltip:{callbacks:{label:e=>{const t=e.dataset.label||"";return"Total Spent"===t?`${t}: $${e.parsed.y}`:`${t}: ${e.parsed.y}`}}}}}}:{type:"bar",data:t,options:{responsive:!0,scales:{y:{type:"linear",position:"left",beginAtZero:!0,ticks:{callback:e=>`$${e}`}},y1:{type:"linear",position:"right",beginAtZero:!0,grid:{drawOnChartArea:!1}}},plugins:{legend:{display:!0,position:"top"},tooltip:{callbacks:{label:e=>{const t=e.dataset.label||"";return"Total Spent"===t?`${t}: $${e.parsed.y}`:`${t}: ${e.parsed.y}`}}}}}}})(t.customerData):null);return(e,t)=>(D(),M(Tu,{title:"Customer Analytics"},{default:N(()=>[a.value?(D(),M(Vu,{key:z(l),chartConfig:a.value},null,8,["chartConfig"])):T("",!0)]),_:1}))}}),Bu=ee({__name:"SalesChart",props:{salesData:{}},setup(e){const t=e,l=w(()=>{return t.salesData?(e=t.salesData,{type:"bar",data:{labels:Object.keys(e.sales_by_date),datasets:[{label:"Daily Sales",data:Object.values(e.sales_by_date),backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,ticks:{callback:e=>`$${e}`}}},plugins:{legend:{display:!0,position:"top"},tooltip:{callbacks:{label:e=>`Sales: $${e.parsed.y}`}}}}}):null;var e});return(e,t)=>(D(),M(Tu,{title:"Sales Analytics"},{default:N(()=>[l.value?(D(),M(Vu,{key:JSON.stringify(l.value),chartConfig:l.value},null,8,["chartConfig"])):T("",!0)]),_:1}))}}),Au=ee({__name:"StickyFooterLayout",props:{headerHeight:{type:Number,default:64}},setup(e){const t=w(()=>window.matchMedia("(max-width: 767px)").matches);return(l,a)=>(D(),V("div",{class:"flex flex-col",style:rt(`height: calc(100vh - ${e.headerHeight}px)`)},[I("div",{style:rt({zoom:t.value?.9:1})},[B(l.$slots,"header")],4),a[0]||(a[0]=$()),I("div",{class:"flex-1 overflow-y-auto",style:rt({zoom:t.value?.9:1})},[B(l.$slots,"default")],4),a[1]||(a[1]=$()),I("footer",{style:rt({zoom:t.value?.9:1})},[B(l.$slots,"footer")],4)],4))}}),Iu={class:"w-full h-auto border rounded-md shadow-sm bg-white"},ju={class:"p-2 pb-0 relative"},Ru=["rows","onKeydown"],Uu={class:"absolute right-2 bottom-1"},Mu={class:"p-2 py-1.5 border-t flex justify-between gap-1 bg-accent"},Nu={class:"flex justify-start gap-2"},Eu={class:"flex justify-center items-center text-xs gap-1 cursor-pointer opacity-50 hover:opacity-80"},zu={class:"flex justify-end gap-2"},Lu={class:"flex justify-center items-center text-xs gap-1 cursor-pointer opacity-50 hover:opacity-80"},Ku={class:"flex justify-center items-center text-xs gap-1 cursor-pointer opacity-50 hover:opacity-80"},Hu=ee({__name:"PromptInput",props:{modelValue:{},loading:{type:Boolean},rows:{}},emits:["update:modelValue","submit"],setup(e,{emit:t}){const{textarea:l,input:a}=sl({styleProp:"minHeight"}),s=e,n=t,r=()=>{n("update:modelValue",a.value),n("submit",a.value)};return P(()=>s.modelValue,e=>{a.value=e}),P(()=>a.value,e=>{n("update:modelValue",e)}),(e,t)=>(D(),V("div",Iu,[I("div",ju,[Xe(I("textarea",{ref_key:"textarea",ref:l,"onUpdate:modelValue":t[0]||(t[0]=e=>at(a)?a.value=e:null),class:"text-sm resize-none w-full pr-9 border-nonne focus-visible:ring-0 focus-visible:outline-none shadow-none overflow-hidden",placeholder:"What's on your mind?",rows:s.rows,onKeydown:[rl(ul(r,["exact","prevent"]),["enter"]),t[1]||(t[1]=rl(ul(()=>{},["shift","exact","stop"]),["enter"]))]},null,40,Ru),[[nl,z(a)]]),t[2]||(t[2]=$()),I("div",Uu,[e.modelValue.length>0?(D(),M(z(Nn),{key:0,variant:"secondary",class:"rounded-full w-7 h-7 px-2 py-2 hover:opacity-80",type:"submit",onClick:r},{default:N(()=>[e.loading?(D(),M(z(ol),{key:0,class:"w-4 h-4 animate-spin"})):(D(),M(z(il),{key:1,class:"w-4 h-4"}))]),_:1})):T("",!0)])]),t[8]||(t[8]=$()),I("div",Mu,[I("div",Nu,[I("span",Eu,[t[3]||(t[3]=$("\n                    Ai Model.3",-1)),H(z(dl),{class:"w-4 h-4"})])]),t[7]||(t[7]=$()),I("div",zu,[I("span",Lu,[H(z(cl),{class:"w-4 h-4"}),t[4]||(t[4]=$(" ShortCut\n                ",-1))]),t[6]||(t[6]=$()),I("span",Ku,[H(z(pl),{class:"w-4 h-4"}),t[5]||(t[5]=$(" Attach\n                ",-1))])])])]))}}),Gu={__name:"ScrollBar",props:{orientation:{type:String,required:!1,default:"vertical"},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(a,s)=>(D(),M(z(fl),E(l.value,{class:z(On)("flex touch-none select-none transition-colors","vertical"===e.orientation&&"h-full w-2.5 border-l border-l-transparent p-px","horizontal"===e.orientation&&"h-2.5 flex-col border-t border-t-transparent p-px",t.class)}),{default:N(()=>[H(z(ml),{class:"relative flex-1 rounded-full bg-border"})]),_:1},16,["class"]))}},Wu={__name:"ScrollArea",props:{type:{type:String,required:!1},dir:{type:String,required:!1},scrollHideDelay:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(gl),E(l.value,{class:z(On)("relative overflow-hidden",t.class)}),{default:N(()=>[H(z(vl),{class:"h-full w-full rounded-[inherit]"},{default:N(()=>[B(e.$slots,"default")]),_:3}),a[0]||(a[0]=$()),H(Gu),a[1]||(a[1]=$()),H(z(yl))]),_:3},16,["class"]))}},Qu={class:"flex flex-wrap gap-2"},Yu=ee({__name:"SuggestPrompt",props:{prompts:{},size:{},icon:{}},emits:["select"],setup(e,{emit:t}){const l=t;return(e,t)=>(D(),V("div",Qu,[(D(!0),V(A,null,le(e.prompts,t=>(D(),M(z(Nn),{key:t.id,onClick:e=>(e=>{l("select",e)})(t),type:"button",class:"w-fit rounded-full",variant:"outline",icon:e.icon,size:e.size},{default:N(()=>[B(e.$slots,"default"),$(se(t.title),1)]),_:2},1032,["onClick","icon","size"]))),128))]))}}),Ju=["innerHTML"],Zu=ee(i(o({},{name:"Markdown"}),{__name:"Markdown",props:{content:{},htmlContent:{},wrapperClass:{},removeMargin:{type:Boolean}},setup(e){const t=new _l({typographer:!0}),l=e,a=e=>String(e||"").trim().replace(/^```(\w+)?/,"").trim().replace(/```$/,"").trim(),s=w(()=>{return a(l.htmlContent)||(e=l.content||"",/<(?!chart\b)([a-z][\w-]*)(\s[^>]*)?>[\s\S]*<\/\1>/i.test(e))?a(l.content):t.render(a((e=>{let t=!1;return(e||"").split(/(<chart\b[^>]*>|<\/chart>)/gi).map(e=>e.toLowerCase().startsWith("<chart")?(t=!0,"Chart generating..."):"</chart>"===e.toLowerCase()?(t=!1,""):t?"":e).join("")})(l.content)));var e});return(e,t)=>z(_.isString)(s.value)?(D(),V("div",{key:0,class:te(["prose",z(j)("break-words !text-[16px] font-light leading-[30px]",e.wrapperClass)]),innerHTML:s.value},null,10,Ju)):T("",!0)}})),Xu={aiBaseURL:"https://api.crafely.space/api/v1"};function eo(e,t){return m(this,null,function*(){const l=localStorage.getItem("_token"),a=yield new p(fetch(`${Xu.aiBaseURL}/${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(t)}));if(!a.body)throw new Error("No response body");const s=[];let n=!1,r=()=>{};const u=hl({onEvent:e=>{try{const t=JSON.parse(e.data);s.push(t),r()}catch(t){}}});const o=a.body.getReader(),i=new TextDecoder;c(null,null,function*(){try{for(;;){const{done:e,value:t}=yield o.read();if(e){n=!0,r();break}const l=i.decode(t,{stream:!0});u.feed(l)}}catch(e){n=!0,r()}});try{for(var d,v,y,g=f(function(){return m(this,null,function*(){for(;!n||s.length>0;)for(0===s.length&&(yield new p(new Promise(e=>{r=e})));s.length>0;)yield s.shift()})}());d=!(v=yield new p(g.next())).done;d=!1){const e=v.value;yield e}}catch(v){y=[v]}finally{try{d&&(v=g.return)&&(yield new p(v.call(g)))}finally{if(y)throw y[0]}}})}const to=e=>yn(((e,t)=>({baseURL:e,headers:{Authorization:`Bearer ${t}`}}))(Xu.aiBaseURL,e)),lo=()=>{const e=localStorage.getItem("_token"),t=to(e);return i(o({},t),{sendMessage:(e,t,l)=>c(null,null,function*(){var a,s,n;let r="";const u=eo(e,t);try{for(var o,i,d,c=f(u);o=!(i=yield c.next()).done;o=!1){const e=i.value;"text_created"===e.type&&(null==(a=null==l?void 0:l.textCreated)||a.call(l)),"text_delta"===e.type&&(r+=e.content,null==(s=null==l?void 0:l.textDelta)||s.call(l,{value:r})),"text_done"===e.type&&(null==(n=null==l?void 0:l.textDone)||n.call(l,{value:e.content}))}}catch(i){d=[i]}finally{try{o&&(i=c.return)&&(yield i.call(c))}finally{if(d)throw d[0]}}}),sendMessageWithTool:(e,...t)=>c(null,[e,...t],function*(e,t={},l={},a){var s,n,r,u,i;const{sessionId:d}=t,p=eo(e,t);let m="",v={tools:[],signatures:[]};try{for(var y,g,_,h=f(p);y=!(g=yield h.next()).done;y=!1){const e=g.value;"text_created"===e.type&&(null==(s=null==a?void 0:a.textCreated)||s.call(a)),"text_delta"===e.type&&(m+=e.content,null==(n=null==a?void 0:a.textDelta)||n.call(a,{value:m})),"text_done"===e.type&&(null==(r=null==a?void 0:a.textDone)||r.call(a,{value:e.content})),"tool_call"===e.type&&(v=e.tool_call)}}catch(g){_=[g]}finally{try{y&&(g=h.return)&&(yield g.call(h))}finally{if(_)throw _[0]}}if(!v.tools.length)return;v.tools=yield Promise.all(v.tools.map(e=>c(null,null,function*(){var t;return{content:(yield null==(t=l[e.name])?void 0:t.call(l,e.args))||"",tool_call_id:e.id}})));const b=eo(e,o({sessionId:d,prompt:null},v));let x="";try{for(var w,q,C,k=f(b);w=!(q=yield k.next()).done;w=!1){const e=q.value;"text_created"===e.type&&(null==(u=null==a?void 0:a.textCreated)||u.call(a)),"text_delta"===e.type&&(x+=e.content,null==(i=null==a?void 0:a.textDelta)||i.call(a,{value:x})),e.type}}catch(q){C=[q]}finally{try{w&&(q=k.return)&&(yield q.call(k))}finally{if(C)throw C[0]}}v.tools=[]}),sendMessageWithStructure:(e,l)=>c(null,null,function*(){return yield t.post(e,l)}),getMessages:e=>c(null,null,function*(){const{data:l,success:a}=yield t.get("chat/messages",{params:{sessionId:e}});return a?l:[]})})},ao=b("thread",()=>{const e=hn(),t=x([]),l=x(),a=x(!1),s=localStorage.getItem("_token"),{get:n,post:r,put:u,remove:o}=to(s);return{threads:t,getThreads:()=>c(null,null,function*(){const{data:e,success:l}=yield n("thread");return t.value=e,{data:e,success:l}}),activeThread:l,setActiveThread:e=>{l.value=t.value.find(t=>t.id===e)},updateThread:e=>c(null,null,function*(){a.value=!0;try{const{data:l,error:a,success:s,message:n}=yield u(`thread/${e.id}`,e);return s&&(t.value=t.value.map(t=>t.id===e.id?l:t)),q[s?"success":"error"](n),{data:l,error:a,success:s,message:n}}catch(l){throw l}finally{a.value=!1}}),createThread:l=>c(null,null,function*(){a.value=!0;try{const{data:a,error:s,success:n,message:u}=yield r("thread",l,{auth:e.userCredentials});return n&&(t.value=Array.from([...t.value,a])),q[n?"success":"error"](u),{data:a,error:s,success:n,message:u}}catch(s){throw s}finally{a.value=!1}}),deleteThread:e=>c(null,null,function*(){const{message:l,success:a}=yield o(`thread/${e}`);a&&(t.value=t.value.filter(t=>t.id!==e)),q.success(l)})}}),so={__name:"AlertDialog",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:t}){const l=U(e,t);return(e,t)=>(D(),M(z(bl),Y(J(z(l))),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},no={__name:"AlertDialogCancel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(xl),E(l.value,{class:z(On)(z(En)({variant:"outline"}),"mt-2 sm:mt-0",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},ro={__name:"AlertDialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(Cl),null,{default:N(()=>[H(z(wl),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),t[0]||(t[0]=$()),H(z(ql),E(z(n),{class:z(On)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",l.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"])]),_:3}))}},uo={__name:"AlertDialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(kl),E(l.value,{class:z(On)("text-sm text-muted-foreground",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},oo={__name:"AlertDialogFooter",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("div",{class:te(z(On)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",t.class))},[B(e.$slots,"default")],2))}},io={__name:"AlertDialogHeader",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("div",{class:te(z(On)("flex flex-col gap-y-2 text-center sm:text-left",t.class))},[B(e.$slots,"default")],2))}},co={__name:"AlertDialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(Sl),E(l.value,{class:z(On)("text-lg font-semibold",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},po=ee({__name:"ConfirmDialog",props:mt({title:{},description:{},deleting:{type:Boolean}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:mt(["confirm"],["update:modelValue"]),setup(e){const t=ft(e,"modelValue");return(e,l)=>(D(),M(z(so),{open:t.value,"onUpdate:open":l[1]||(l[1]=e=>t.value=e)},{default:N(()=>[H(z(ro),null,{default:N(()=>[H(z(io),null,{default:N(()=>[H(z(co),null,{default:N(()=>[$(se(e.title),1)]),_:1}),l[2]||(l[2]=$()),e.description?(D(),M(z(uo),{key:0},{default:N(()=>[$(se(e.description),1)]),_:1})):T("",!0)]),_:1}),l[6]||(l[6]=$()),H(z(oo),null,{default:N(()=>[H(z(no),null,{default:N(()=>[...l[3]||(l[3]=[$("Cancel",-1)])]),_:1}),l[5]||(l[5]=$()),H(z(Nn),{disabled:e.deleting,onClick:l[0]||(l[0]=t=>e.$emit("confirm"))},{default:N(()=>[e.deleting?(D(),M(z(de),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):T("",!0),l[4]||(l[4]=$("\n                    Confirm\n                ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}}),mo=()=>{const e=x(null),t=x(!1),l=x(!1);return{deleting:t,showConfirmDialog:l,handleDelete:t=>{l.value=!0,e.value=t},confirmDelete:a=>c(null,null,function*(){t.value=!0,yield a(e.value),e.value=null,t.value=!1,l.value=!1})}},fo=()=>{const e=ao(),{threads:t,activeThread:l}=lt(e),a=S(),s=F(),n=_.debounce(()=>c(null,null,function*(){var t,a;e.updateThread({id:null==(t=l.value)?void 0:t.id,name:null==(a=l.value)?void 0:a.name})}),2e3),r=t=>c(null,null,function*(){e.setActiveThread(t),yield a.replace({name:s.name,query:i(o({},s.query),{thread_id:t})})});return{threads:t,activeThread:l,updateThread:n,createThread:()=>c(null,null,function*(){const{data:t}=yield e.createThread({name:"Default thread"});e.setActiveThread(t.id),r(t.id)}),deleteThread:l=>c(null,null,function*(){yield e.deleteThread(l),t.value.length>0?r(t.value[0].id):(e.setActiveThread(null),a.replace({name:s.name,query:i(o({},s.query),{thread_id:null})}))}),switchThread:r,initializeThread:()=>c(null,null,function*(){yield c(null,null,function*(){yield e.getThreads()}),s.query.thread_id?r(s.query.thread_id):t.value.length>0&&r(t.value[0].id)})}},vo={class:"ml-auto flex items-center gap-2"},yo={class:"max-h-[520px] overflow-auto"},go=["onClick"],_o={class:"space-y-1"},ho={class:"text-sm font-normal leading-none line-clamp-2"},bo={key:0,class:"flex-grow overflow-y-auto space-y-4 my-4"},xo={key:1},wo={class:"sticky bottom-0 flex justify-between items-center gap-2 py-2 bg-white dark:bg-gray-800 border-t"},qo=ee({__name:"Index",setup(e){const t=ao(),{threads:l,activeThread:a}=lt(t);F();const{initializeThread:s,createThread:n,deleteThread:r,switchThread:u,updateThread:o}=fo(),{form:i,messages:d,suggestPrompts:p,handleSendMessage:m,loadMessages:f}=(()=>{const{sendMessageWithTool:e,getMessages:t}=lo(),{getDashboardSummary:l}=xn(),a=x([]),s=x({prompt:"",loading:!1}),n=x([{id:1,title:"Add Product",content:"Generate an e-commerce product with name, price, and SKU. Example: iPhone 11 Pro Max, $100, SKU iphone-11"},{id:2,title:"Stock Update",content:"Update the stock quantity for a product. Example: Update stock for SKU iphone-11 to 50 units."},{id:3,title:"Sales Report",content:"Generate a sales report for the last month. Example: Show sales report for September 2023."},{id:4,title:"Low Stock",content:"List all products with low stock. Example: Show products with stock less than 10 units."},{id:5,title:"Order Status",content:"Check the status of an order. Example: Check status for Order ID 12345."}]),r=F(),u={get_dashboard_summary:e=>c(null,null,function*(){let{data:t}=yield l(e);return JSON.stringify(t||{})})};return{form:s,messages:a,suggestPrompts:n,loadMessages:e=>c(null,null,function*(){a.value=[],a.value=yield t(e)}),handleSendMessage:()=>c(null,null,function*(){if(!s.value.prompt)return;s.value.loading=!0,a.value.push({role:"user",content:s.value.prompt});const t={prompt:s.value.prompt,sessionId:r.query.thread_id,tools_schema:[{name:"get_dashboard_summary",description:"Provide dashboard summary by date range, summary means total order, total customer registration etc",args:{start_date:{type:"string",description:"start date ex, 01-01-2025"},end_date:{type:"string",description:"end date ex, 01-01-2025"}}}]};s.value.prompt="",a.value.push({role:"assistant",content:"Thinking ..."}),yield e("chat/completion",t,u,{textCreated:()=>{a.value[a.value.length-1].content=""},textDelta:({value:e})=>{a.value[a.value.length-1].content=e},textDone:({value:e})=>{}}),s.value.loading=!1})}})(),{deleting:v,showConfirmDialog:y,handleDelete:_,confirmDelete:h}=mo();x(!1);const b=x(null),w=()=>{var e;null==(e=b.value)||e.scrollIntoView({behavior:"smooth"})};Fl(()=>{d.value.length>0&&tl(()=>{w()})});return k(()=>c(null,null,function*(){yield s(),a.value&&(yield f(a.value.id)),w()})),(e,t)=>(D(),V(A,null,[H(z(kr),{class:"overflow-hidden rounded-none shadow-none border-none"},{default:N(()=>[H(z(Or),{class:"flex flex-row items-start gap-x-2 bg-muted/50"},{default:N(()=>[H(z(Vr),{class:"flex-grow"},{default:N(()=>[z(a)?Xe((D(),V("input",{key:0,type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>z(a).name=e),class:"bg-transparent focus:outline-none focus:ring-0 focus:border-transparent text-lg font-semibold min-w-full hover:ring-1",onInput:t[1]||(t[1]=(...e)=>z(o)&&z(o)(...e))},null,544)),[[nl,z(a).name]]):T("",!0)]),_:1}),t[16]||(t[16]=$()),I("div",vo,[H(z(Nn),{size:"sm",variant:"outline",onClick:z(n)},{default:N(()=>[H(z(Pl)),t[8]||(t[8]=$(" Create\n                ",-1))]),_:1},8,["onClick"]),t[14]||(t[14]=$()),H(z(uu),null,{default:N(()=>[H(z(iu),{"as-child":""},{default:N(()=>[H(z(Nn),{size:"sm",variant:"outline"},{default:N(()=>[H(z(Ol)),t[9]||(t[9]=$(" List\n                        ",-1))]),_:1})]),_:1}),t[12]||(t[12]=$()),H(z(ou),{class:"w-80 mr-5 p-0"},{default:N(()=>[I("div",yo,[(D(!0),V(A,null,le(z(l),e=>{var l;return D(),V("div",{key:e.id,class:te(["flex relative items-center gap-2 mb-2 cursor-pointer hover:bg-slate-100 p-2",[e.id===(null==(l=z(a))?void 0:l.id)?"bg-slate-100":"bg-white dark:bg-gray-800"]]),onClick:t=>{return l=e.id,c(null,null,function*(){u(l),yield f(l)});var l}},[H(z(g),{class:"flex-shrink-0 w-5 h-5"}),t[10]||(t[10]=$()),I("div",_o,[I("p",ho,se(e.name),1)]),t[11]||(t[11]=$()),H(z(Nn),{size:"sm",variant:"ghost",onClick:ul(t=>z(_)(e.id),["stop"]),class:"ml-auto h-5 w-5 flex-shrink-0 rounded-full hover:text-red-500 hover:bg-red-100"},{default:N(()=>[H(z(Pe))]),_:1},8,["onClick"])],10,go)}),128))])]),_:1})]),_:1}),t[15]||(t[15]=$()),H(z(Nn),{size:"sm",variant:"outline",onClick:t[2]||(t[2]=t=>e.$emit("onCancel"))},{default:N(()=>[H(z(Vl)),t[13]||(t[13]=$(" Config\n                ",-1))]),_:1})])]),_:1}),t[19]||(t[19]=$()),H(z(Sr),null,{default:N(()=>[H(z(Wu),{class:"flex flex-col h-[calc(100vh-340px)]"},{default:N(()=>[z(d).length?(D(),V("div",bo,[(D(!0),V(A,null,le(z(d),e=>(D(),V("div",{key:e.id,class:te(["flex w-max max-w-[90%] flex-col gap-2 border shadow rounded-lg px-3 py-2 text-sm overflow-x-auto","user"===e.role?"ml-auto bg-accent":""])},[H(Zu,{content:e.content},null,8,["content"])],2))),128))])):(D(),V("div",xo,[H(Yu,{class:"py-4 justify-center",prompts:z(p),size:"sm",onSelect:t[3]||(t[3]=e=>z(i).prompt=e.content)},null,8,["prompts"])])),t[17]||(t[17]=$()),I("div",{ref_key:"endOfMessages",ref:b},null,512)]),_:1}),t[18]||(t[18]=$()),I("div",wo,[H(Hu,{modelValue:z(i).prompt,"onUpdate:modelValue":t[4]||(t[4]=e=>z(i).prompt=e),loading:z(i).loading,onSubmit:t[5]||(t[5]=e=>z(m)())},null,8,["modelValue","loading"])])]),_:1})]),_:1}),t[20]||(t[20]=$()),H(z(po),{title:"Are you sure you want to delete this Assistant?",description:"This action will move the product to the trash and can be restored within 30 days.",modelValue:z(y),"onUpdate:modelValue":t[6]||(t[6]=e=>at(y)?y.value=e:null),deleting:z(v),onConfirm:t[7]||(t[7]=e=>z(h)(z(r)))},null,8,["modelValue","deleting"])],64))}}),Co={class:"flex flex-wrap items-center justify-between px-2"},ko={key:0,class:"flex-1 text-sm text-muted-foreground"},So={class:"flex items-center justify-between space-x-4 md:space-x-6 lg:space-x-8"},Fo={key:0,class:"flex items-center space-x-2"},Po={class:"flex w-[100px] items-center justify-center text-sm font-medium"},Oo={class:"flex items-center space-x-2"},Vo={__name:"DataTablePagination",props:{table:{type:Object,required:!0},simplePagination:{type:Boolean,default:!1}},setup:e=>(t,l)=>(D(),V("div",Co,[e.simplePagination?T("",!0):(D(),V("div",ko,se(e.table.getFilteredSelectedRowModel().rows.length)+" of\n            "+se(e.table.getFilteredRowModel().rows.length)+" row(s) selected.\n        ",1)),l[20]||(l[20]=$()),I("div",So,[e.simplePagination?T("",!0):(D(),V("div",Fo,[l[5]||(l[5]=I("p",{class:"text-sm font-medium"},"Rows per page",-1)),l[6]||(l[6]=$()),H(z(Yr),{"model-value":`${e.table.getState().pagination.pageSize}`,"onUpdate:modelValue":e.table.setPageSize},{default:N(()=>[H(z(su),{class:"h-8 w-[70px]"},{default:N(()=>[H(z(nu),{placeholder:`${e.table.getState().pagination.pageSize}`},null,8,["placeholder"])]),_:1}),l[4]||(l[4]=$()),H(z(Jr),{side:"top"},{default:N(()=>[(D(),V(A,null,le([5,10,15,20,25,30,40,50],e=>H(z(eu),{key:e,value:`${e}`},{default:N(()=>[$(se(e),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])])),l[18]||(l[18]=$()),I("div",Po,"\n                Page "+se(e.table.getState().pagination.pageIndex+1)+" of\n                "+se(e.table.getPageCount()),1),l[19]||(l[19]=$()),I("div",Oo,[H(z(Nn),{variant:"outline",class:"hidden h-8 w-8 p-0 lg:flex",disabled:!e.table.getCanPreviousPage(),onClick:l[0]||(l[0]=t=>e.table.setPageIndex(0))},{default:N(()=>[l[7]||(l[7]=I("span",{class:"sr-only"},"Go to first page",-1)),l[8]||(l[8]=$()),H(z(Dl),{class:"h-4 w-4"})]),_:1},8,["disabled"]),l[15]||(l[15]=$()),H(z(Nn),{variant:"outline",class:"h-8 w-8 p-0",disabled:!e.table.getCanPreviousPage(),onClick:l[1]||(l[1]=t=>e.table.previousPage())},{default:N(()=>[l[9]||(l[9]=I("span",{class:"sr-only"},"Go to previous page",-1)),l[10]||(l[10]=$()),H(z(Tl),{class:"h-4 w-4"})]),_:1},8,["disabled"]),l[16]||(l[16]=$()),H(z(Nn),{variant:"outline",class:"h-8 w-8 p-0",disabled:!e.table.getCanNextPage(),onClick:l[2]||(l[2]=t=>e.table.nextPage())},{default:N(()=>[l[11]||(l[11]=I("span",{class:"sr-only"},"Go to next page",-1)),l[12]||(l[12]=$()),H(z($l),{class:"h-4 w-4"})]),_:1},8,["disabled"]),l[17]||(l[17]=$()),H(z(Nn),{variant:"outline",class:"hidden h-8 w-8 p-0 lg:flex",disabled:!e.table.getCanNextPage(),onClick:l[3]||(l[3]=t=>e.table.setPageIndex(e.table.getPageCount()-1))},{default:N(()=>[l[13]||(l[13]=I("span",{class:"sr-only"},"Go to last page",-1)),l[14]||(l[14]=$()),H(z(Bl),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])]))},Do={class:"space-y-4"},To=ee({__name:"DataTable",props:{columns:{},data:{},pagination:{},reFetch:{type:Function},simplePagination:{},activeProduct:{}},emits:["change:pagination","rowClick"],setup(e,{emit:t}){const l=e,{table:a}=(e=>{const t=x([]),l=x([]),a=x({}),s=x({});let n=null;return n=e.reFetch?Al({manualPagination:!0,get pageCount(){return e.pagination.pageCount},get data(){return e.data},get columns(){return e.columns},state:{get sorting(){return t.value},get columnFilters(){return l.value},get columnVisibility(){return a.value},get rowSelection(){return s.value},get pagination(){return e.pagination}},enableRowSelection:!0,onSortingChange:e=>Vn(e,t),onColumnFiltersChange:e=>Vn(e,l),onColumnVisibilityChange:e=>Vn(e,a),onRowSelectionChange:e=>Vn(e,s),onPaginationChange:t=>{const l="function"==typeof t?t(e.pagination):t;_.isEqual(e.pagination,l)||(Object.assign(e.pagination,l),e.reFetch(e.pagination))},getCoreRowModel:Nl(),getFilteredRowModel:Ml(),getPaginationRowModel:Ul(),getSortedRowModel:Rl(),getFacetedRowModel:jl(),getFacetedUniqueValues:Il()}):Al({get data(){return e.data},get columns(){return e.columns},state:{get sorting(){return t.value},get columnFilters(){return l.value},get columnVisibility(){return a.value},get rowSelection(){return s.value}},enableRowSelection:!0,onSortingChange:e=>Vn(e,t),onColumnFiltersChange:e=>Vn(e,l),onColumnVisibilityChange:e=>Vn(e,a),onRowSelectionChange:e=>Vn(e,s),getCoreRowModel:Nl(),getFilteredRowModel:Ml(),getPaginationRowModel:Ul(),getSortedRowModel:Rl(),getFacetedRowModel:jl(),getFacetedUniqueValues:Il()}),{table:n}})(l);return(e,t)=>(D(),V("div",Do,[B(e.$slots,"toolbar",{table:z(a)}),t[1]||(t[1]=$()),B(e.$slots,"tbody",{table:z(a)},()=>[H(z(yi),{onRowClick:t[0]||(t[0]=t=>e.$emit("rowClick",t)),table:z(a),columns:e.columns,activeProduct:e.activeProduct},null,8,["table","columns","activeProduct"])]),t[2]||(t[2]=$()),H(Vo,{table:z(a),simplePagination:e.simplePagination},null,8,["table","simplePagination"])]))}}),$o={class:"flex justify-between"},Bo={class:"flex flex-1 flex-wrap items-center gap-2"},Ao={__name:"DataTableToolbar",props:{table:{type:Object,required:!0}},setup(e){const t=e,l=w(()=>t.table.getState().columnFilters.length>0);return(t,a)=>(D(),V("div",$o,[I("div",Bo,[B(t.$slots,"search"),a[2]||(a[2]=$()),B(t.$slots,"filter"),a[3]||(a[3]=$()),l.value?(D(),M(z(Nn),{key:0,variant:"ghost",class:"h-8 px-2 lg:px-3",onClick:a[0]||(a[0]=t=>e.table.resetColumnFilters())},{default:N(()=>[a[1]||(a[1]=$("\n                Reset\n                ",-1)),H(z(Pe),{class:"ml-2 h-4 w-4"})]),_:1})):T("",!0)]),a[4]||(a[4]=$()),B(t.$slots,"viewOption")]))}},Io={__name:"Badge",props:{variant:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e;return(l,a)=>(D(),V("div",{class:te(z(On)(z(jo)({variant:e.variant}),t.class))},[B(l.$slots,"default")],2))}},jo=oe("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Ro={__name:"Command",props:{modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},open:{type:Boolean,required:!1,default:!0},defaultOpen:{type:Boolean,required:!1},searchTerm:{type:String,required:!1},selectedValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},dir:{type:String,required:!1},filterFunction:{type:Function,required:!1},displayValue:{type:Function,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","update:open","update:searchTerm","update:selectedValue"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(El),E(z(n),{class:z(On)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",l.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Uo={__name:"Dialog",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:t}){const l=U(e,t);return(e,t)=>(D(),M(z(Ce),Y(J(z(l))),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},Mo={__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(zl),E(z(a),{class:z(On)("text-sm text-muted-foreground",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},No={__name:"DialogHeader",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("div",{class:te(z(On)("flex flex-col gap-y-1.5 text-center sm:text-left",t.class))},[B(e.$slots,"default")],2))}},Eo={__name:"DialogScrollContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(Oe),null,{default:N(()=>[H(z(Se),{class:"fixed inset-0 z-50 grid place-items-center overflow-y-auto bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"},{default:N(()=>[H(z(Fe),E({class:z(On)("relative z-50 grid w-full max-w-lg my-8 gap-4 border border-border bg-background p-6 shadow-lg duration-200 sm:rounded-lg md:w-full",l.class)},z(n),{onPointerDownOutside:t[0]||(t[0]=e=>{const t=e.detail.originalEvent,l=t.target;(t.offsetX>l.clientWidth||t.offsetY>l.clientHeight)&&e.preventDefault()})}),{default:N(()=>[B(e.$slots,"default"),t[3]||(t[3]=$()),H(z(ke),{class:"absolute top-4 right-4 p-0.5 transition-colors rounded-md hover:bg-secondary"},{default:N(()=>[H(z(Pe),{class:"w-4 h-4"}),t[1]||(t[1]=$()),t[2]||(t[2]=I("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3})]),_:3}))}},zo={__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Ll),E(z(a),{class:z(On)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Lo={__name:"CommandEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(Kl),E(l.value,{class:z(On)("py-6 text-center text-sm",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Ko={__name:"CommandGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},heading:{type:String,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(a,s)=>(D(),M(z(Gl),E(l.value,{class:z(On)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t.class)}),{default:N(()=>[e.heading?(D(),M(z(Hl),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:N(()=>[$(se(e.heading),1)]),_:1})):T("",!0),s[0]||(s[0]=$()),B(a.$slots,"default")]),_:3},16,["class"]))}},Ho={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},Go=Object.assign({inheritAttrs:!1},{__name:"CommandInput",props:{type:{type:String,required:!1},disabled:{type:Boolean,required:!1},autoFocus:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},iconClass:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),V("div",Ho,[H(z(Wl),{class:te(z(On)("mr-2 h-4 w-4 shrink-0 opacity-50",t.iconClass))},null,8,["class"]),l[0]||(l[0]=$()),H(z(Ql),E(o(o({},z(a)),e.$attrs),{"auto-focus":"",class:z(On)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t.class)}),null,16,["class"]),l[1]||(l[1]=$()),B(e.$slots,"filter")]))}}),Wo={__name:"CommandItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["select"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(Yl),E(z(n),{class:z(On)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Qo={role:"presentation"},Yo={__name:"CommandList",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},dismissable:{type:Boolean,required:!1,default:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},updatePositionStrategy:{type:String,required:!1},prioritizePosition:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(Jl),E(z(n),{class:z(On)("max-h-[300px] overflow-y-auto overflow-x-hidden",l.class)}),{default:N(()=>[I("div",Qo,[B(e.$slots,"default")])]),_:3},16,["class"]))}},Jo={__name:"CommandSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(Zl),E(l.value,{class:z(On)("-mx-1 h-px bg-border",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Zo={__name:"Separator",props:{orientation:{type:String,required:!1},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},label:{type:String,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(Xl),E(l.value,{class:z(On)("shrink-0 bg-border relative","vertical"===t.orientation?"w-px h-full":"h-px w-full",t.class)}),{default:N(()=>[t.label?(D(),V("span",{key:0,class:te(z(On)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center","vertical"===t.orientation?"w-[1px] px-1 py-2":"h-[1px] py-1 px-2"))},se(t.label),3)):T("",!0)]),_:1},16,["class"]))}},Xo={class:"hidden space-x-1 lg:flex"},ei={key:1,class:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs"},ti={__name:"DataTableFacetedFilter",props:{column:{type:Object,required:!1},title:{type:String},options:{type:Array,required:!0}},setup(e){const t=e,l=w(()=>{var e;return null==(e=t.column)?void 0:e.getFacetedUniqueValues()}),a=w(()=>{var e;return new Set(null==(e=t.column)?void 0:e.getFilterValue())});return(t,s)=>(D(),M(z(uu),null,{default:N(()=>[H(z(iu),{"as-child":""},{default:N(()=>[H(z(Nn),{variant:"outline",size:"sm",class:"h-8 border-dashed"},{default:N(()=>[H(z(ea),{class:"mr-2 h-4 w-4"}),$(" "+se(e.title)+" ",1),a.value.size>0?(D(),V(A,{key:0},[H(z(Zo),{orientation:"vertical",class:"mx-2 h-4"}),s[1]||(s[1]=$()),H(z(Io),{variant:"secondary",class:"rounded-sm px-1 font-normal lg:hidden"},{default:N(()=>[$(se(a.value.size),1)]),_:1}),s[2]||(s[2]=$()),I("div",Xo,[a.value.size>2?(D(),M(z(Io),{key:0,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:N(()=>[$(se(a.value.size)+" selected\n                        ",1)]),_:1})):(D(!0),V(A,{key:1},le(e.options.filter(e=>a.value.has(e.value)),e=>(D(),M(z(Io),{key:e.value,variant:"secondary",class:"rounded-sm px-1 font-normal"},{default:N(()=>[$(se(e.label),1)]),_:2},1024))),128))])],64)):T("",!0)]),_:1})]),_:1}),s[12]||(s[12]=$()),H(z(ou),{class:"w-[200px] p-0",align:"start"},{default:N(()=>[H(z(Ro),{"filter-function":(e,t)=>e.filter(e=>{var l;return null==(l=e.label.toLowerCase())?void 0:l.includes(t)})},{default:N(()=>[H(z(Go),{placeholder:e.title},null,8,["placeholder"]),s[11]||(s[11]=$()),H(z(Yo),null,{default:N(()=>[H(z(Lo),null,{default:N(()=>[...s[3]||(s[3]=[$("No results found.",-1)])]),_:1}),s[9]||(s[9]=$()),H(z(Ko),null,{default:N(()=>[(D(!0),V(A,null,le(e.options,t=>(D(),M(z(Wo),{key:t.value,value:t,onSelect:l=>{var s;a.value.has(t.value)?a.value.delete(t.value):a.value.add(t.value);const n=Array.from(a.value);null==(s=e.column)||s.setFilterValue(n.length?n:void 0)}},{default:N(()=>{var e;return[I("div",{class:te(z(On)("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",a.value.has(t.value)?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"))},[H(z(ye),{class:te(z(On)("h-4 w-4"))},null,8,["class"])],2),s[4]||(s[4]=$()),t.icon?(D(),M(ie(t.icon),{key:0,class:"mr-2 h-4 w-4 text-muted-foreground"})):T("",!0),s[5]||(s[5]=$()),I("span",null,se(t.label),1),s[6]||(s[6]=$()),(null==(e=l.value)?void 0:e.get(t.value))?(D(),V("span",ei,se(l.value.get(t.value)),1)):T("",!0)]}),_:2},1032,["value","onSelect"]))),128))]),_:1}),s[10]||(s[10]=$()),a.value.size>0?(D(),V(A,{key:0},[H(z(Jo)),s[8]||(s[8]=$()),H(z(Ko),null,{default:N(()=>[H(z(Wo),{value:{label:"Clear filters"},class:"justify-center text-center",onSelect:s[0]||(s[0]=t=>{var l;return null==(l=e.column)?void 0:l.setFilterValue(void 0)})},{default:N(()=>[...s[7]||(s[7]=[$("\n                                Clear filters\n                            ",-1)])]),_:1})]),_:1})],64)):T("",!0)]),_:1})]),_:1},8,["filter-function"])]),_:1})]),_:1}))}},li=ee({__name:"DataTableViewOptions",props:{table:{type:Object,required:!0}},setup(e){const t=e,l=w(()=>t.table.getAllColumns().filter(e=>void 0!==e.accessorFn&&e.getCanHide()));return(e,t)=>(D(),M(z(Yn),null,{default:N(()=>[H(z(sr),{"as-child":""},{default:N(()=>[H(z(Nn),{variant:"outline",size:"sm",class:"ml-auto hidden h-8 lg:flex"},{default:N(()=>[H(z(ta),{class:"mr-2 h-4 w-4"}),t[0]||(t[0]=$("\n                View\n            ",-1))]),_:1})]),_:1}),t[4]||(t[4]=$()),H(z(Xn),{align:"end",class:"w-[150px]"},{default:N(()=>[H(z(tr),null,{default:N(()=>[...t[1]||(t[1]=[$("Toggle columns",-1)])]),_:1}),t[2]||(t[2]=$()),H(z(lr)),t[3]||(t[3]=$()),(D(!0),V(A,null,le(l.value,e=>(D(),M(z(Zn),{key:e.id,class:"capitalize",checked:e.getIsVisible(),"onUpdate:checked":t=>e.toggleVisibility(!!t)},{default:N(()=>[$(se(e.id),1)]),_:2},1032,["checked","onUpdate:checked"]))),128))]),_:1})]),_:1}))}}),ai={__name:"Input",props:{defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,a=la(l,"modelValue",t,{passive:!0,defaultValue:l.defaultValue});return(e,t)=>Xe((D(),V("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>at(a)?a.value=e:null),class:te(z(On)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l.class))},null,2)),[[nl,z(a)]])}},si=ee({__name:"DataTableSearch",props:{table:{type:Object,required:!0},placeholder:{type:String,default:"Search..."},searchKey:{type:String,default:"name"},inputClass:{type:String,default:""}},setup:e=>(t,l)=>{var a,s;return D(),M(z(ai),{placeholder:e.placeholder,"model-value":null!=(s=null==(a=e.table.getColumn(e.searchKey))?void 0:a.getFilterValue())?s:"",class:te(z(On)("h-8 w-[150px] lg:w-[250px]",e.inputClass)),onInput:l[0]||(l[0]=t=>{var l;return null==(l=e.table.getColumn(e.searchKey))?void 0:l.setFilterValue(t.target.value)})},null,8,["placeholder","model-value","class"])}}),ni={class:"relative w-full overflow-auto"},ri={__name:"Table",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("div",ni,[I("table",{class:te(z(On)("w-full caption-bottom text-sm",t.class))},[B(e.$slots,"default")],2)]))}},ui={__name:"TableBody",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("tbody",{class:te(z(On)("[&_tr:last-child]:border-0",t.class))},[B(e.$slots,"default")],2))}},oi={__name:"TableCaption",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("caption",{class:te(z(On)("mt-4 text-sm text-muted-foreground",t.class))},[B(e.$slots,"default")],2))}},ii={__name:"TableCell",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("td",{class:te(z(On)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",t.class))},[B(e.$slots,"default")],2))}},di={__name:"TableRow",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("tr",{class:te(z(On)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t.class))},[B(e.$slots,"default")],2))}},ci={class:"flex items-center justify-center py-10"},pi={__name:"TableEmpty",props:{class:{type:null,required:!1},colspan:{type:Number,required:!1,default:1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(di,null,{default:N(()=>[H(ii,E({class:z(On)("p-4 whitespace-nowrap align-middle text-sm text-foreground",t.class)},l.value),{default:N(()=>[I("div",ci,[B(e.$slots,"default")])]),_:3},16,["class"])]),_:3}))}},mi={__name:"TableHead",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("th",{class:te(z(On)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",t.class))},[B(e.$slots,"default")],2))}},fi={__name:"TableHeader",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("thead",{class:te(z(On)("[&_tr]:border-b",t.class))},[B(e.$slots,"default")],2))}},vi={class:"rounded-md border"},yi=ee({__name:"DataTableBody",props:{table:{type:Object,required:!0},columns:{type:Array,required:!0},activeProduct:{type:Object,default:null}},setup:e=>(t,l)=>(D(),V("div",vi,[H(z(ri),null,{default:N(()=>[H(z(fi),{class:"shadow-sm"},{default:N(()=>[(D(!0),V(A,null,le(e.table.getHeaderGroups(),e=>(D(),M(z(di),{key:e.id},{default:N(()=>[(D(!0),V(A,null,le(e.headers,e=>(D(),M(z(mi),{key:e.id},{default:N(()=>[e.isPlaceholder?T("",!0):(D(),M(z(aa),{key:0,render:e.column.columnDef.header,props:e.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),l[1]||(l[1]=$()),H(z(ui),null,{default:N(()=>{var a;return[(null==(a=e.table.getRowModel().rows)?void 0:a.length)?B(t.$slots,"tableBody",{key:0,table:e.table},()=>[(D(!0),V(A,null,le(e.table.getRowModel().rows,l=>{var a;return D(),M(z(di),{key:l.id,"data-state":l.original.id==(null==(a=e.activeProduct)?void 0:a.id)&&"selected",onClick:e=>t.$emit("rowClick",l.original),class:"cursor-pointer"},{default:N(()=>[(D(!0),V(A,null,le(l.getVisibleCells(),e=>(D(),M(z(ii),{key:e.id},{default:N(()=>[H(z(aa),{render:e.column.columnDef.cell,props:e.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state","onClick"])}),128))]):(D(),M(z(pi),{key:1,colspan:e.columns.length,class:"text-center"},{default:N(()=>[...l[0]||(l[0]=[$("\n                    No results.\n                ",-1)])]),_:1},8,["colspan"]))]}),_:3})]),_:3})]))}),gi=[{accessorKey:"id",header:"ID"},{accessorKey:"type",header:"Type"},{accessorKey:"title",header:"Title"},{accessorKey:"amount",header:"Amount"},{accessorKey:"status",header:"Status"},{accessorKey:"date",header:"Date"},{accessorKey:"email",header:"Email"}],_i=ee({__name:"RecentActivityDatatable",props:{activities:{}},setup:e=>(e,t)=>(D(),M(z(To),{data:e.activities,columns:z(gi)},{toolbar:N(({table:e})=>[H(z(Ao),{table:e},{search:N(()=>[H(z(si),{placeholder:"Search activities...",table:e,"search-key":"title"},null,8,["table"])]),_:2},1032,["table"])]),tbody:N(({table:e})=>[H(z(yi),{table:e,columns:z(gi)},{tableBody:N(()=>[(D(!0),V(A,null,le(e.getRowModel().rows,e=>(D(),M(z(di),{key:e.id,class:"cursor-pointer"},{default:N(()=>[H(z(ii),null,{default:N(()=>[$("#"+se(e.original.id),1)]),_:2},1024),t[0]||(t[0]=$()),H(z(ii),null,{default:N(()=>[$(se(e.original.type),1)]),_:2},1024),t[1]||(t[1]=$()),H(z(ii),null,{default:N(()=>[$(se(e.original.title),1)]),_:2},1024),t[2]||(t[2]=$()),H(z(ii),null,{default:N(()=>[$(se(e.original.amount||"-"),1)]),_:2},1024),t[3]||(t[3]=$()),H(z(ii),null,{default:N(()=>[$(se(e.original.status),1)]),_:2},1024),t[4]||(t[4]=$()),H(z(ii),null,{default:N(()=>[$(se(e.original.date),1)]),_:2},1024),t[5]||(t[5]=$()),H(z(ii),null,{default:N(()=>[$(se(e.original.email||"-"),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["table","columns"])]),_:1},8,["data","columns"]))}),hi={class:"p-8"},bi={key:0,class:"space-y-5"},xi={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},wi={class:"block space-y-4 md:space-y-0 md:flex gap-4"},qi={class:"w-full md:w-1/2"},Ci={class:"w-full md:w-1/2"},ki={key:1,class:"space-y-5"},Si={class:"block space-y-4 md:space-y-0 md:flex gap-4"},Fi={class:"w-full md:w-1/2"},Pi={class:"w-full md:w-1/2"},Oi={key:2,class:"space-y-5"},Vi={class:"flex items-center gap-2 transition-opacity duration-200 hover:opacity-80"},Di=ee({__name:"Index",setup(e){const{defaultTab:t,ranges:l,outlets:a,activeTab:s,subMenuTabs:n,handleChangeQuery:r,getOutlets:u,getDashboardData:i,loading:d}=(()=>{const e=x("overview"),t=x("assistant"),l=wn(),{getOutlets:a}=l,{outlets:s}=C(l),n=qn(),r=F(),u=x(!1),i=xn(),{getDashboardSummary:d,getRecentActivities:p,getSalesAnalytics:m,getCustomerAnalytics:f}=i,v=()=>c(null,null,function*(){u.value=!0;const e=r.query;yield d(e),yield m(e),yield f(e),yield p(e),u.value=!1});return{defaultTab:e,outlets:s,getOutlets:a,ranges:[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"This Week",value:"this_week"},{label:"Last Week",value:"last_week"},{label:"This Month",value:"this_month"},{label:"Last Month",value:"last_month"},{label:"This Year",value:"this_year"},{label:"Last Year",value:"last_year"},{label:"Custom",value:"custom"}],activeTab:t,subMenuTabs:Sn,handleChangeQuery:e=>c(null,null,function*(){let t={};e&&(t=o(o({},r.query),e)),yield n.replace({name:"app.dashboard",query:t}),v()}),loading:u,getDashboardData:v}})(),p=xn(),{summary:m,salesAnalytics:f,recentActivities:v,customerAnalytics:y}=lt(p),g=gn(),{isAiConfig:_}=lt(g);return k(()=>{u(),i()}),(e,u)=>(D(),M(Er,{activeRouteName:"app.dashboard",hideSidebar:!z(_)},sa({default:N(()=>[H(Pn,{loading:z(d)},{loader:N(()=>[H(z(de),{class:"size-8 animate-spin"})]),_:1},8,["loading"]),u[12]||(u[12]=$()),I("div",hi,[H(Qr,{tabs:z(kn),modelValue:z(t),"onUpdate:modelValue":u[0]||(u[0]=e=>at(t)?t.value=e:null)},{default:N(({currentTab:e})=>{var t,l,a,s,n;return["overview"==e?(D(),V("div",bi,[I("div",xi,[(null==(t=z(m))?void 0:t.sales)?(D(),M(Pu,{key:0,title:"Sales",value:z(m).sales.total,note:`${z(m).sales.total_orders} Orders`},null,8,["value","note"])):T("",!0),u[2]||(u[2]=$()),(null==(l=z(m))?void 0:l.customers)?(D(),M(Pu,{key:1,title:"Customers",value:z(m).customers.total,note:"Active Customers"},null,8,["value"])):T("",!0),u[3]||(u[3]=$()),(null==(a=z(m))?void 0:a.inventory)?(D(),M(Pu,{key:2,title:"Inventory",value:z(m).inventory.total_value,note:`${z(m).inventory.total_products} Products`},null,8,["value","note"])):T("",!0),u[4]||(u[4]=$()),(null==(s=z(m))?void 0:s.inventory.low_stock)?(D(),M(Pu,{key:3,title:"Low Stock",value:z(m).inventory.low_stock,note:`${z(m).inventory.out_of_stock} Out of stock`},null,8,["value","note"])):T("",!0)]),u[6]||(u[6]=$()),I("div",wi,[I("div",qi,[z(f)?(D(),M(Bu,{key:"sales-"+JSON.stringify(z(f)),salesData:z(f)},null,8,["salesData"])):T("",!0)]),u[5]||(u[5]=$()),I("div",Ci,[z(y)?(D(),M($u,{key:"customer-",customerData:z(y)},null,8,["customerData"])):T("",!0)])])])):T("",!0),u[8]||(u[8]=$()),"analytics"==e?(D(),V("div",ki,[I("div",Si,[I("div",Fi,[z(f)?(D(),M(Bu,{key:0,salesData:z(f)},null,8,["salesData"])):T("",!0)]),u[7]||(u[7]=$()),I("div",Pi,[z(y)?(D(),M($u,{key:0,customerData:z(y)},null,8,["customerData"])):T("",!0)])])])):T("",!0),u[9]||(u[9]=$()),"recentActivities"==e?(D(),V("div",Oi,[H(_i,{activities:z(v),pagination:{page:1,per_page:10,total:(null==(n=z(v))?void 0:n.length)||0},getActivities:z(i)},null,8,["activities","pagination","getActivities"])])):T("",!0)]}),afterTab:N(()=>[H(ku,{onChangeQuery:z(r),outlets:z(a),ranges:z(l)},null,8,["onChangeQuery","outlets","ranges"])]),_:1},8,["tabs","modelValue"])]),u[13]||(u[13]=$())]),_:2},[z(_)?{name:"sidebar",fn:N(()=>[H(z(zr),{class:"w-full",modelValue:z(s),"onUpdate:modelValue":u[1]||(u[1]=e=>at(s)?s.value=e:null)},{default:N(()=>[H(Au,null,{header:N(()=>[H(z(Kr),{class:"w-full rounded-none"},{default:N(()=>[(D(!0),V(A,null,le(z(n),e=>(D(),M(z(Gr),{key:e.value,class:"data-[state=active]:shadow-none data-[state=active]:bg-transparent",value:e.value},{default:N(()=>[I("div",Vi,[(D(),M(ie(e.icon),{class:"w-4 h-4"})),$(" "+se(e.label),1)])]),_:2},1032,["value"]))),128))]),_:1})]),default:N(()=>[u[11]||(u[11]=$()),H(z(Lr),{value:"assistant",class:"mt-0"},{default:N(()=>[H(qo)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),key:"0"}:void 0]),1032,["hideSidebar"]))}}),Ti=Object.freeze(Object.defineProperty({__proto__:null,default:Di},Symbol.toStringTag,{value:"Module"})),$i=b("category",()=>{const e=x([]),t=x(),l=x(!1),{get:a,post:s,remove:n}=yn(),r=w(()=>e.value.map(e=>({value:e.id,label:e.name})));return{categories:e,categoryOptions:r,getCategories:()=>c(null,null,function*(){const{data:t}=yield a("categories");e.value=t}),activeCategory:t,setActiveCategory:e=>{t.value=e},createCategory:t=>c(null,null,function*(){l.value=!0;try{const{data:l,error:a,success:n,message:r}=yield s("categories",t);return n&&(e.value=Array.from([...e.value,l])),q[n?"success":"error"](r),{data:l,error:a,success:n,message:r}}catch(a){throw a}finally{l.value=!1}}),deleteCategory:t=>c(null,null,function*(){const{message:l,success:a}=yield n(`categories/${t}`);a&&(e.value=e.value.filter(e=>e.id!==t)),q.success(l)})}}),Bi={class:"rounded-md overflow-hidden border-2 mr-4 w-24 h-24"},Ai=["src"],Ii={class:"flex-1"},ji={class:"flex items-center gap-2"},Ri={class:"ml-auto flex items-center gap-2"},Ui={class:"grid gap-3"},Mi={class:"grid gap-3"},Ni={key:0,class:"flex items-center gap-x-2"},Ei={class:"flex gap-2"},zi={class:"flex items-center gap-x-2"},Li={class:"flex gap-2"},Ki={key:1,class:"flex gap-x-2"},Hi=["innerHTML"],Gi=["innerHTML"],Wi=ee({__name:"ProductDetails",props:{product:{},handleDelete:{type:Function}},setup(e){const t=$i(),{categories:l}=lt(t),a=e,s=w(()=>l.value.filter(e=>a.product.categories.includes(e.id)));return(e,t)=>(D(),M(z(kr),{class:"overflow-hidden rounded-none shadow-none border-none"},{default:N(()=>[H(z(Or),{class:"flex flex-row justify-between bg-muted/50"},{default:N(()=>[I("div",Bi,[I("img",{src:e.product.image_url,class:"w-full h-full object-cover object-center",alt:""},null,8,Ai)]),t[6]||(t[6]=$()),I("div",Ii,[H(z(Vr),{class:"text-lg"},{default:N(()=>[$(se(e.product.name),1)]),_:1}),t[4]||(t[4]=$()),I("div",ji,[I("div",null,[H(z(Fr),null,{default:N(()=>[$("\n                            Price:\n                            "+se(z(zn)(e.product.price,e.product.currency)),1)]),_:1}),t[1]||(t[1]=$()),H(z(Fr),null,{default:N(()=>[$("\n                            Stock:\n                            "+se(e.product.stock||"Out of stock"),1)]),_:1})]),t[3]||(t[3]=$()),I("div",Ri,[H(z(Nn),{size:"sm",variant:"outline",class:"hover:text-red-400",onClick:t[0]||(t[0]=t=>e.handleDelete(e.product))},{default:N(()=>[H(z(na),{class:"w-4 h-4"}),t[2]||(t[2]=$(" Delete\n                        ",-1))]),_:1})])]),t[5]||(t[5]=$()),H(z(Fr),null,{default:N(()=>[$("\n                    SKU:\n                    "+se(e.product.sku),1)]),_:1})])]),_:1}),t[19]||(t[19]=$()),H(z(Sr),{class:"p-6 text-sm"},{default:N(()=>[I("div",Ui,[t[15]||(t[15]=I("div",{class:"font-semibold"},"Product Details",-1)),t[16]||(t[16]=$()),I("ul",Mi,[e.product.categories.length?(D(),V("li",Ni,[t[7]||(t[7]=I("span",{class:"text-muted-foreground min-w-[117px]"},"\n                            Categories:\n                        ",-1)),t[8]||(t[8]=$()),I("div",Ei,[(D(!0),V(A,null,le(s.value,e=>(D(),M(z(Io),{variant:"secondary",key:e.id},{default:N(()=>[$(se(e.name),1)]),_:2},1024))),128))])])):T("",!0),t[13]||(t[13]=$()),I("li",zi,[t[9]||(t[9]=I("span",{class:"text-muted-foreground min-w-[117px]"},"\n                            Status:\n                        ",-1)),t[10]||(t[10]=$()),I("div",Li,[H(z(Io),{variant:"outline"},{default:N(()=>[$(se(e.product.status),1)]),_:1})])]),t[14]||(t[14]=$()),e.product.short_description?(D(),V("li",Ki,[t[11]||(t[11]=I("span",{class:"text-muted-foreground text-nowrap"},"\n                            Short Description:\n                        ",-1)),t[12]||(t[12]=$()),I("div",{innerHTML:e.product.short_description},null,8,Hi)])):T("",!0)]),t[17]||(t[17]=$()),H(z(Zo),{class:"my-2"}),t[18]||(t[18]=$()),I("div",{innerHTML:e.product.description,class:"text-sm"},null,8,Gi)])]),_:1})]),_:1}))}}),Qi=Symbol();function Yi(){const e=ra(ca),t=ra(Qi);if(!e)throw new Error("useFormField should be used within <FormField>");const{name:l}=e,a=t,s={valid:da(l),isDirty:ia(l),isTouched:oa(l),error:ua(l)};return o({id:a,name:l,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`},s)}const Ji={__name:"FormControl",setup(e){const{error:t,formItemId:l,formDescriptionId:a,formMessageId:s}=Yi();return(e,n)=>(D(),M(z(pa),{id:z(l),"aria-describedby":z(t)?`${z(a)} ${z(s)}`:`${z(a)}`,"aria-invalid":!!z(t)},{default:N(()=>[B(e.$slots,"default")]),_:3},8,["id","aria-describedby","aria-invalid"]))}},Zi={__name:"FormItem",props:{class:{type:null,required:!1}},setup(e){const t=e,l=ma();return fa(Qi,l),(e,l)=>(D(),V("div",{class:te(z(On)("space-y-2",t.class))},[B(e.$slots,"default")],2))}},Xi={__name:"FormLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,{error:l,formItemId:a}=Yi();return(e,s)=>(D(),M(z(Dr),{class:te(z(On)(z(l)&&"text-destructive",t.class)),for:z(a)},{default:N(()=>[B(e.$slots,"default")]),_:3},8,["class","for"]))}},ed={__name:"FormMessage",setup(e){const{name:t,formMessageId:l}=Yi();return(e,a)=>(D(),M(z(ya),{id:z(l),as:"p",name:va(z(t)),class:"text-[0.8rem] font-medium text-destructive"},null,8,["id","name"]))}},td={__name:"Switch",props:{defaultChecked:{type:Boolean,required:!1},checked:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},name:{type:String,required:!1},id:{type:String,required:!1},value:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:checked"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(_a),E(z(n),{class:z(On)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",l.class)}),{default:N(()=>[H(z(ga),{class:te(z(On)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"))},{default:N(()=>[B(e.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}},ld={__name:"TagsInput",props:{modelValue:{type:Array,required:!1},defaultValue:{type:Array,required:!1},addOnPaste:{type:Boolean,required:!1},addOnTab:{type:Boolean,required:!1},addOnBlur:{type:Boolean,required:!1},duplicate:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},delimiter:{type:String,required:!1},dir:{type:String,required:!1},max:{type:Number,required:!1},required:{type:Boolean,required:!1},name:{type:String,required:!1},id:{type:String,required:!1},convertValue:{type:Function,required:!1},displayValue:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","invalid"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(ha),E(z(n),{class:z(On)("flex flex-wrap gap-2 items-center rounded-md border border-input bg-background px-3 py-1.5 text-sm",l.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},ad={__name:"TagsInputInput",props:{placeholder:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},maxLength:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(ba),E(z(a),{class:z(On)("text-sm min-h-5 focus:outline-none flex-1 bg-transparent px-1",t.class)}),null,16,["class"]))}},sd={__name:"TagsInputItem",props:{value:{type:[String,Object],required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(xa),E(z(a),{class:z(On)("flex h-5 items-center rounded-md bg-secondary data-[state=active]:ring-ring data-[state=active]:ring-2 data-[state=active]:ring-offset-2 ring-offset-background",t.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},nd={__name:"TagsInputItemDelete",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(wa),E(z(a),{class:z(On)("flex rounded bg-transparent mr-1",t.class)}),{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(Pe),{class:"w-4 h-4"})])]),_:3},16,["class"]))}},rd={__name:"TagsInputItemText",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(qa),E(z(a),{class:z(On)("py-0.5 px-2 text-sm rounded bg-transparent",t.class)}),null,16,["class"]))}},ud={class:"flex gap-2 flex-wrap items-center px-3"},od=ee({__name:"TagsInput",props:mt({items:{},itemKey:{default:"id"},itemValue:{default:"name"},placeholder:{default:"Select"}},{modelValue:{default:()=>[]},modelModifiers:{}}),emits:mt(["onSelect"],["update:modelValue"]),setup(e,{emit:t}){const l=ft(e,"modelValue"),a=x(!1),s=x(""),n=e,r=t,u=w(()=>n.items.filter(e=>!l.value.includes(e[n.itemKey]))),o=x([]);return P(l,()=>{o.value=n.items.filter(e=>l.value.includes(e[n.itemKey]))},{immediate:!0}),(e,t)=>(D(),M(z(ld),{class:"px-0 gap-0 w-full"},{default:N(()=>[I("div",ud,[(D(!0),V(A,null,le(o.value,a=>(D(),M(z(sd),{key:a,value:a[e.itemValue]},{default:N(()=>[H(z(rd)),t[4]||(t[4]=$()),H(z(nd),{onClick:e=>(e=>{const t=e[n.itemKey],a=l.value.filter(e=>e!==t);r("onSelect",a)})(a)},null,8,["onClick"])]),_:2},1032,["value"]))),128))]),t[7]||(t[7]=$()),H(z(El),{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e),open:a.value,"onUpdate:open":t[2]||(t[2]=e=>a.value=e),"search-term":s.value,"onUpdate:searchTerm":t[3]||(t[3]=e=>s.value=e),class:"w-full"},{default:N(()=>[H(z(Ca),{"as-child":""},{default:N(()=>[H(z(Ql),{placeholder:e.placeholder,"as-child":""},{default:N(()=>[H(z(ad),{class:te(["w-full px-3",l.value.length>0?"mt-2":""]),onKeydown:t[0]||(t[0]=rl(ul(()=>{},["prevent"]),["enter"]))},null,8,["class"])]),_:1},8,["placeholder"])]),_:1}),t[6]||(t[6]=$()),H(z(ka),null,{default:N(()=>[H(z(Jl),null,{default:N(()=>[H(z(Yo),{position:"popper",class:"w-[--radix-popper-anchor-width] rounded-md mt-2 border bg-popover text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"},{default:N(()=>[H(z(Lo)),t[5]||(t[5]=$()),H(z(Ko),null,{default:N(()=>[(D(!0),V(A,null,le(e.items,t=>(D(),M(z(Wo),{key:t[e.itemKey],value:t[e.itemValue],onSelect:ul(e=>(e=>{const t=e[n.itemKey];l.value.includes(t)||(s.value="",l.value.push(t),r("onSelect",l.value),0===u.value.length&&(a.value=!1))})(t),["prevent"])},{default:N(()=>[$(se(t[e.itemValue]),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","open","search-term"])]),_:1}))}}),id=()=>{const e=x([]),t=x([]),{get:l,post:a,remove:s}=yn();return k(()=>{c(null,null,function*(){try{const{data:e}=yield l("media");t.value=e}catch(e){}})}),{files:e,uploadedFiles:t,handleFiles:t=>c(null,null,function*(){for(const l of t)e.value.push({preview:URL.createObjectURL(l),name:l.name,size:l.size,state:"temporary",file:l})}),uploadFile:e=>c(null,null,function*(){e.state="uploading";const t=new FormData;t.append("file",e.file);try{const{success:l,data:s,message:n}=yield a("media",t);e.state="uploaded",e.id=s.id,q[l?"success":"error"](n)}catch(l){e.state="failed"}}),removeFile:t=>c(null,null,function*(){try{t.id&&(yield s(`/api/files/${t.id}`));const l=e.value.indexOf(t);l>-1&&(t.preview&&URL.revokeObjectURL(t.preview),e.value.splice(l,1))}catch(l){}})}},dd={class:"space-y-4"},cd=ee({__name:"UploadDropzone",emits:["filesSelected"],setup(e,{emit:t}){const l=t,a=x(!1),s=x(null),n=()=>a.value=!0,r=e=>{var t;a.value=!1;const s=null==(t=e.dataTransfer)?void 0:t.files;s&&l("filesSelected",Array.from(s))},u=e=>{var t;const a=e.target;(null==(t=a.files)?void 0:t.length)&&l("filesSelected",Array.from(a.files))};return(e,t)=>{const l=ae("UploadSimple");return D(),V("div",{class:"relative",onDragover:ul(n,["prevent"]),onDragleave:t[0]||(t[0]=ul(e=>a.value=!1,["prevent"])),onDrop:ul(r,["prevent"])},[I("div",{class:te(["rounded-lg border-2 border-dashed p-8 text-center transition-all",a.value?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-400"])},[I("input",{type:"file",onChange:u,accept:"image/*, .pdf, .doc, .docx",multiple:"",ref_key:"fileInput",ref:s,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"},null,544),t[3]||(t[3]=$()),I("div",dd,[H(l,{size:40,class:"mx-auto text-gray-400",weight:"thin"}),t[1]||(t[1]=$()),t[2]||(t[2]=I("p",{class:"text-gray-600"},"Drag files here or click to upload",-1))])],2)],32)}}}),pd={key:0,class:"mt-6 space-y-3"},md={class:"flex items-center space-x-4"},fd={class:"w-12 h-12 rounded flex-shrink-0 bg-gray-50 flex items-center justify-center ml-3"},vd=["src","alt"],yd={class:"min-w-0 flex-grow"},gd={class:"text-sm font-medium text-gray-900 truncate"},_d={class:"text-xs text-gray-500"},hd={class:"flex items-center space-x-2"},bd=["onClick"],xd={key:1,class:"p-2"},wd=["onClick"],qd=ee({__name:"UploadFileList",props:{files:{}},emits:["uploadFile","removeFile"],setup(e,{emit:t}){const l=t,a={temporary:{icon:O(Pa),class:"text-gray-400 hover:text-primary-500",action:e=>l("uploadFile",e)},uploading:{icon:O(de),class:"text-primary-500 animate-spin",action:null},uploaded:{icon:O(Fa),class:"text-green-500",action:null},failed:{icon:O(Sa),class:"text-red-500",action:e=>l("uploadFile",e)}},s=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},n={pdf:{icon:$a,color:"text-red-500"},doc:{icon:$a,color:"text-blue-500"},docx:{icon:$a,color:"text-blue-500"},xls:{icon:Ta,color:"text-green-500"},xlsx:{icon:Ta,color:"text-green-500"},txt:{icon:Da,color:"text-gray-500"},zip:{icon:Va,color:"text-yellow-500"}},r=e=>e.type.startsWith("image/"),u=e=>{var t,l;const a=(null==(t=e.name.split(".").pop())?void 0:t.toLowerCase())||"";return(null==(l=n[a])?void 0:l.icon)||"PhFile"},o=e=>{var t,l;const a=(null==(t=e.name.split(".").pop())?void 0:t.toLowerCase())||"";return(null==(l=n[a])?void 0:l.color)||"text-gray-400"};return(e,t)=>e.files.length>0?(D(),V("div",pd,[(D(!0),V(A,null,le(e.files,(l,n)=>(D(),V("div",{key:n,class:"relative bg-white rounded-lg border border-gray-200 shadow-sm py-2"},[I("div",md,[I("div",fd,[r(l.file)?(D(),V("img",{key:0,src:l.preview,alt:l.name,class:"w-full h-full object-cover rounded"},null,8,vd)):(D(),M(ie(u(l.file)),{key:1,size:24,class:te(o(l.file))},null,8,["class"]))]),t[2]||(t[2]=$()),I("div",yd,[I("p",gd,se(l.name),1),t[0]||(t[0]=$()),I("p",_d,se(s(l.size)),1)]),t[3]||(t[3]=$()),I("div",hd,[a[l.state].action?(D(),V("button",{key:0,onClick:e=>{var t,s;return null==(s=(t=a[l.state]).action)?void 0:s.call(t,l)},class:"p-2 rounded-full hover:bg-gray-50 transition-colors"},[H(z(Pa),{class:"w-5 h-5"})],8,bd)):(D(),V("div",xd,[(D(),M(ie(a[l.state].icon),{class:te(a[l.state].class),size:20},null,8,["class"]))])),t[1]||(t[1]=$()),I("button",{onClick:t=>e.$emit("removeFile",l),class:"p-2 text-gray-400 hover:text-red-500 rounded-full hover:bg-gray-50 transition-colors"},[H(z(Oa),{size:25})],8,wd)])])]))),128))])):T("",!0)}}),Cd={__name:"Textarea",props:{class:{type:null,required:!1},defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,a=la(l,"modelValue",t,{passive:!0,defaultValue:l.defaultValue});return(e,t)=>Xe((D(),V("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>at(a)?a.value=e:null),class:te(z(On)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l.class))},null,2)),[[nl,z(a)]])}},kd={class:"columns-3 gap-4 my-8 space-y-4"},Sd=["src","alt","onClick"],Fd={class:"sticky bottom-0 -right-2 pt-2 pr-2 w-full bg-white flex justify-end"},Pd=ee({__name:"PhotoGallery",props:{images:{},filePath:{}},emits:["select"],setup(e,{emit:t}){const l=x(null),a=t;return(e,t)=>(D(),V(A,null,[I("div",kd,[(D(!0),V(A,null,le(e.images,t=>(D(),V("div",{key:t.id,class:"break-inside-avoid"},[I("img",{src:z(_.get)(t,e.filePath,""),alt:t.alt_description,class:te(["w-full rounded-lg hover:opacity-75 transition-opacity cursor-pointer",{"border-2 border-primary":l.value===t}]),onClick:e=>l.value=t},null,10,Sd)]))),128))]),t[2]||(t[2]=$()),I("div",Fd,[H(z(Nn),{variant:"outline",onClick:t[0]||(t[0]=e=>{return t=l.value,void a("select",t);var t})},{default:N(()=>[...t[1]||(t[1]=[$("Set Product Image",-1)])]),_:1})])],64))}}),Od={key:0,class:"mt-4 mb-2 flex justify-end"},Vd=["disabled"],Dd={key:2},Td=ee({__name:"Index",props:mt({url:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:mt(["select","update:url"],["update:modelValue"]),setup(e,{emit:t}){const{files:l,uploadedFiles:a,handleFiles:s,uploadFile:n,removeFile:r}=id(),u=x(!1),o=t,i=e,d=w(()=>l.value.filter(e=>"temporary"===e.state).length>1),p=()=>c(null,null,function*(){u.value=!0;try{yield Promise.all(l.value.map(e=>{if("temporary"===e.state)return n(e)}))}finally{u.value=!1}}),m=ft(e,"modelValue"),f=x(""),v=()=>{o("select",null),f.value=""};return P(()=>i.url,e=>{f.value=e},{immediate:!0}),(e,t)=>(D(),V(A,null,[B(e.$slots,"default",{previewUrl:f.value,closePreview:v}),t[15]||(t[15]=$()),H(z(Uo),{open:m.value,"onUpdate:open":t[2]||(t[2]=e=>m.value=e)},{default:N(()=>[H(z(Eo),{onInteractOutside:t[1]||(t[1]=e=>{e.preventDefault()})},{default:N(()=>[H(z(No),null,{default:N(()=>[H(z(zo),null,{default:N(()=>[...t[3]||(t[3]=[$("Photo Gallery",-1)])]),_:1}),t[5]||(t[5]=$()),H(z(Mo),null,{default:N(()=>[...t[4]||(t[4]=[$("\n                    Your uploaded photos will be displayed here.\n                ",-1)])]),_:1})]),_:1}),t[14]||(t[14]=$()),H(z(zr),{"default-value":"gallery",class:"space-y-4"},{default:N(()=>[H(z(Kr),null,{default:N(()=>[H(z(Gr),{value:"upload"},{default:N(()=>[...t[6]||(t[6]=[$(" Upload ",-1)])]),_:1}),t[8]||(t[8]=$()),H(z(Gr),{value:"gallery"},{default:N(()=>[...t[7]||(t[7]=[$(" Gallery ",-1)])]),_:1})]),_:1}),t[12]||(t[12]=$()),H(z(Lr),{value:"upload",class:"space-y-4"},{default:N(()=>[H(cd,{onFilesSelected:z(s)},null,8,["onFilesSelected"]),t[10]||(t[10]=$()),d.value?(D(),V("div",Od,[I("button",{onClick:p,class:"px-2 py-1 border border-blue-500 text-blue-500 rounded hover:bg-blue-500 hover:text-white flex items-center justify-center",disabled:u.value},[u.value?(D(),M(z(de),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):(D(),M(z(Ba),{key:1,class:"w-4 h-4 mr-2"})),t[9]||(t[9]=$()),u.value?T("",!0):(D(),V("span",Dd,"Upload all"))],8,Vd)])):T("",!0),t[11]||(t[11]=$()),H(Au,{headerHeight:400},{default:N(()=>[H(qd,{files:z(l),onUploadFile:z(n),onRemoveFile:z(r)},null,8,["files","onUploadFile","onRemoveFile"])]),_:1})]),_:1}),t[13]||(t[13]=$()),H(z(Lr),{value:"gallery",class:"space-y-4"},{default:N(()=>[H(Au,{headerHeight:250},{default:N(()=>[H(Pd,{images:z(a),"file-path":"url",onSelect:t[0]||(t[0]=t=>{f.value=t.url,e.$emit("select",t.id),e.$emit("update:url",t.url)})},null,8,["images"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),$d=Aa({name:Ma(),regular_price:Ia().min(0),sale_price:Ia().nullable(),stock:Ia().min(0).int().nullable(),sku:Ma().min(1),short_description:Ma().min(10),description:Ma().min(10),categories:Ua(Ia()),status:Ra(["publish","draft","pending","private"]),featured:ja(),image:Ia().nullable().optional()});Na(Aa({product:Aa({name:Ma().describe("The name of the product. It should be concise and descriptive."),regular_price:Ia().describe("The price of the product. It should be a number."),sale_price:Ia().describe("The sale price of the product. It should be different from the price. If there is no sale, it should be the same as the price."),stock:Ia().describe("The stock of the product."),sku:Ma().describe("The SKU of the product."),categories:Ua(Ia()).describe("The category ID of the product. You can get the category IDs from the category List in context area."),tags:Ua(Ia()).describe("The tags ID of the product. You can get the tag IDs from the tags List in context area.").optional(),status:Ra(["publish","draft","pending","private"]).describe("The status of the product."),short_description:Ma().describe("A short description of the product. It should be key highlighted and concise."),description:Ma().describe("A detailed description of the product. It should be formatted in HTML.")}).strict()}).strict(),"product_create_schema");const Bd={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},Ad=ee({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"html",validator:e=>["delta","html","text"].includes(e)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:e=>["snow","bubble",""].includes(e)},toolbar:{type:[String,Array,Object],required:!1,validator:e=>"string"!=typeof e||""===e||("#"===e.charAt(0)||-1!==Object.keys(Bd).indexOf(e))},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(e,t)=>{let l,a;k(()=>{r()}),el(()=>{l=null});const s=x(),n=(e,t)=>{var l;(null==(l=Ea)?void 0:l.imports)&&e in Ea.imports||Ea.register(e,t)},r=()=>{var r;if(s.value){if(a=u(),e.modules)if(Array.isArray(e.modules))for(const t of e.modules)n(`modules/${t.name}`,t.module);else n(`modules/${e.modules.name}`,e.modules.module);l=new Ea(s.value,a),y(e.content),l.on("text-change",c),l.on("selection-change",m),l.on("editor-change",f),"bubble"!==e.theme&&s.value.classList.remove("ql-bubble"),"snow"!==e.theme&&s.value.classList.remove("ql-snow"),null==(r=l.getModule("toolbar"))||r.container.addEventListener("mousedown",e=>{e.preventDefault()}),t.emit("ready",l)}},u=()=>{const t={};if(""!==e.theme&&(t.theme=e.theme),e.readOnly&&(t.readOnly=e.readOnly),e.placeholder&&(t.placeholder=e.placeholder),e.toolbar&&""!==e.toolbar&&(t.modules={toolbar:(()=>{if("object"==typeof e.toolbar)return e.toolbar;if("string"==typeof e.toolbar){return"#"===e.toolbar.charAt(0)?e.toolbar:Bd[e.toolbar]}})()}),e.modules){const l=(()=>{var t,l;const a={};if(Array.isArray(e.modules))for(const s of e.modules)a[s.name]=null!=(t=s.options)?t:{};else a[e.modules.name]=null!=(l=e.modules.options)?l:{};return a})();t.modules=Object.assign({},t.modules,l)}return Object.assign({},e.globalOptions,e.options,t)},o=e=>"object"==typeof e&&e?e.slice():e;let i;const d=e=>{if(typeof i==typeof e){if(e===i)return!0;if("object"==typeof e&&e&&"object"==typeof i&&i)return t=i.diff(e),!Object.values(t.ops).some(e=>!e.retain||1!==Object.keys(e).length)}var t;return!1},c=(l,a,s)=>{i=o(v()),d(e.content)||t.emit("update:content",i),t.emit("textChange",{delta:l,oldContents:a,source:s})},p=x(),m=(e,a,s)=>{p.value=!!(null==l?void 0:l.hasFocus()),t.emit("selectionChange",{range:e,oldRange:a,source:s})};P(p,e=>{e?t.emit("focus",s):t.emit("blur",s)});const f=(...e)=>{"text-change"===e[0]&&t.emit("editorChange",{name:e[0],delta:e[1],oldContents:e[2],source:e[3]}),"selection-change"===e[0]&&t.emit("editorChange",{name:e[0],range:e[1],oldRange:e[2],source:e[3]})},v=(t,a)=>"html"===e.contentType?h():"text"===e.contentType?g(t,a):null==l?void 0:l.getContents(t,a),y=(t,a="api")=>{const s=t||("delta"===e.contentType?new za:"");"html"===e.contentType?b(s):"text"===e.contentType?_(s,a):null==l||l.setContents(s,a),i=o(s)},g=(e,t)=>{var a;return null!=(a=null==l?void 0:l.getText(e,t))?a:""},_=(e,t="api")=>{null==l||l.setText(e,t)},h=()=>{var e;return null!=(e=null==l?void 0:l.root.innerHTML)?e:""},b=e=>{l&&(l.root.innerHTML=e)};return P(()=>e.content,e=>{if(!l||!e||d(e))return;const t=l.getSelection();t&&tl(()=>null==l?void 0:l.setSelection(t)),y(e)},{deep:!0}),P(()=>e.enable,e=>{l&&l.enable(e)}),{editor:s,getEditor:()=>s.value,getToolbar:()=>{var e;return null==(e=null==l?void 0:l.getModule("toolbar"))?void 0:e.container},getQuill:()=>{if(l)return l;throw'The quill editor hasn\'t been instantiated yet,\n                    make sure to call this method when the editor ready\n                    or use v-on:ready="onReady(quill)" event instead.'},getContents:v,setContents:y,getHTML:h,setHTML:b,pasteHTML:(e,t="api")=>{const a=null==l?void 0:l.clipboard.convert(e);a&&(null==l||l.setContents(a,t))},focus:()=>{null==l||l.focus()},getText:g,setText:_,reinit:()=>{tl(()=>{var e;!t.slots.toolbar&&l&&(null==(e=l.getModule("toolbar"))||e.container.remove()),r()})}}},render(){var e,t;return O("div",{class:"border rounded-md shadow-sm border-input"},[null==(t=(e=this.$slots).toolbar)?void 0:t.call(e),O("div",o({ref:"editor"},this.$attrs))])}}),Id={class:"border rounded-md shadow-sm border-input py-1.5 px-3 text-sm"};const jd=bn({},[["render",function(e,t){return D(),V("div",Id,[B(e.$slots,"default")])}]]),Rd={class:"relative w-full h-40 rounded-md overflow-hidden flex-shrink-0"},Ud=["src"],Md=ee({__name:"PreviewImage",props:{src:{}},setup:e=>(e,t)=>(D(),V("div",Rd,[H(z(La),{class:"absolute right-1 top-1 text-red-300 cursor-pointer",onClick:t[0]||(t[0]=ul(t=>e.$emit("close"),["stop"]))}),t[1]||(t[1]=$()),I("img",{src:e.src,class:"w-full h-full object-contain cursor-pointer",alt:"Product image"},null,8,Ud)]))}),Nd={class:"grid grid-cols-2 gap-4"},Ed={class:"grid grid-cols-2 gap-4"},zd={class:"grid grid-cols-2 gap-4"},Ld={class:"flex flex-row items-center justify-between rounded-sm border py-1.5 px-3"},Kd={key:1,class:"font-medium select-none"},Hd={class:"flex items-end justify-between"},Gd={class:"flex items-end justify-between"},Wd=ee({__name:"ProductForm",props:{product:{},isAiConfig:{type:Boolean},submitForm:{type:Function}},emits:["generateDescription"],setup(e,{expose:t}){const l=$i(),{categories:a}=lt(l),s=Ka({name:"productForm",validationSchema:Ga($d)}),n=e;t({form:s});const r=s.handleSubmit((e,t)=>c(null,null,function*(){yield n.submitForm(e,t)})),u=x(!1);return(e,t)=>(D(),V("form",{class:"p-10 pt-2 space-y-6",onSubmit:t[9]||(t[9]=ul((...e)=>z(r)&&z(r)(...e),["prevent"]))},[H(z(Ha),{name:"name","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[10]||(t[10]=[$("Name",-1)])]),_:1}),t[11]||(t[11]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Product name"},e),null,16)]),_:2},1024),t[12]||(t[12]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[60]||(t[60]=$()),I("div",Nd,[H(z(Ha),{name:"regular_price","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[13]||(t[13]=[$("Regular Price",-1)])]),_:1}),t[14]||(t[14]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"number",placeholder:"Enter price"},e),null,16)]),_:2},1024),t[15]||(t[15]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[19]||(t[19]=$()),H(z(Ha),{name:"sale_price","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[16]||(t[16]=[$("Sale Price",-1)])]),_:1}),t[17]||(t[17]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"number",placeholder:"Enter price"},e),null,16)]),_:2},1024),t[18]||(t[18]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"])]),t[61]||(t[61]=$()),I("div",Ed,[H(z(Ha),{name:"stock","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[20]||(t[20]=[$("Stock",-1)])]),_:1}),t[21]||(t[21]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"number",placeholder:"Enter stock quantity"},e),null,16)]),_:2},1024),t[22]||(t[22]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[26]||(t[26]=$()),H(z(Ha),{name:"sku","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[23]||(t[23]=[$("SKU",-1)])]),_:1}),t[24]||(t[24]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"SKU"},e),null,16)]),_:2},1024),t[25]||(t[25]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"])]),t[62]||(t[62]=$()),I("div",zd,[H(z(Ha),{name:"categories","validate-on-blur":!z(s).isFieldDirty},{default:N(({value:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[27]||(t[27]=[$("Categories",-1)])]),_:1}),t[28]||(t[28]=$()),H(z(Ji),null,{default:N(()=>[H(od,{items:z(a),"model-value":e,onOnSelect:t[0]||(t[0]=e=>z(s).setFieldValue("categories",e)),itemKey:"id",itemValue:"name",placeholder:"Select categories"},null,8,["items","model-value"])]),_:2},1024),t[29]||(t[29]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[48]||(t[48]=$()),H(z(Ha),{name:"status","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[30]||(t[30]=[$("Status",-1)])]),_:1}),t[39]||(t[39]=$()),H(z(Ji),null,{default:N(()=>[H(z(Yr),Y(J(e)),{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select status"})]),_:1}),t[38]||(t[38]=$()),H(z(Jr),null,{default:N(()=>[H(z(eu),{value:"publish"},{default:N(()=>[...t[31]||(t[31]=[$("\n                                    Published\n                                ",-1)])]),_:1}),t[35]||(t[35]=$()),H(z(eu),{value:"draft"},{default:N(()=>[...t[32]||(t[32]=[$("Draft",-1)])]),_:1}),t[36]||(t[36]=$()),H(z(eu),{value:"pending"},{default:N(()=>[...t[33]||(t[33]=[$("Pending",-1)])]),_:1}),t[37]||(t[37]=$()),H(z(eu),{value:"private"},{default:N(()=>[...t[34]||(t[34]=[$("Private",-1)])]),_:1})]),_:1})]),_:1},16)]),_:2},1024),t[40]||(t[40]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[49]||(t[49]=$()),H(z(Ha),{name:"featured","validate-on-blur":!z(s).isFieldDirty},{default:N(({value:e,handleChange:l})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[41]||(t[41]=[$("Featured Product",-1)])]),_:1}),t[44]||(t[44]=$()),I("div",Ld,[t[42]||(t[42]=I("p",{class:"text-sm font-normal text-gray-400"},"\n                            Product will be featured\n                        ",-1)),t[43]||(t[43]=$()),H(z(Ji),null,{default:N(()=>[H(z(td),{checked:e,"onUpdate:checked":l},null,8,["checked","onUpdate:checked"])]),_:2},1024)])]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[50]||(t[50]=$()),H(z(Ha),{name:"image","validate-on-blur":!z(s).isFieldDirty},{default:N(({value:l})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[45]||(t[45]=[$("Image",-1)])]),_:1}),t[46]||(t[46]=$()),H(z(Ji),null,{default:N(()=>{var l;return[H(Td,{modelValue:u.value,"onUpdate:modelValue":t[2]||(t[2]=e=>u.value=e),url:null==(l=e.product)?void 0:l.image_url,"onUpdate:url":t[3]||(t[3]=t=>z(_.set)(e.product,"image_url",t)),onSelect:t[4]||(t[4]=e=>{z(s).setFieldValue("image",e),u.value=!1})},{default:N(({previewUrl:e,closePreview:l})=>[H(jd,{onClick:t[1]||(t[1]=e=>u.value=!0)},{default:N(()=>[e?(D(),M(Md,{key:0,src:e,onClose:l},null,8,["src","onClose"])):(D(),V("span",Kd,"Choose file"))]),_:2},1024)]),_:1},8,["modelValue","url"])]}),_:1}),t[47]||(t[47]=$()),H(z(ed))]),_:1})]),_:1},8,["validate-on-blur"])]),t[63]||(t[63]=$()),H(z(Ha),{name:"short_description","validate-on-blur":!z(s).isFieldDirty},{default:N(({value:l})=>[H(z(Zi),null,{default:N(()=>[I("div",Hd,[H(z(Xi),null,{default:N(()=>[...t[51]||(t[51]=[$("Short Description",-1)])]),_:1}),t[52]||(t[52]=$()),e.isAiConfig?(D(),M(z(Nn),{key:0,type:"button",variant:"ghost",size:"xs",onClick:t[5]||(t[5]=t=>e.$emit("generateDescription","short",z(s)))},{default:N(()=>[H(z(g))]),_:1})):T("",!0)]),t[53]||(t[53]=$()),H(z(Ji),null,{default:N(()=>[H(z(Ad),{content:l,"onUpdate:content":t[6]||(t[6]=e=>z(s).setFieldValue("short_description",e)),toolbar:"essential"},null,8,["content"])]),_:2},1024),t[54]||(t[54]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[64]||(t[64]=$()),H(z(Ha),{name:"description","validate-on-blur":!z(s).isFieldDirty},{default:N(({value:l})=>[H(z(Zi),null,{default:N(()=>[I("div",Gd,[H(z(Xi),null,{default:N(()=>[...t[55]||(t[55]=[$("Description",-1)])]),_:1}),t[56]||(t[56]=$()),e.isAiConfig?(D(),M(z(Nn),{key:0,type:"button",variant:"ghost",size:"xs",onClick:t[7]||(t[7]=t=>e.$emit("generateDescription","long",z(s)))},{default:N(()=>[H(z(g))]),_:1})):T("",!0)]),t[57]||(t[57]=$()),H(z(Ji),null,{default:N(()=>[H(z(Ad),{content:l,"onUpdate:content":t[8]||(t[8]=e=>z(s).setFieldValue("description",e)),toolbar:"essential"},null,8,["content"])]),_:2},1024),t[58]||(t[58]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[65]||(t[65]=$()),H(z(Nn),{type:"submit",loading:z(s).isSubmitting.value},{default:N(()=>[...t[59]||(t[59]=[$("\n            Submit\n        ",-1)])]),_:1},8,["loading"])],32))}}),Qd=ee({__name:"DataTableBulkAction",props:{table:{},deleteBulkProduct:{type:Function}},setup(e){const{deleting:t,showConfirmDialog:l,handleDelete:a,confirmDelete:s}=mo(),n=e,r=x(!1),u=w(()=>n.table.getFilteredSelectedRowModel().rows.length),o=()=>c(null,null,function*(){r.value=!0;const e=n.table.getFilteredSelectedRowModel().rows.map(e=>e.original.id);yield n.deleteBulkProduct(e),r.value=!1,n.table.resetRowSelection()});return(e,n)=>(D(),V(A,null,[u.value?(D(),M(z(Nn),{key:0,variant:"outline",size:"sm",class:"h-8 border-dashed",onClick:z(a),icon:z(Wa),loading:r.value},{default:N(()=>[$("\n        Delete ("+se(u.value)+")\n    ",1)]),_:1},8,["onClick","icon","loading"])):T("",!0),n[2]||(n[2]=$()),H(z(po),{title:"Are you sure you want to delete those products?",description:"This action will move the product to the trash and can be restored within 30 days.",modelValue:z(l),"onUpdate:modelValue":n[0]||(n[0]=e=>at(l)?l.value=e:null),deleting:z(t),onConfirm:n[1]||(n[1]=e=>z(s)(o))},null,8,["modelValue","deleting"])],64))}}),Yd={__name:"Checkbox",props:{defaultChecked:{type:Boolean,required:!1},checked:{type:[Boolean,String],required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},name:{type:String,required:!1},value:{type:String,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:checked"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(Ya),E(z(n),{class:z(On)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",l.class)}),{default:N(()=>[H(z(Qa),{class:"flex h-full w-full items-center justify-center text-current"},{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(ye),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}},Jd=Object.assign({inheritAttrs:!1},{__name:"DataTableColumnHeader",props:{column:{type:Object},title:{type:String}},setup:e=>(t,l)=>{var a;return e.column.getCanSort()?(D(),V("div",{key:0,class:te(z(On)("flex items-center space-x-2",null!=(a=t.$attrs.class)?a:""))},[H(z(Yn),null,{default:N(()=>[H(z(sr),{"as-child":""},{default:N(()=>[H(z(Nn),{variant:"ghost",size:"sm",class:"-ml-3 h-8 data-[state=open]:bg-accent"},{default:N(()=>[I("span",null,se(e.title),1),l[3]||(l[3]=$()),"desc"===e.column.getIsSorted()?(D(),M(z(Ja),{key:0,class:"ml-2 h-4 w-4"})):"asc"===e.column.getIsSorted()?(D(),M(z(Za),{key:1,class:"ml-2 h-4 w-4"})):(D(),M(z(Pt),{key:2,class:"ml-2 h-4 w-4"}))]),_:1})]),_:1}),l[10]||(l[10]=$()),H(z(Xn),{align:"start"},{default:N(()=>[H(z(er),{onClick:l[0]||(l[0]=t=>e.column.toggleSorting(!1))},{default:N(()=>[H(z(Za),{class:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),l[4]||(l[4]=$("\n                    Asc\n                ",-1))]),_:1}),l[7]||(l[7]=$()),H(z(er),{onClick:l[1]||(l[1]=t=>e.column.toggleSorting(!0))},{default:N(()=>[H(z(Ja),{class:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),l[5]||(l[5]=$("\n                    Desc\n                ",-1))]),_:1}),l[8]||(l[8]=$()),H(z(lr)),l[9]||(l[9]=$()),H(z(er),{onClick:l[2]||(l[2]=t=>e.column.toggleVisibility(!1))},{default:N(()=>[H(z(Xa),{class:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),l[6]||(l[6]=$("\n                    Hide\n                ",-1))]),_:1})]),_:1})]),_:1})],2)):(D(),V("div",{key:1,class:te(t.$attrs.class)},se(e.title),3))}}),Zd={class:"flex flex-col gap-1"},Xd={class:"text-sm line-through text-muted-foreground"},ec={class:"font-medium"},tc={key:1,class:"font-medium"},lc=ee({__name:"DataTablePriceColumn",props:{row:{}},setup(e){const t=e,l=w(()=>t.row.getValue("regular_price")),a=w(()=>t.row.original.sale_price),s=w(()=>t.row.original.currency);return(e,t)=>(D(),V("div",Zd,[a.value?(D(),V(A,{key:0},[I("span",Xd,se(z(zn)(l.value,s.value)),1),t[0]||(t[0]=$()),I("span",ec,se(z(zn)(a.value,s.value)),1)],64)):(D(),V("span",tc,se(z(zn)(l.value,s.value)),1))]))}}),ac={class:"flex items-center flex-wrap"},sc={__name:"CategoryLabel",props:{categories:{type:Array,required:!0}},setup(e){const t=$i(),{categories:l}=lt(t),a=e,s=w(()=>l.value.filter(e=>a.categories.includes(e.id)));return(e,t)=>(D(),V("div",ac,[(D(!0),V(A,null,le(s.value,e=>(D(),M(z(Io),{variant:"secondary",class:"scale-90",key:e.id},{default:N(()=>[$(se(e.name),1)]),_:2},1024))),128))]))}},nc=[{value:"publish",label:"Publish",icon:O(es)},{value:"draft",label:"Draft",icon:O(ts)},{value:"pending",label:"Pending",icon:O(ls)},{value:"private",label:"Private",icon:O(as)}],rc=x([{label:"Details",value:"details",icon:O(rs)},{value:"edit",label:"Edit",icon:O(us)},{value:"create",label:"Create",icon:O(os)}]),uc=[{id:"select",header:({table:e})=>O(Yd,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate","onUpdate:checked":t=>e.toggleAllPageRowsSelected(!!t),ariaLabel:"Select all",class:"translate-y-0.5"}),cell:({row:e})=>O(Yd,{checked:e.getIsSelected(),"onUpdate:checked":t=>e.toggleSelected(!!t),ariaLabel:"Select row",class:"translate-y-0.5"}),enableSorting:!1,enableHiding:!1},{accessorKey:"sku",header:({column:e})=>O(Jd,{column:e,title:"SKU"}),cell:({row:e})=>O("div",e.getValue("sku")),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:({column:e})=>O(Jd,{column:e,title:"Name"}),cell:({row:e})=>O("div",{class:""},[O("p",{class:"max-w-[500px] line-clamp-2 font-medium"},e.getValue("name"))])},{accessorKey:"regular_price",header:({column:e})=>O(Jd,{column:e,title:"Price"}),cell:({row:e})=>O(lc,{row:e})},{accessorKey:"stock",header:({column:e})=>O(Jd,{column:e,title:"Stock"}),cell:({row:e})=>O("span",{class:"max-w-[500px] truncate font-medium"},e.getValue("stock"))},{accessorKey:"featured",header:({column:e})=>O(Jd,{column:e,title:"Featured"}),cell:({row:e})=>O(ss,{fill:e.getValue("featured")?"currentColor":"none",class:"h-4 w-4 text-yellow-500"}),enableSorting:!1,enableHiding:!0},{accessorKey:"categories",header:({column:e})=>O(Jd,{column:e,title:"Categories"}),cell:({row:e})=>O(sc,{categories:e.getValue("categories")}),filterFn:(e,t,l)=>ns(l,e.getValue(t)).length>0},{accessorKey:"status",header:({column:e})=>O(Jd,{column:e,title:"Status"}),cell:({row:e})=>{const t=nc.find(t=>t.value===e.getValue("status"));return t?O("div",{class:"flex w-[100px] items-center"},[t.icon&&O(t.icon,{class:"mr-2 h-4 w-4 text-muted-foreground"}),O("span",t.label)]):null},filterFn:(e,t,l)=>l.includes(e.getValue(t))}],oc=b("product",()=>{const e=x([]),t=x(""),l=x([]),a=x({pageIndex:0,pageSize:15,pageCount:0}),s=x(),{get:n,post:r,put:u,remove:d}=yn(),p=e=>{s.value=e},m=(...t)=>c(null,[...t],function*(t={}){const{data:l,pagination:s}=yield n("products",{params:Ln(t)});a.value={pageIndex:s.current_page-1,pageSize:s.per_page,pageCount:s.total_pages},e.value=l}),f=_.debounce(()=>c(null,null,function*(){return yield m({q:t.value.trim()})}),1e3);return{products:e,pagination:a,getProducts:m,createProduct:t=>c(null,null,function*(){const{data:l,error:a,success:s,message:n}=yield r("products",t);return s&&(e.value=Array.from([...e.value,l])),q[s?"success":"error"](n),{data:l,error:a,success:s,message:n}}),activeProduct:s,setActiveProduct:p,getSingleProduct:e=>c(null,null,function*(){const t=yield n(`products/${e}`).then(({data:e})=>i(o({},e),{price:Number(e.price)}));p(t)}),updateProduct:t=>c(null,null,function*(){const{data:l,error:a,success:s,message:n}=yield u(`products/${t.id}`,t);return s&&(e.value=e.value.map(e=>e.id===t.id?l:e)),q[s?"success":"error"](n),{data:l,error:a,success:s,message:n}}),deleteProduct:t=>c(null,null,function*(){const{message:l,success:a}=yield d(`products/${t}`);a&&(e.value=e.value.filter(e=>e.id!==t),p(void 0)),q.success(l)}),deleteBulkProduct:t=>c(null,null,function*(){const{message:l,success:a}=yield d("products/bulk-delete",{ids:t});a&&(e.value=e.value.filter(e=>!t.includes(e.id)),p(void 0)),q.success(l)}),searchQuery:t,searchFilters:l,getProductsByQuery:f}}),ic=Aa({name:Ma({message:"Product name can't be empty."}).min(2,{message:"Name is too short"}),description:Ma().optional(),short_description:Ma().optional(),image:Ma().url({message:"Invalid image URL format"}).optional(),categories:Ma().optional()});Aa({prompt:Ma().min(1,{message:"Prompt cannot be empty"}),type:Ra(["short","long"]),product:ic});const dc=()=>{const{sendMessage:e}=lo();return{generate_description:(t,l)=>c(null,null,function*(){try{a=l.values,ic.parse(a)}catch(r){return void r.errors.forEach(e=>{q.error(e.message)})}var a;const s=(({type:e,form:t})=>{const l=t.values;return{type:e,prompt:`You are a helpful assistant for helping user to generate e-commerce product ${e} description. The description should be proper HTML formatted key highlighted with bold. Do not use any code block. pre and code tags.\n        \n        Generate ${e} description. Based on this product,  Name: ${l.name}, Current description: ${l.description}, Current short description: ${l.short_description}`,product:{name:l.name,description:l.description,short_description:l.short_description,image:l.image,categories:l.categories}}})({type:t,form:l}),n="short"===t?"short_description":"description";yield e("product/generate-description",s,{textCreated:()=>{l.setFieldValue(n,"")},textDelta:({value:e})=>{l.setFieldValue(n,e)},textDone:({value:e})=>{l.setFieldValue(n,e)}})})}},cc={class:"p-2 h-auto border rounded-md shadow-sm"},pc={class:"flex justify-between gap-1 mt-1"},mc={class:"flex justify-start gap-1"},fc={class:"flex justify-center items-center text-xs gap-1 cursor-pointer hover:opacity-50"},vc={class:"flex justify-end gap-1"},yc={class:"flex justify-center items-center text-xs gap-1 cursor-pointer hover:opacity-50"},gc=["disabled"],_c={class:"flex justify-end"},hc=ee({__name:"GenerateProductForm",props:{suggestPrompts:{},submitForm:{type:Function}},setup(e,{expose:t}){const l=x(!1),a=Aa({prompt:Ma()}),s=Ka({name:"generateProduct",validationSchema:Ga(a)}),n=e,r=s.handleSubmit((e,t)=>c(null,null,function*(){yield n.submitForm(e,t)}));return t({form:s}),(e,t)=>{var a;return D(),V("form",{class:"px-10 py-4 space-y-2",onSubmit:t[2]||(t[2]=ul((...e)=>z(r)&&z(r)(...e),["prevent"]))},[I("div",cc,[H(z(Ha),{name:"prompt","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Ji),null,{default:N(()=>[H(z(Cd),E({class:"p-0 min-h-0 rounded-none border-none focus-visible:ring-0 shadow-none resize-none !overflow-hidden",type:"text",placeholder:"Generate product by AI"},e),null,16)]),_:2},1024)]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[6]||(t[6]=$()),I("div",pc,[I("div",mc,[I("span",fc,[H(z(pl),{class:"w-4 h-4"}),t[3]||(t[3]=$(" Attach\n                    ",-1))])]),t[5]||(t[5]=$()),I("div",vc,[I("span",yc,[I("button",{type:"submit",disabled:!(null==(a=z(s).values.prompt)?void 0:a.length),class:"disabled:opacity-50"},[z(s).isSubmitting.value?T("",!0):(D(),M(z(ds),{key:0,class:"w-4 h-4"}))],8,gc),t[4]||(t[4]=$()),z(s).isSubmitting.value?(D(),M(z(cs),{key:0,class:"w-4 h-4 animate-spin"})):T("",!0)])])])]),t[8]||(t[8]=$()),I("div",_c,[I("span",{class:te(["flex justify-center items-center text-xs gap-1 cursor-pointer opacity-50 hover:opacity-80",l.value?"!opacity-100":"opacity-50"]),onClick:t[0]||(t[0]=e=>l.value=!l.value)},[H(z(cl),{class:"w-4 h-4"}),t[7]||(t[7]=$(" ShortCut\n            ",-1))],2)]),t[9]||(t[9]=$()),l.value?(D(),M(Yu,{key:0,prompts:e.suggestPrompts,size:"sm",onSelect:t[1]||(t[1]=e=>z(s).setFieldValue("prompt",e.content))},null,8,["prompts"])):T("",!0)],32)}}}),bc={class:"p-8"},xc={class:"flex items-center gap-2 transition-opacity duration-200 hover:opacity-80"},wc=ee({__name:"Index",setup(e){const t=$i(),{categoryOptions:l}=lt(t),{subMenuTabs:a,products:s,pagination:n,activeTab:r,activeProduct:u,switchTab:i,getProducts:d,createProduct:p,generateProduct:m,suggestPrompts:f,updateProduct:v,deleteProduct:y,deleteBulkProduct:g,getSingleProduct:_,loading:h}=(()=>{const e=oc(),t=$i(),{categories:l}=lt(t),{sendMessageWithStructure:a}=lo(),s=is("productEditFormRef"),n=is("productCreateFormRef");is("generatePromptRef");const r=x(!1),u=x("create"),i=x([{id:1,title:"iPhone 11",content:"Generate an e-commerce product about iPhone 11 Pro Max with price $100, SKU iphone-11"},{id:2,title:"Leather Wallet",content:"Generate an e-commerce product about a leather wallet with price $50, SKU leather-wallet"},{id:3,title:"Smartwatch",content:"Generate an e-commerce product about a smartwatch with price $200, SKU smartwatch-2023"},{id:4,title:"Denim Jacket",content:"Generate an e-commerce product about a denim jacket with price $80, SKU denim-jacket"}]),{routerReplace:d,productId:p}=Cn(),{products:m,pagination:f,activeProduct:v}=lt(e),y=[{id:2,title:"recent"},{id:3,title:"popular"},{id:4,title:"featured"},{id:5,title:"sale"},{id:6,title:"new"},{id:7,title:"exclusive"}],g=t=>c(null,null,function*(){var l,a;let n=rc.value.find(e=>e.value===u.value);const r=o({},n);n&&"create"!==n.value&&(n.icon=O(de,{class:"w-4 h-4 animate-spin"})),yield e.getSingleProduct(t),(null==(l=s.value)?void 0:l.form)&&(null==(a=s.value)||a.form.setValues(v.value)),n&&"create"!==n.value&&(n.icon=r.icon),d({productId:t})}),_=(...t)=>c(null,[...t],function*(t={}){r.value=!0,yield e.getProducts(t),r.value=!1});return k(()=>c(null,null,function*(){yield _(),(p.value||m.value.length>0)&&(u.value="details",yield g(p.value||m.value[0].id)),yield t.getCategories()})),{subMenuTabs:rc,products:m,activeTab:u,loading:r,pagination:f,activeProduct:v,getSingleProduct:g,deleteProduct:t=>c(null,null,function*(){yield e.deleteProduct(t.id),d({productId:void 0})}),createProduct:(t,l)=>c(null,null,function*(){var a;const s=yield e.createProduct(t);if(s.success)l.resetForm(),l.setFieldValue("categories",[]),l.setFieldValue("tags",[]);else{const e=null==(a=n.value)?void 0:a.form;e&&e.setErrors(s.error)}}),generateProduct:e=>c(null,null,function*(){var t,s;e.context=(e=>e.map(e=>{const t=e.data.map(e=>`{id: ${e.id}, title: '${(null==e?void 0:e.title)||(null==e?void 0:e.name)}'}`).join(", ");return`${e.title}: [${t}]`}).join(" "))([{data:l.value,title:"Categories"},{data:y,title:"Tags"}]);const{data:r,error:u,success:o,message:i}=yield a("product/generate",e);return o&&(null==(t=n.value)?void 0:t.form)&&(null==(s=n.value)||s.form.setValues(r)),q[o?"success":"error"](i),{data:r,error:u,success:o,message:i}}),suggestPrompts:i,updateProduct:t=>c(null,null,function*(){var l;t.id=v.value.id;const a=yield e.updateProduct(t);if(!a.success){const e=null==(l=s.value)?void 0:l.form;e&&e.setErrors(a.error)}}),switchTab:e=>{"edit"===e&&setTimeout(()=>{var e,t;(null==(e=s.value)?void 0:e.form)&&(null==(t=s.value)||t.form.setValues(v.value))},50)},getProducts:_,deleteBulkProduct:t=>c(null,null,function*(){return yield e.deleteBulkProduct(t)})}})(),{generate_description:b}=dc(),{deleting:w,showConfirmDialog:C,handleDelete:S,confirmDelete:F}=mo(),P=gn(),{isAiConfig:B}=lt(P);return(e,t)=>(D(),M(Er,{activeRouteName:"app.product"},{sidebar:N(()=>[H(z(zr),{class:"w-full",modelValue:z(r),"onUpdate:modelValue":[t[1]||(t[1]=e=>at(r)?r.value=e:null),z(i)]},{default:N(()=>[H(Au,null,{header:N(()=>[H(z(Kr),{class:"w-full rounded-none"},{default:N(()=>[(D(!0),V(A,null,le(z(a),e=>(D(),M(z(Gr),{key:e.value,class:"data-[state=active]:shadow-none data-[state=active]:bg-transparent",value:e.value},{default:N(()=>[I("div",xc,[(D(),M(ie(e.icon),{class:"w-4 h-4"})),$(" "+se(e.label),1)])]),_:2},1032,["value"]))),128))]),_:1})]),default:N(()=>[t[9]||(t[9]=$()),H(z(Lr),{value:"details",class:"mt-0"},{default:N(()=>[z(u)?(D(),M(Wi,{key:0,product:z(u),handleDelete:z(S)},null,8,["product","handleDelete"])):T("",!0)]),_:1}),t[10]||(t[10]=$()),H(z(Lr),{value:"edit",class:"mt-0"},{default:N(()=>[H(Wd,{submitForm:z(v),product:z(u),isAiConfig:z(B),ref:"productEditFormRef",onGenerateDescription:z(b)},null,8,["submitForm","product","isAiConfig","onGenerateDescription"])]),_:1}),t[11]||(t[11]=$()),H(z(Lr),{value:"create",class:"mt-0"},{default:N(()=>[z(B)?(D(),M(hc,{key:0,submitForm:z(m),suggestPrompts:z(f),ref:"generatePromptRef"},null,8,["submitForm","suggestPrompts"])):T("",!0),t[8]||(t[8]=$()),H(Wd,{submitForm:z(p),isAiConfig:z(B),ref:"productCreateFormRef",onGenerateDescription:z(b)},null,8,["submitForm","isAiConfig","onGenerateDescription"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),default:N(()=>[H(Pn,{loading:z(h)},null,8,["loading"]),t[12]||(t[12]=$()),I("div",bc,[H(z(To),{data:z(s),columns:z(uc),pagination:z(n),reFetch:z(d),activeProduct:z(u),onRowClick:t[0]||(t[0]=e=>z(_)(e.id))},{toolbar:N(({table:e})=>[H(z(Ao),{table:e},{search:N(()=>[H(z(si),{placeholder:"Product search...",table:e},null,8,["table"])]),filter:N(()=>[e.getColumn("status")?(D(),M(z(ti),{key:0,column:e.getColumn("status"),title:"Status",options:z(nc)},null,8,["column","options"])):T("",!0),t[4]||(t[4]=$()),e.getColumn("categories")?(D(),M(z(ti),{key:1,column:e.getColumn("categories"),title:"Categories",options:z(l)},null,8,["column","options"])):T("",!0),t[5]||(t[5]=$()),H(Qd,{table:e,deleteBulkProduct:z(g)},null,8,["table","deleteBulkProduct"])]),viewOption:N(()=>[H(z(li),{table:e},null,8,["table"])]),_:2},1032,["table"])]),_:1},8,["data","columns","pagination","reFetch","activeProduct"])]),t[13]||(t[13]=$()),t[14]||(t[14]=$()),H(z(po),{title:"Are you sure you want to delete this product?",description:"This action will move the product to the trash and can be restored within 30 days.",modelValue:z(C),"onUpdate:modelValue":t[2]||(t[2]=e=>at(C)?C.value=e:null),deleting:z(w),onConfirm:t[3]||(t[3]=e=>z(F)(z(y)))},null,8,["modelValue","deleting"])]),_:1}))}}),qc=Object.freeze(Object.defineProperty({__proto__:null,default:wc},Symbol.toStringTag,{value:"Module"})),Cc=b("customer",()=>{const e=x([]),t=x();x(null),x(!1);const{get:l,post:a,put:s,remove:n}=yn(),r=e=>c(null,null,function*(){const{data:a}=yield l(`customers/${e}`);t.value=a});return{customers:e,getCustomers:()=>c(null,null,function*(){const{data:t}=yield l("customers");e.value=t}),activeCustomer:t,getSingleCustomer:r,setActiveCustomer:e=>{t.value=e},createCustomer:t=>c(null,null,function*(){const{data:l,error:s,message:n,success:r}=yield a("customers",t);return e.value=r?Array.from([l,...e.value]):e.value,q[r?"success":"error"](n),{data:l,error:s,success:r,message:n}}),updateCustomer:t=>c(null,null,function*(){const{data:l,error:a,success:n,message:r}=yield s(`customers/${t.id}`,t);return n&&(e.value=e.value.map(e=>e.id===t.id?l:e)),q[n?"success":"error"](r),{data:l,error:a,success:n,message:r}}),deleteCustomer:t=>c(null,null,function*(){const{message:l,success:a}=yield n(`customers/${t}`);a&&(e.value=e.value.filter(e=>Number(e.id)!==Number(t)),e.value.length>0&&(yield r(e.value[0].id))),q.success(l)})}}),kc=x([{label:"Details",value:"details",icon:O(rs)},{value:"edit",label:"Edit",icon:O(us)},{value:"create",label:"Create",icon:O(os)}]);O(ps),O(ts),O(ls),O(es);const Sc=[{accessorKey:"src",header:({column:e})=>O(Jd,{column:e,title:"Image"}),enableSorting:!1,enableHiding:!1},{accessorKey:"full_name",header:({column:e})=>O(Jd,{column:e,title:"Name"})},{accessorKey:"phone",header:({column:e})=>O(Jd,{column:e,title:"Phone"})},{accessorKey:"shipping",header:({column:e})=>O(Jd,{column:e,title:"Address"}),enableSorting:!1},{accessorKey:"total_orders",header:({column:e})=>O(Jd,{column:e,title:"Total Order"})}],Fc=["src"],Pc={class:"font-medium"},Oc={class:"hidden text-sm text-muted-foreground md:inline"},Vc={key:0},Dc={class:"font-medium"},Tc={class:"text-sm text-muted-foreground md:inline"},$c=ee({__name:"CustomerDataTable",props:{customers:{},activeCustomer:{}},setup:e=>(e,t)=>(D(),M(z(To),{data:e.customers,columns:z(Sc)},{toolbar:N(({table:e})=>[H(z(Ao),{table:e},{search:N(()=>[H(z(si),{placeholder:"Enter customer name",table:e,"search-key":"full_name"},null,8,["table"])]),_:2},1032,["table"])]),tbody:N(({table:l})=>[H(z(yi),{table:l,columns:z(Sc)},{tableBody:N(()=>[(D(!0),V(A,null,le(l.getRowModel().rows,l=>{var a;return D(),M(z(di),{key:l.id,onClick:t=>e.$emit("rowClick",l.original),"data-state":l.original.id==(null==(a=e.activeCustomer)?void 0:a.id)&&"selected",class:"cursor-pointer"},{default:N(()=>[H(z(ii),{class:"!w-44"},{default:N(()=>{var e;return[I("img",{alt:"Customer profile image",class:"aspect-square rounded-full object-cover h-10 w-10",src:null==(e=l.original)?void 0:e.profile_image},null,8,Fc)]}),_:2},1024),t[2]||(t[2]=$()),H(z(ii),{class:"font-medium align-middle"},{default:N(()=>{var e,a;return[I("div",null,[I("div",Pc,se((null==(e=l.original)?void 0:e.full_name)||""),1),t[0]||(t[0]=$()),I("div",Oc,se((null==(a=l.original)?void 0:a.email)||""),1)])]}),_:2},1024),t[3]||(t[3]=$()),H(z(ii),null,{default:N(()=>[$(se(l.original.phone),1)]),_:2},1024),t[4]||(t[4]=$()),H(z(ii),{class:"font-medium align-middle"},{default:N(()=>{var e,a,s,n,r,u,o,i;return[l.original.shipping?(D(),V("div",Vc,[I("div",Dc,se((null==(a=null==(e=l.original)?void 0:e.shipping)?void 0:a.address_1)||""),1),t[1]||(t[1]=$()),I("div",Tc,se((null==(n=null==(s=l.original)?void 0:s.shipping)?void 0:n.postcode)||"")+" "+se((null==(u=null==(r=l.original)?void 0:r.shipping)?void 0:u.city)||"")+" "+se((null==(i=null==(o=l.original)?void 0:o.shipping)?void 0:i.state)||""),1)])):T("",!0)]}),_:2},1024),t[5]||(t[5]=$()),H(z(ii),null,{default:N(()=>[$(se(l.original.total_orders||""),1)]),_:2},1024)]),_:2},1032,["onClick","data-state"])}),128))]),_:2},1032,["table","columns"])]),_:1},8,["data","columns"]))}),Bc={class:"grid auto-rows-max gap-3"},Ac={class:"grid gap-0.5 not-italic"},Ic={class:"text-muted-foreground"},jc=ee({__name:"CustomerAddress",props:{address:{}},setup:e=>(e,t)=>(D(),V("div",Bc,[I("address",Ac,[(D(!0),V(A,null,le(e.address||[],(e,l)=>(D(),V("div",{key:e,class:"flex items-center justify-between"},[I("dt",Ic,se(z(_.startCase)(l))+":",1),t[0]||(t[0]=$()),I("dd",null,se(e),1)]))),128))])]))}),Rc=ee({__name:"CustomerOrders",props:{orders:{}},setup(e){const t=e=>{switch(e.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(e,l)=>(D(),M(z(kr),{class:"rounded-none shadow-none border-none"},{default:N(()=>[H(z(Sr),{class:"p-0"},{default:N(()=>[H(z(ri),null,{default:N(()=>[H(z(fi),null,{default:N(()=>[H(z(di),null,{default:N(()=>[H(z(mi),null,{default:N(()=>[...l[0]||(l[0]=[$("Order ID",-1)])]),_:1}),l[4]||(l[4]=$()),H(z(mi),null,{default:N(()=>[...l[1]||(l[1]=[$("Date",-1)])]),_:1}),l[5]||(l[5]=$()),H(z(mi),null,{default:N(()=>[...l[2]||(l[2]=[$("Status",-1)])]),_:1}),l[6]||(l[6]=$()),H(z(mi),{class:"text-right"},{default:N(()=>[...l[3]||(l[3]=[$("Total",-1)])]),_:1})]),_:1})]),_:1}),l[10]||(l[10]=$()),H(z(ui),null,{default:N(()=>[(D(!0),V(A,null,le(e.orders,e=>(D(),M(z(di),{key:e.order_id},{default:N(()=>[H(z(ii),{class:"font-medium"},{default:N(()=>[$("#"+se(e.order_id),1)]),_:2},1024),l[7]||(l[7]=$()),H(z(ii),null,{default:N(()=>[$(se(z(Hn)(e.date)),1)]),_:2},1024),l[8]||(l[8]=$()),H(z(ii),null,{default:N(()=>[H(z(Io),{class:te(["shadow-none scale-90",t(e.status)]),variant:"solid"},{default:N(()=>[$(se(e.status),1)]),_:2},1032,["class"])]),_:2},1024),l[9]||(l[9]=$()),H(z(ii),{class:"text-right"},{default:N(()=>[$("$"+se(e.total),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}))}}),Uc={class:"rounded-md overflow-hidden border-2 mr-4 w-16 h-16"},Mc=["src"],Nc={class:"flex-1"},Ec={class:"flex items-center gap-2"},zc={class:"ml-auto flex items-center gap-2"},Lc=ee({__name:"CustomerDetails",props:{customer:{},handleDelete:{type:Function}},setup(e){const t=e,l=x("shipping");return P(()=>t.customer,()=>{var e;l.value=(null==(e=t.customer)?void 0:e.orders.length)?"orders":"billing"},{immediate:!0}),(e,t)=>(D(),M(z(kr),{class:"overflow-hidden rounded-none shadow-none border-none"},{default:N(()=>[H(z(Or),{class:"flex flex-row justify-between bg-muted/50"},{default:N(()=>{var l;return[I("div",Uc,[I("img",{src:(null==(l=e.customer)?void 0:l.profile_image)||"",class:"w-full h-full object-cover object-center",alt:""},null,8,Mc)]),t[6]||(t[6]=$()),I("div",Nc,[H(z(Vr),{class:"text-lg"},{default:N(()=>{var t;return[$(se((null==(t=e.customer)?void 0:t.full_name)||""),1)]}),_:1}),t[5]||(t[5]=$()),I("div",Ec,[I("div",null,[H(z(Fr),null,{default:N(()=>{var t;return[$("\n                            Email:\n                            "+se((null==(t=e.customer)?void 0:t.email)||""),1)]}),_:1}),t[2]||(t[2]=$()),H(z(Fr),null,{default:N(()=>{var t;return[$("\n                            Phone:\n                            "+se((null==(t=e.customer)?void 0:t.phone)||""),1)]}),_:1})]),t[4]||(t[4]=$()),I("div",zc,[H(z(Nn),{size:"sm",variant:"outline",class:"hover:text-red-400",onClick:t[0]||(t[0]=t=>e.handleDelete(e.customer))},{default:N(()=>[H(z(na),{class:"w-4 h-4"}),t[3]||(t[3]=$(" Delete\n                        ",-1))]),_:1})])])])]}),_:1}),t[15]||(t[15]=$()),H(z(Sr),{class:"p-6 text-sm"},{default:N(()=>[H(z(fr),{type:"single",collapsible:"",modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e)},{default:N(()=>{var l,a;return[(null==(a=null==(l=e.customer)?void 0:l.orders)?void 0:a.length)?(D(),M(z(yr),{key:0,value:"orders"},{default:N(()=>[H(z(gr),null,{default:N(()=>[...t[7]||(t[7]=[$("Order List",-1)])]),_:1}),t[8]||(t[8]=$()),H(z(vr),null,{default:N(()=>[H(Rc,{orders:e.customer.orders},null,8,["orders"])]),_:1})]),_:1})):T("",!0),t[13]||(t[13]=$()),H(z(yr),{value:"billing"},{default:N(()=>[H(z(gr),null,{default:N(()=>[...t[9]||(t[9]=[$("Billing Address",-1)])]),_:1}),t[10]||(t[10]=$()),H(z(vr),null,{default:N(()=>{var t;return[H(jc,{address:null==(t=e.customer)?void 0:t.billing},null,8,["address"])]}),_:1})]),_:1}),t[14]||(t[14]=$()),H(z(yr),{value:"shipping"},{default:N(()=>[H(z(gr),null,{default:N(()=>[...t[11]||(t[11]=[$("Shipping Address",-1)])]),_:1}),t[12]||(t[12]=$()),H(z(vr),null,{default:N(()=>{var t;return[H(jc,{address:null==(t=e.customer)?void 0:t.shipping},null,8,["address"])]}),_:1})]),_:1})]}),_:1},8,["modelValue"])]),_:1})]),_:1}))}}),Kc={class:"grid grid-cols-2 gap-4"},Hc=ee({__name:"AddressForm",props:{type:{},prefix:{}},setup(e){const t=e,l=t.prefix||t.type;return(e,t)=>(D(),V("div",Kc,[H(z(Ha),{name:`${z(l)}.first_name`},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[0]||(t[0]=[$("First Name",-1)])]),_:1}),t[1]||(t[1]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter first name"},e),null,16)]),_:2},1024),t[2]||(t[2]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["name"]),t[33]||(t[33]=$()),H(z(Ha),{name:`${z(l)}.last_name`},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[3]||(t[3]=[$("Last Name",-1)])]),_:1}),t[4]||(t[4]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter last name"},e),null,16)]),_:2},1024),t[5]||(t[5]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["name"]),t[34]||(t[34]=$()),H(z(Ha),{name:`${z(l)}.company`},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[6]||(t[6]=[$("Company",-1)])]),_:1}),t[7]||(t[7]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter company name"},e),null,16)]),_:2},1024),t[8]||(t[8]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["name"]),t[35]||(t[35]=$()),H(z(Ha),{name:`${z(l)}.address_1`,class:"col-span-2"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[9]||(t[9]=[$("Address Line 1",-1)])]),_:1}),t[10]||(t[10]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter street address"},e),null,16)]),_:2},1024),t[11]||(t[11]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["name"]),t[36]||(t[36]=$()),H(z(Ha),{name:`${z(l)}.address_2`,class:"col-span-2"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[12]||(t[12]=[$("Address Line 2",-1)])]),_:1}),t[13]||(t[13]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Apartment, suite, etc. (optional)"},e),null,16)]),_:2},1024),t[14]||(t[14]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["name"]),t[37]||(t[37]=$()),H(z(Ha),{name:`${z(l)}.city`},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[15]||(t[15]=[$("City",-1)])]),_:1}),t[16]||(t[16]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter city"},e),null,16)]),_:2},1024),t[17]||(t[17]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["name"]),t[38]||(t[38]=$()),H(z(Ha),{name:`${z(l)}.state`},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[18]||(t[18]=[$("State/Province",-1)])]),_:1}),t[19]||(t[19]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter state"},e),null,16)]),_:2},1024),t[20]||(t[20]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["name"]),t[39]||(t[39]=$()),H(z(Ha),{name:`${z(l)}.postcode`},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[21]||(t[21]=[$("Postal Code",-1)])]),_:1}),t[22]||(t[22]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter postal code"},e),null,16)]),_:2},1024),t[23]||(t[23]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["name"]),t[40]||(t[40]=$()),H(z(Ha),{name:`${z(l)}.country`},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[24]||(t[24]=[$("Country",-1)])]),_:1}),t[25]||(t[25]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter country"},e),null,16)]),_:2},1024),t[26]||(t[26]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["name"]),t[41]||(t[41]=$()),"billing"===e.type?(D(),M(z(Ha),{key:0,name:`${z(l)}.email`},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[27]||(t[27]=[$("Email",-1)])]),_:1}),t[28]||(t[28]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"email",placeholder:"Enter email"},e),null,16)]),_:2},1024),t[29]||(t[29]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["name"])):T("",!0),t[42]||(t[42]=$()),"billing"===e.type?(D(),M(z(Ha),{key:1,name:`${z(l)}.phone`},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[30]||(t[30]=[$("Phone",-1)])]),_:1}),t[31]||(t[31]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"tel",placeholder:"Enter phone number"},e),null,16)]),_:2},1024),t[32]||(t[32]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["name"])):T("",!0)]))}}),Gc=Aa({first_name:Ma().optional(),last_name:Ma().optional(),company:Ma().optional(),address_1:Ma().optional(),address_2:Ma().optional(),city:Ma().optional(),state:Ma().optional(),postcode:Ma().optional(),country:Ma().optional()}),Wc=Gc.extend({email:Ma().optional(),phone:Ma().optional()}),Qc=Aa({username:Ma({required_error:"Username is required."}).min(2,{message:"Username must be at least 2 characters."}),email:Ma().email().optional(),first_name:Ma().min(1,"First name is required"),last_name:Ma().min(1,"Last name is required"),phone:Ma().min(10,"Valid phone number is required"),sameAddress:ja().default(!0).optional(),billing:Wc.optional(),shipping:Gc}),Yc={class:"grid grid-cols-2 gap-4"},Jc={class:"space-y-6"},Zc={class:"space-y-6"},Xc={class:"space-y-2"},ep={class:"flex items-center justify-between"},tp={key:0,class:"space-y-2"},lp=ee({__name:"CustomerForm",props:{submitForm:{type:Function},name:{}},setup(e,{expose:t}){var l;const a=e,s=Ka({name:null!=(l=a.name)?l:"customerForm",validationSchema:Ga(Qc)});t({form:s});const n=s.handleSubmit((e,t)=>c(null,null,function*(){yield a.submitForm(e,t)}));return(e,t)=>(D(),V("form",{class:"p-10 space-y-6",onSubmit:t[0]||(t[0]=ul((...e)=>z(n)&&z(n)(...e),["prevent"]))},[I("div",Yc,["editForm"!==e.name?(D(),M(z(Ha),{key:0,name:"username","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[1]||(t[1]=[$("Username",-1)])]),_:1}),t[2]||(t[2]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter username"},e),null,16)]),_:2},1024),t[3]||(t[3]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"])):T("",!0),t[16]||(t[16]=$()),"editForm"!==e.name?(D(),M(z(Ha),{key:1,name:"email","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[4]||(t[4]=[$("Email",-1)])]),_:1}),t[5]||(t[5]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"email",placeholder:"email@example.com"},e),null,16)]),_:2},1024),t[6]||(t[6]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"])):T("",!0),t[17]||(t[17]=$()),H(z(Ha),{name:"first_name","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[7]||(t[7]=[$("First Name",-1)])]),_:1}),t[8]||(t[8]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter first name"},e),null,16)]),_:2},1024),t[9]||(t[9]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[18]||(t[18]=$()),H(z(Ha),{name:"last_name","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[10]||(t[10]=[$("Last Name",-1)])]),_:1}),t[11]||(t[11]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter last name"},e),null,16)]),_:2},1024),t[12]||(t[12]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[19]||(t[19]=$()),H(z(Ha),{name:"phone","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[13]||(t[13]=[$("Phone",-1)])]),_:1}),t[14]||(t[14]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"tel",placeholder:"Enter phone number"},e),null,16)]),_:2},1024),t[15]||(t[15]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"])]),t[29]||(t[29]=$()),I("div",Jc,[I("div",Zc,[I("div",Xc,[I("div",ep,[t[22]||(t[22]=I("h3",{class:"text-lg font-medium"},"Billing Address",-1)),t[23]||(t[23]=$()),H(z(Ha),{name:"sameAddress"},{default:N(({value:e,handleChange:l})=>[H(z(Zi),{class:"flex flex-row items-center justify-start gap-x-2 rounded-lg px-2 py-1"},{default:N(()=>[I("div",null,[H(z(Xi),{class:"text-xs"},{default:N(()=>[...t[20]||(t[20]=[$("Use same address for\n                                        Shipping",-1)])]),_:1})]),t[21]||(t[21]=$()),H(z(Ji),null,{default:N(()=>[H(z(td),{checked:e,"onUpdate:checked":l},null,8,["checked","onUpdate:checked"])]),_:2},1024)]),_:2},1024)]),_:1})]),t[24]||(t[24]=$()),H(Hc,{type:"billing"})]),t[27]||(t[27]=$()),z(s).values.sameAddress?T("",!0):(D(),V("div",tp,[t[25]||(t[25]=I("h3",{class:"text-lg font-medium"},"Shipping Address",-1)),t[26]||(t[26]=$()),H(Hc,{type:"shipping"})]))])]),t[30]||(t[30]=$()),H(z(Nn),{type:"submit",loading:z(s).isSubmitting.value},{default:N(()=>[...t[28]||(t[28]=[$("\n            Create Customer\n        ",-1)])]),_:1},8,["loading"])],32))}}),ap={class:"p-8 overflow-y-auto"},sp={class:"flex items-center gap-2 transition-opacity duration-200 hover:opacity-80"},np=ee({__name:"Index",setup(e){const{subMenuTabs:t,customers:l,activeTab:a,activeCustomer:s,switchTab:n,createCustomer:r,updateCustomer:u,deleteCustomer:i,getSingleCustomer:d}=(()=>{const e=is("customerEditFormRef"),t=is("customerCreateFormRef"),l=x("details"),{routerReplace:a,customerId:s}=Cn(),n=Cc(),{customers:r,activeCustomer:u}=lt(n),i=t=>c(null,null,function*(){var s,r;const i=kc.value.find(e=>e.value===l.value),d=o({},i);i&&"create"!==i.value&&(i.icon=O(de,{class:"w-4 h-4 animate-spin"})),yield n.getSingleCustomer(t),null==(r=null==(s=e.value)?void 0:s.form)||r.setValues(u.value),i&&"create"!==i.value&&(i.icon=d.icon),a({customerId:t})});return k(()=>c(null,null,function*(){yield n.getCustomers(),(s.value||r.value.length>0)&&(yield i(s.value||r.value[0].id))})),{subMenuTabs:kc,activeTab:l,switchTab:t=>{"edit"===t&&setTimeout(()=>{var t;const l=null==(t=e.value)?void 0:t.form;null==l||l.setValues(u.value)},50)},customers:r,activeCustomer:u,createCustomer:(e,l)=>c(null,null,function*(){var a;const{success:s,error:r}=yield n.createCustomer(e);if(s)l.resetForm();else{const e=null==(a=t.value)?void 0:a.form;null==e||e.setErrors(r)}}),deleteCustomer:e=>c(null,null,function*(){yield n.deleteCustomer(e.id),a({customerId:void 0})}),getSingleCustomer:i,updateCustomer:t=>c(null,null,function*(){var l,a;t.id=null==(l=u.value)?void 0:l.id;const{success:s,error:r}=yield n.updateCustomer(t);if(!s){const t=null==(a=e.value)?void 0:a.form;null==t||t.setErrors(r)}})}})(),{deleting:p,showConfirmDialog:m,handleDelete:f,confirmDelete:v}=mo();return(e,o)=>(D(),M(Er,{activeRouteName:"app.customer"},{sidebar:N(()=>[H(z(zr),{class:"w-full",modelValue:z(a),"onUpdate:modelValue":[o[1]||(o[1]=e=>at(a)?a.value=e:null),z(n)]},{default:N(()=>[H(Au,null,{header:N(()=>[H(z(Kr),{class:"w-full rounded-none"},{default:N(()=>[(D(!0),V(A,null,le(z(t),e=>(D(),M(z(Gr),{key:e.value,class:"data-[state=active]:shadow-none data-[state=active]:bg-transparent",value:e.value},{default:N(()=>[I("div",sp,[(D(),M(ie(e.icon),{class:"w-4 h-4"})),$(" "+se(e.label),1)])]),_:2},1032,["value"]))),128))]),_:1})]),default:N(()=>[o[4]||(o[4]=$()),H(z(Lr),{value:"details",class:"mt-0"},{default:N(()=>[H(Lc,{customer:z(s),handleDelete:z(f)},null,8,["customer","handleDelete"])]),_:1}),o[5]||(o[5]=$()),H(z(Lr),{value:"create",class:"mt-0"},{default:N(()=>[H(lp,{submitForm:z(r),name:"createForm",ref:"customerCreateFormRef"},null,8,["submitForm"])]),_:1}),o[6]||(o[6]=$()),H(z(Lr),{value:"edit",class:"mt-0"},{default:N(()=>[H(lp,{submitForm:z(u),name:"editForm",ref:"customerEditFormRef"},null,8,["submitForm"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),default:N(()=>[I("div",ap,[H($c,{customers:z(l),activeCustomer:z(s),onRowClick:o[0]||(o[0]=e=>z(d)(e.id))},null,8,["customers","activeCustomer"])]),o[7]||(o[7]=$()),o[8]||(o[8]=$()),H(z(po),{title:"Are you sure you want to delete this customer?",description:"This action will move the customer to the trash and can be restored within 30 days.",modelValue:z(m),"onUpdate:modelValue":o[2]||(o[2]=e=>at(m)?m.value=e:null),deleting:z(p),onConfirm:o[3]||(o[3]=e=>z(v)(z(i)))},null,8,["modelValue","deleting"])]),_:1}))}}),rp=Object.freeze(Object.defineProperty({__proto__:null,default:np},Symbol.toStringTag,{value:"Module"})),up=b("sales",()=>{const e=x([]),t=hn(),l=x(null),a=ms(),s=x(!1),n=x(0),{post:r}=yn(),u=x(!1),i=()=>_.find(e.value,{id:l.value}),d=e=>{l.value=e};function p(e){const t=i();if(t){const l=_.findIndex(t.items,t=>t.id===e);l>-1&&t.items.splice(l,1)}}const m=()=>{const e=JSON.parse(localStorage.getItem("pendingOrders")||"[]").length;e>0?(s.value=!0,n.value=e):(s.value=!1,n.value=0)};return{carts:e,loading:u,addToCart:function(e){const t=i(),l=t&&Array.isArray(t.items)?_.find(t.items,t=>t.id===e.id):void 0;l?l.quantity=(l.quantity||0)+1:(e.quantity=1,t.items.push(o({},e)))},removeFromCart:p,decreaseQuantity:function(e){const t=i(),l=t&&Array.isArray(t.items)?_.find(t.items,t=>t.id===e.id):void 0;l&&(l.quantity=l.quantity-1,0===l.quantity&&p(e.id))},clearCart:t=>{const l=e.value.findIndex(e=>e.id===t);-1!==l&&(e.value[l].items=[])},paymentMethods:[{id:"cash",name:"Cash"},{id:"card",name:"Card"},{id:"bank_transfer",name:"Bank Transfer"},{id:"paypal",name:"PayPal"},{id:"upi",name:"UPI"},{id:"cryptocurrency",name:"Cryptocurrency"},{id:"cod",name:"Cash on Delivery"}],syncOrder:()=>c(null,null,function*(){var e,l;if(a.value){const a=JSON.parse(localStorage.getItem("pendingOrders")||"[]");let n=[];for(let u=0;u<a.length;u++){const o=a[u];try{const e=yield r("orders",o,{auth:t.userCredentials}),{success:l,message:a}=e;q[l?"success":"error"](a),l&&n.push(u)}catch(s){const t=(null==(l=null==(e=null==s?void 0:s.response)?void 0:e.data)?void 0:l.message)||(s instanceof Error?s.message:"Failed to sync order");q.error(t)}}n.sort((e,t)=>t-e).forEach(e=>a.splice(e,1)),localStorage.setItem("pendingOrders",JSON.stringify(a)),m()}else q.warning("Connect to the internet to sync.")}),activeCartId:l,addNewCart:()=>{const t=Date.now();return e.value.push({id:t,items:[]}),d(t),t},deleteCart:t=>{const l=e.value.findIndex(e=>e.id===t);return e.value.length>1&&(e.value.splice(l,1),d(0!==l?e.value[l-1].id:e.value[l].id)),!1},getActiveCart:i,createOrder:e=>c(null,null,function*(){var l;try{if(!1!==a.value){const l=yield r("orders",e,{auth:t.userCredentials}),{success:a,message:s}=l;return q[a?"success":"error"](s),{success:a,message:s,offline:!1,data:l}}try{const t=JSON.parse(localStorage.getItem("pendingOrders")||"[]");t.push(e),localStorage.setItem("pendingOrders",JSON.stringify(t));const l=!0,a="Product are saved.";return q[l?"success":"error"](a),m(),{success:l,message:a,offline:!0}}catch(s){return{success:!1,message:"Failed to save offline order",error:s}}}catch(s){const e=null==(l=null==s?void 0:s.response)?void 0:l.data,t=(null==e?void 0:e.message)||(s instanceof Error?s.message:"Failed to submit order"),a=(null==e?void 0:e.details)||"Please try again or contact support if the issue persists";return q.error(t,{description:a}),{success:!1,message:t,details:a}}}),syncPending:s,totalPending:n,checkPendingOrders:m}}),op=()=>{const e=x(!1),t=x([]),l=x({customer_id:null,payment_method:"cash",line_items:[]}),a=oc(),s=Cc(),{products:n}=lt(a),{customers:r}=lt(s),u=up(),{getActiveCart:o}=u,{carts:i,activeCartId:d,syncPending:p,totalPending:m}=lt(u);const f=x(),v=e=>{f.value=e,l.value.customer_id=e.id},y=w(()=>o()),g=w(()=>{const e=y.value.items.reduce((e,t)=>e+t.quantity,0);return e||"No"}),h=w(()=>{var e;if(_.isEmpty(null==(e=y.value)?void 0:e.items))return;const t=y.value.items.reduce((e,t)=>e+(t.sale_price||t.price)*t.quantity,0);return zn(t,function(){var e;return(null==(e=o().items[0])?void 0:e.currency)||"USD"}())}),b=e=>{l.value={customer_id:null,payment_method:"cash",line_items:[]},f.value=void 0,u.clearCart(e)};return k(()=>c(null,null,function*(){yield a.getProducts(),t.value=n.value.flatMap(e=>{var t;return(null==(t=e.variations)?void 0:t.length)?e.variations:[e]}),yield s.getCustomers(),yield u.checkPendingOrders()})),{createCustomer:t=>c(null,null,function*(){const{data:l,success:a}=yield s.createCustomer(t);v(l),e.value=!1}),customers:r,showCustomerForm:e,activeCustomer:f,setActiveCustomer:v,salesProducts:t,syncPending:p,totalPending:m,handlePending:()=>{u.syncOrder()},carts:i,getActiveCart:o,orderForm:l,submitOrder:()=>c(null,null,function*(){l.value.line_items=o().items.map(e=>({product_id:e.id,quantity:e.quantity}));const{success:e}=yield u.createOrder(l.value);e&&b(d.value)}),handleAddPaymentMethod:()=>{try{if(l.value.split_payments)l.value.split_payments.push({method:"cash",amount:""});else{const e=l.value.payment_method||"cash";l.value.split_payments=[{method:e,amount:""}],delete l.value.payment_method}}catch(e){q.error("Failed to add payment method")}},handleRemovePaymentMethod:e=>{var t;try{if(!l.value.split_payments)return;if(l.value.split_payments.length<2){const e=(null==(t=l.value.split_payments[0])?void 0:t.method)||"cash";delete l.value.split_payments,l.value.payment_method=e}else l.value.split_payments.splice(e,1)}catch(a){q.error("Failed to remove payment method")}},cartTotal:h,cartItemsCount:g,clearCartHandler:b}},ip={__name:"NumberField",props:{defaultValue:{type:Number,required:!1},modelValue:{type:Number,required:!1},min:{type:Number,required:!1},max:{type:Number,required:!1},step:{type:Number,required:!1},formatOptions:{type:null,required:!1},locale:{type:String,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},name:{type:String,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(fs),E(z(n),{class:z(On)("grid gap-1.5",l.class)}),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},dp={__name:"NumberFieldContent",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("div",{class:te(z(On)("relative [&>[data-slot=input]]:has-[[data-slot=increment]]:pr-5 [&>[data-slot=input]]:has-[[data-slot=decrement]]:pl-5",t.class))},[B(e.$slots,"default")],2))}},cp={__name:"NumberFieldDecrement",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(ys),E({"data-slot":"decrement"},z(a),{class:z(On)("absolute top-1/2 -translate-y-1/2 left-0 p-3 disabled:cursor-not-allowed disabled:opacity-20",t.class)}),{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(vs),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},pp={__name:"NumberFieldIncrement",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(_s),E({"data-slot":"increment"},z(a),{class:z(On)("absolute top-1/2 -translate-y-1/2 right-0 disabled:cursor-not-allowed disabled:opacity-20 p-3",t.class)}),{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(gs),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},mp={__name:"NumberFieldInput",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(hs),{"data-slot":"input",class:te(z(On)("flex h-9 w-full rounded-md border border-input bg-transparent py-1 text-sm text-center shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t.class))},null,8,["class"]))}},fp={class:"flex items-center justify-between pt-4"},vp={class:"flex flex-row items-center space-x-2"},yp={class:"rounded-md overflow-hidden mr-4 min-w-14 h-14"},gp=["src","alt"],_p={class:"space-y-1"},hp={class:"text-sm font-semibold"},bp={key:0,class:"text-xs text-muted-foreground"},xp={key:1,class:"text-xs text-muted-foreground"},wp={class:"ml-auto mr-8 max-w-[110px]"},qp={class:"mr-8 text-xs text-muted-foreground"},Cp=ee({__name:"CartItemCard",props:{item:{},increment:{type:Function},decrement:{type:Function}},emits:["remove"],setup(e,{emit:t}){const l=t;return(e,t)=>(D(),V("div",fp,[I("div",vp,[I("div",yp,[I("img",{src:e.item.image_url||"/products/01.jpeg",alt:e.item.name,class:"w-full h-full object-cover object-center"},null,8,gp)]),t[3]||(t[3]=$()),I("div",_p,[I("h4",hp,se(e.item.name),1),t[2]||(t[2]=$()),e.item.sale_price?(D(),V("p",bp,se(z(zn)(e.item.price,e.item.currency)),1)):(D(),V("p",xp,se(z(zn)(e.item.price,e.item.currency)),1))])]),t[6]||(t[6]=$()),I("div",wp,[H(z(ip),{modelValue:e.item.quantity,"onUpdate:modelValue":t[0]||(t[0]=t=>e.item.quantity=t),min:1},{default:N(()=>[H(z(dp),null,{default:N(()=>[H(z(cp)),t[4]||(t[4]=$()),H(z(mp)),t[5]||(t[5]=$()),H(z(pp))]),_:1})]),_:1},8,["modelValue"])]),t[7]||(t[7]=$()),I("div",qp,se(z(zn)((e.item.sale_price||e.item.price||0)*e.item.quantity,e.item.currency)),1),t[8]||(t[8]=$()),I("button",{onClick:t[1]||(t[1]=t=>l("remove",e.item.id)),class:"p-1 hover:bg-gray-100 rounded-full"},[H(z(Pe),{class:"h-4 w-4 text-gray-500"})])]))}}),kp={key:0,class:"flex items-center gap-x-2"},Sp={key:1,class:"space-y-2"},Fp={class:"flex gap-x-1"},Pp={class:"text-xs text-red-500"},Op={class:"text-xs text-red-500"},Vp=ee({__name:"CashSelector",props:{paymentMethods:{},handleAddPaymentMethod:{type:Function},handleRemovePaymentMethod:{type:Function},orderForm:{},cartTotal:{}},setup(e){const t=e,l=x({total_split_amount:""}),a=w(()=>{var e;if(null==(e=t.orderForm)?void 0:e.split_payments){if(t.orderForm.split_payments.find(e=>!e.amount||0===Number(e.amount)))return"Amount cannot be empty or 0"}return""}),s=w(()=>{var e,a;const s=null==(a=null==(e=t.orderForm)?void 0:e.split_payments)?void 0:a.reduce((e,t)=>e+(t.amount||0),0),n="string"==typeof t.cartTotal?parseFloat(t.cartTotal.replace(/[^0-9.]/g,"")):t.cartTotal;return s!==n?(l.value.total_split_amount=`Total split payments must equal cart total (${n})`,!1):(l.value.total_split_amount="",!0)});return(e,t)=>(D(),V("div",null,[e.orderForm.payment_method?(D(),V("div",kp,[H(ru,{modelValue:e.orderForm.payment_method,"onUpdate:modelValue":t[0]||(t[0]=t=>e.orderForm.payment_method=t),items:e.paymentMethods},null,8,["modelValue","items"]),t[1]||(t[1]=$()),H(z(Nn),{onClick:e.handleAddPaymentMethod,variant:"outline",size:"icon",class:"ml-3 shrink-0 shadow-sm opacity-50 :hover:opacity-100"},{default:N(()=>[H(z(ea),{class:"h-6 w-6"})]),_:1},8,["onClick"])])):T("",!0),t[7]||(t[7]=$()),e.orderForm.split_payments?(D(),V("div",Sp,[(D(!0),V(A,null,le(e.orderForm.split_payments,(n,r)=>(D(),V(A,{key:r},[I("div",Fp,[H(ru,{modelValue:n.method,"onUpdate:modelValue":e=>n.method=e,items:e.paymentMethods},null,8,["modelValue","onUpdate:modelValue","items"]),t[2]||(t[2]=$()),H(z(ai),{modelValue:n.amount,"onUpdate:modelValue":e=>n.amount=e,onKeyup:s.value,type:"number",placeholder:"Amount"},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),t[3]||(t[3]=$()),H(z(Nn),{onClick:t=>e.handleRemovePaymentMethod(r),variant:"outline",size:"icon",class:"ml-3 shrink-0 shadow-sm opacity-50 :hover:opacity-100"},{default:N(()=>[H(z(bs),{class:"h-6 w-6"})]),_:1},8,["onClick"]),t[4]||(t[4]=$()),H(z(Nn),{onClick:e.handleAddPaymentMethod,variant:"outline",size:"icon",class:"ml-3 shrink-0 shadow-sm opacity-50 :hover:opacity-100"},{default:N(()=>[H(z(ea),{class:"h-6 w-6"})]),_:1},8,["onClick"])]),t[5]||(t[5]=$()),I("div",Pp,se(a.value),1),t[6]||(t[6]=$()),I("div",Op,se(l.value.total_split_amount),1)],64))),128))])):T("",!0)]))}}),Dp={class:"grid grid-cols-2 gap-4"},Tp=ee({__name:"CustomerForm",props:{submitForm:{type:Function},name:{}},setup(e,{expose:t}){var l;const a=e,s=Ka({name:null!=(l=a.name)?l:"customerForm",validationSchema:Ga(Qc)});t({form:s});const n=s.handleSubmit((e,t)=>c(null,null,function*(){yield a.submitForm(e,t)}));return(e,t)=>(D(),V("form",{class:"space-y-4",onSubmit:t[0]||(t[0]=ul((...e)=>z(n)&&z(n)(...e),["prevent"]))},[I("div",Dp,["editForm"!==e.name?(D(),M(z(Ha),{key:0,name:"username","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[1]||(t[1]=[$("Username",-1)])]),_:1}),t[2]||(t[2]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter username"},e),null,16)]),_:2},1024),t[3]||(t[3]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"])):T("",!0),t[16]||(t[16]=$()),"editForm"!==e.name?(D(),M(z(Ha),{key:1,name:"email","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[4]||(t[4]=[$("Email",-1)])]),_:1}),t[5]||(t[5]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"email",placeholder:"email@example.com"},e),null,16)]),_:2},1024),t[6]||(t[6]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"])):T("",!0),t[17]||(t[17]=$()),H(z(Ha),{name:"first_name","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[7]||(t[7]=[$("First Name",-1)])]),_:1}),t[8]||(t[8]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter first name"},e),null,16)]),_:2},1024),t[9]||(t[9]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[18]||(t[18]=$()),H(z(Ha),{name:"last_name","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[10]||(t[10]=[$("Last Name",-1)])]),_:1}),t[11]||(t[11]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter last name"},e),null,16)]),_:2},1024),t[12]||(t[12]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[19]||(t[19]=$()),H(z(Ha),{name:"phone","validate-on-blur":!z(s).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[13]||(t[13]=[$("Phone",-1)])]),_:1}),t[14]||(t[14]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"tel",placeholder:"Enter phone number"},e),null,16)]),_:2},1024),t[15]||(t[15]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"])]),t[21]||(t[21]=$()),H(z(Nn),{type:"submit",loading:z(s).isSubmitting.value},{default:N(()=>[...t[20]||(t[20]=[$("\n            Create Customer\n        ",-1)])]),_:1},8,["loading"])],32))}}),$p={class:"flex items-start p-4 border rounded"},Bp={class:"flex items-start gap-4 text-sm"},Ap={class:"grid gap-1"},Ip={class:"font-semibold"},jp={class:"line-clamp-1 text-xs"},Rp={class:"line-clamp-1 text-xs"},Up=ee({__name:"CustomerCard",props:{customer:{}},setup:e=>(e,t)=>(D(),V("div",$p,[I("div",Bp,[t[3]||(t[3]=I("span",{class:"inline-flex items-center justify-center font-normal text-foreground select-none shrink-0 bg-secondary overflow-hidden h-10 w-10 text-xs rounded-full"},[I("span",null,"WS")],-1)),t[4]||(t[4]=$()),I("div",Ap,[I("div",Ip,se(e.customer.full_name),1),t[1]||(t[1]=$()),I("div",jp,"\n                    Phone: "+se(e.customer.phone||"N/A"),1),t[2]||(t[2]=$()),I("div",Rp,[t[0]||(t[0]=I("span",{class:"font-medium"},"Email:",-1)),$(" "+se(e.customer.email),1)])])])]))}),Mp={class:"relative w-full"},Np=ee({__name:"ComboBox",props:{modelValue:{},items:{},placeholder:{default:"Select an option..."},emptyText:{default:"Nothing found."},itemValue:{default:"id"},itemLabel:{default:"name"}},emits:["update:modelValue","onSelect"],setup(e,{emit:t}){const l=e,a=t,s=x(!1),n=w(()=>l.items.find(e=>e[l.itemValue]===l.modelValue));return(e,t)=>(D(),V("div",Mp,[H(z(uu),{open:s.value,"onUpdate:open":t[0]||(t[0]=e=>s.value=e),class:"w-full"},{default:N(()=>[H(z(iu),{"as-child":"",class:"w-full"},{default:N(()=>[H(z(Nn),{variant:"outline",role:"combobox","aria-expanded":s.value,class:te(["w-full",z(On)("justify-start",!e.modelValue&&"text-muted-foreground")])},{default:N(()=>[H(z(xs),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t[1]||(t[1]=$()),B(e.$slots,"selected",{item:n.value},()=>{var t;return[$(se((null==(t=n.value)?void 0:t[e.itemLabel])||e.placeholder),1)]}),t[2]||(t[2]=$()),H(z(Pt),{class:"ml-auto h-4 w-4 shrink-0 opacity-50"})]),_:3},8,["aria-expanded","class"])]),_:3}),t[5]||(t[5]=$()),H(z(ou),{class:"p-0",style:{width:"var(--radix-popover-trigger-width)"}},{default:N(()=>[H(z(Ro),null,{default:N(()=>[H(z(Go),{placeholder:"Search..."}),t[3]||(t[3]=$()),H(z(Lo),null,{default:N(()=>[$(se(e.emptyText),1)]),_:1}),t[4]||(t[4]=$()),H(z(Yo),null,{default:N(()=>[H(z(Ko),null,{default:N(()=>[(D(!0),V(A,null,le(e.items,t=>(D(),M(z(Wo),{key:t[e.itemValue],value:t[e.itemValue],onSelect:()=>{return a("onSelect",e=t),a("update:modelValue",e[l.itemValue]),void(s.value=!1);var e}},{default:N(()=>[B(e.$slots,"item",{item:t,selected:t[e.itemValue]===e.modelValue},()=>[$(se(t[e.itemLabel])+" ",1),H(z(ye),{class:te(z(On)("ml-auto h-4 w-4",t[e.itemValue]===e.modelValue?"opacity-100":"opacity-0"))},null,8,["class"])])]),_:2},1032,["value","onSelect"]))),128))]),_:3})]),_:3})]),_:3})]),_:3})]),_:3},8,["open"])]))}}),Ep={class:"space-y-4 mb-4"},zp={class:"w-full flex items-center"},Lp={key:0,class:"text-sm text-red-500"},Kp={key:0},Hp={key:1},Gp={class:"space-y-4 divide-y divide-gray-200"},Wp={class:"text-right pt-5 flex flex-row-reverse gap-1 justify-between items-center"},Qp=ee({__name:"SingleCart",props:{customers:{},items:{},id:{}},setup(e){const t=up(),{addToCart:l,decreaseQuantity:a,removeFromCart:s,loading:n,paymentMethods:r}=t,{activeCustomer:u,setActiveCustomer:o,showCustomerForm:i,orderForm:d,submitOrder:p,handleAddPaymentMethod:m,handleRemovePaymentMethod:f,cartTotal:v,clearCartHandler:y,createCustomer:g,syncPending:_,totalPending:h,handlePending:b}=op(),w=x({customer:""}),q=()=>c(null,null,function*(){if((()=>{let e=!0;return w.value={customer:""},d.value.customer_id||(w.value.customer="Customer is required",e=!1),e})())try{yield p()}catch(e){}});return(e,t)=>(D(),M(Au,{class:"p-8 pt-2"},{header:N(()=>[I("div",Ep,[I("div",null,[I("div",zp,[H(Np,{modelValue:z(d).customer_id,"onUpdate:modelValue":t[0]||(t[0]=e=>z(d).customer_id=e),placeholder:"Select Customer",items:e.customers,"item-label":"full_name",onOnSelect:z(o)},null,8,["modelValue","items","onOnSelect"]),t[3]||(t[3]=$()),H(z(Nn),{variant:"outline",size:"icon",class:"ml-3 shrink-0 shadow-sm opacity-50 :hover:opacity-100",onClick:t[1]||(t[1]=e=>i.value=!z(i))},{default:N(()=>[H(z(ea),{class:te([z(i)&&"rotate-45","h-6 w-6"])},null,8,["class"])]),_:1})]),t[4]||(t[4]=$()),w.value.customer?(D(),V("div",Lp,se(w.value.customer),1)):T("",!0)]),t[5]||(t[5]=$()),z(i)?(D(),V("div",Kp,[H(Tp,{submitForm:z(g),name:"createForm",ref:"customerCreateFormRef"},null,8,["submitForm"])])):T("",!0),t[6]||(t[6]=$()),z(u)?(D(),V("div",Hp,[H(Up,{customer:z(u)},null,8,["customer"])])):T("",!0),t[7]||(t[7]=$()),H(z(Wu),null,{default:N(()=>[H(Vp,{class:"max-h-36 p-0.5",paymentMethods:z(r),handleAddPaymentMethod:z(m),handleRemovePaymentMethod:z(f),orderForm:z(d),cartTotal:z(v)},null,8,["paymentMethods","handleAddPaymentMethod","handleRemovePaymentMethod","orderForm","cartTotal"])]),_:1})])]),footer:N(()=>[I("div",Wp,[H(z(Nn),{class:"max-w-[430px] flex-inline items-center justify-center space-x-2",disabled:!e.items.length||z(n),onClick:q},{default:N(()=>[z(n)?(D(),M(z(cs),{key:0,class:"h-5 w-5 animate-spin"})):(D(),M(z(ws),{key:1,class:"h-5 w-5"})),t[8]||(t[8]=$()),t[9]||(t[9]=I("span",null,"Place Order",-1)),t[10]||(t[10]=$()),z(v)?(D(),M(z(Zo),{key:2,orientation:"vertical"})):T("",!0),t[11]||(t[11]=$()),I("span",null,se(z(v)),1)]),_:1},8,["disabled"]),t[13]||(t[13]=$()),z(_)?(D(),M(z(Nn),{key:0,variant:"outline",onClick:z(b)},{default:N(()=>[$("Sync ("+se(z(h))+")",1)]),_:1},8,["onClick"])):T("",!0),t[14]||(t[14]=$()),e.items.length?(D(),M(z(Nn),{key:1,variant:"outline",onClick:t[2]||(t[2]=t=>z(y)(e.id))},{default:N(()=>[...t[12]||(t[12]=[$("Clear Cart",-1)])]),_:1})):T("",!0)])]),default:N(()=>[t[15]||(t[15]=$()),I("div",Gp,[(D(!0),V(A,null,le(e.items,e=>(D(),M(Cp,{key:e.id,item:e,increment:z(l),decrement:z(a),onRemove:z(s)},null,8,["item","increment","decrement","onRemove"]))),128))]),t[16]||(t[16]=$())]),_:1}))}}),Yp={basic:qs(()=>mn(()=>Promise.resolve().then(()=>zg),void 0)),standard:qs(()=>mn(()=>Promise.resolve().then(()=>Kg),void 0)),enterprise:qs(()=>mn(()=>Promise.resolve().then(()=>e_),void 0))},Jp=ee({__name:"CartListing",props:{carts:{},activeCartId:{}},setup:e=>(e,t)=>(D(),V("div",null,[(D(!0),V(A,null,le(e.carts,(t,l)=>B(e.$slots,"default",{index:l,carts:e.carts,cart:t,cartNumber:l+1,id:t.id,isActive:e.activeCartId===t.id})),256))]))}),Zp={class:"p-8"},Xp={class:"flex justify-start items-center gap-1 pt-1 px-1 text-sm bg-accent"},em=["onClick"],tm=["onClick"],lm=ee(i(o({},{name:"POSPanel"}),{__name:"Index",setup(e){document.title="Point of Sale",k(()=>{0===s.value.length&&l()});const t=up(),{addNewCart:l,deleteCart:a}=t,{carts:s,activeCartId:n}=lt(t),{salesProducts:r,customers:u,createCustomer:o}=op(),i=gn(),{inventorySize:d}=lt(i),c=w(()=>{switch(d.value){case"small":default:return"basic";case"medium":return"standard";case"large":return"enterprise"}});return(e,t)=>(D(),M(Er,{activeRouteName:"app.pos"},{sidebar:N(()=>[H(z(Wu),null,{default:N(()=>[I("div",Xp,[H(Jp,{carts:z(s),activeCartId:z(n),class:"flex gap-1 divide-x-2"},{default:N(({isActive:e,cartNumber:l,id:r})=>[I("div",{class:te(["flex items-center gap-1 px-1.5 py-1 mb-1 hover:rounded-lg hover:bg-background hover:cursor-default",{"px-4":1===z(s).length,"bg-background hover:bg-accent rounded-t-lg hover:rounded-b-none relative before:absolute before:bg-background before:content-[''] before:w-full before:h-1 before:bg-sudu before:left-0 before:-bottom-1":e}])},[I("div",{class:"text-nowrap",onClick:e=>n.value=r},"\n                                    Cart "+se(l),9,em),t[1]||(t[1]=$()),z(s).length>1?(D(),V("div",{key:0,class:"p-1 rounded-full hover:cursor-pointer hover:bg-accent",onClick:e=>z(a)(r)},[H(z(Cs),{class:"w-3 h-3"})],8,tm)):T("",!0)],2)]),_:1},8,["carts","activeCartId"]),t[2]||(t[2]=$()),I("div",{class:"p-1 mb-1 rounded-full hover:cursor-pointer hover:bg-background",onClick:t[0]||(t[0]=(...e)=>z(l)&&z(l)(...e))},[H(z(gs),{class:"w-4 h-4"})])]),t[3]||(t[3]=$()),H(z(Gu),{class:"!h-2",orientation:"horizontal"})]),_:1}),t[4]||(t[4]=$()),H(Jp,{carts:z(s),activeCartId:z(n)},{default:N(({isActive:e,index:t,cart:l,id:a,cartNumber:s})=>[Xe(H(Qp,{customers:z(u),createCustomer:z(o),items:l.items,id:a},null,8,["customers","createCustomer","items","id"]),[[et,e]])]),_:1},8,["carts","activeCartId"])]),default:N(()=>[I("div",Zp,[(D(),M(ie(z(Yp)[c.value||"basic"]),{products:z(r)},null,8,["products"]))]),t[5]||(t[5]=$())]),_:1}))}})),am=Object.freeze(Object.defineProperty({__proto__:null,default:lm},Symbol.toStringTag,{value:"Module"})),sm=b("order",()=>{const e=x([]),t=x(),l=x(null),a=x(!1),s=x({pageIndex:0,pageSize:15,pageCount:0}),{get:n,post:r,put:u,remove:o}=yn();return{orders:e,pagination:s,getOrders:(...t)=>c(null,[...t],function*(t={}){const{data:l,pagination:a}=yield n("orders",{params:Ln(t)});s.value={pageIndex:a.current_page-1,pageSize:a.per_page,pageCount:a.total_pages},e.value=l}),activeOrder:t,getSingleOrder:e=>c(null,null,function*(){const{data:l}=yield n(`orders/${e}`);t.value=l}),createOrder:t=>c(null,null,function*(){a.value=!0;try{const{data:l,message:a}=yield r("orders",t);return e.value=Array.from([...e.value,l]),q.success(a),l}catch(s){throw l.value=s,s}finally{a.value=!1}}),updateOrder:t=>c(null,null,function*(){const{data:l,error:a,success:s,message:n}=yield u(`orders/${t.id}`,t);return s&&(e.value=e.value.map(e=>e.id===t.id?l:e)),q[s?"success":"error"](n),{data:l,error:a,success:s,message:n}}),deleteOrder:t=>c(null,null,function*(){const{message:l,success:a}=yield o(`orders/${t}`);a&&(e.value=e.value.filter(e=>e.id!==t)),q.success(l)})}}),nm=[{accessorKey:"id",header:({column:e})=>O(Jd,{column:e,title:"ID"})},{accessorKey:"customer.full_name",header:({column:e})=>O(Jd,{column:e,title:"Name"}),enableSorting:!1,enableHiding:!1},{accessorKey:"status",header:({column:e})=>O(Jd,{column:e,title:"Status"}),enableSorting:!1},{accessorKey:"discount_total",header:({column:e})=>O(Jd,{column:e,title:"Discount"})},{accessorKey:"total",header:({column:e})=>O(Jd,{column:e,title:"Amount"})},{accessorKey:"created_by",header:({column:e})=>O(Jd,{column:e,title:"Order placed By"})}],rm={class:"font-medium"},um={class:"hidden text-sm text-muted-foreground md:inline"},om={class:"font-medium"},im={class:"hidden text-sm text-muted-foreground md:inline"},dm=ee({__name:"OrderDataTable",props:{orders:{},pagination:{},getOrders:{type:Function},activeOrder:{}},setup(e){const{currency:t}=lt(gn());return(e,l)=>(D(),M(z(To),{data:e.orders,columns:z(nm),pagination:e.pagination,reFetch:e.getOrders},{toolbar:N(({table:e})=>[H(z(Ao),{table:e},{search:N(()=>[H(z(si),{placeholder:"Enter order id",table:e,"search-key":"id"},null,8,["table"])]),_:2},1032,["table"])]),tbody:N(({table:a})=>[H(z(yi),{table:a,columns:z(nm)},{tableBody:N(()=>[(D(!0),V(A,null,le(a.getRowModel().rows,a=>{var s;return D(),M(z(di),{key:a.id,onClick:t=>e.$emit("rowClick",a.original),"data-state":a.original.id==(null==(s=e.activeOrder)?void 0:s.id)&&"selected",class:"cursor-pointer"},{default:N(()=>[H(z(ii),{class:"!w-auto"},{default:N(()=>[$("\n                            #"+se(a.original.id),1)]),_:2},1024),l[2]||(l[2]=$()),H(z(ii),{class:"font-medium align-middle"},{default:N(()=>{var e,t,s,n;return[I("div",null,[I("div",rm,se((null==(t=null==(e=a.original)?void 0:e.customer)?void 0:t.full_name)||""),1),l[0]||(l[0]=$()),I("div",um,se((null==(n=null==(s=a.original)?void 0:s.customer)?void 0:n.email)||""),1)])]}),_:2},1024),l[3]||(l[3]=$()),H(z(ii),null,{default:N(()=>[$(se(a.original.status),1)]),_:2},1024),l[4]||(l[4]=$()),H(z(ii),null,{default:N(()=>[$(se(z(zn)(a.original.discount_total,z(t))),1)]),_:2},1024),l[5]||(l[5]=$()),H(z(ii),null,{default:N(()=>[$(se(z(zn)(a.original.total,z(t))),1)]),_:2},1024),l[6]||(l[6]=$()),H(z(ii),{class:"font-medium align-middle"},{default:N(()=>{var e,t,s,n;return[I("div",null,[I("div",om,se((null==(t=null==(e=a.original)?void 0:e.created_by)?void 0:t.name)||""),1),l[1]||(l[1]=$()),I("div",im,se((null==(n=null==(s=a.original)?void 0:s.created_by)?void 0:n.outlet)||""),1)])]}),_:2},1024)]),_:2},1032,["onClick","data-state"])}),128))]),_:2},1032,["table","columns"])]),_:1},8,["data","columns","pagination","reFetch"]))}}),cm={class:"grid gap-0.5"},pm={class:"ml-auto flex items-center gap-2 no-print"},mm={class:"grid gap-3"},fm={class:"grid gap-3"},vm={class:"text-muted-foreground"},ym={class:"grid gap-3"},gm={class:"flex items-center justify-between"},_m={class:"flex items-center justify-between"},hm={class:"flex items-center justify-between font-semibold"},bm={class:"grid gap-3"},xm={class:"grid gap-3"},wm={class:"flex items-center justify-between"},qm={class:"flex items-center justify-between"},Cm=["href"],km={class:"flex items-center justify-between"},Sm=["href"],Fm={class:"grid gap-3 mt-3"},Pm={class:"grid gap-3"},Om={class:"flex items-center gap-1 text-muted-foreground"},Vm={key:1,class:"flex items-center justify-between"},Dm={class:"flex items-center gap-1 text-muted-foreground"},Tm=ee({__name:"OrderDetails",props:{activeOrder:{},handleDelete:{type:Function}},setup(e){const{currency:t}=lt(gn());return(e,l)=>(D(),V("div",null,[H(z(kr),{class:"order-card overflow-hidden rounded-none shadow-none border-none"},{default:N(()=>[H(z(Or),{class:"flex flex-row items-start bg-muted/50"},{default:N(()=>[I("div",cm,[H(z(Vr),{class:"group flex items-center gap-2 text-lg"},{default:N(()=>{var t;return[$("\n                        Order ID: #"+se((null==(t=e.activeOrder)?void 0:t.id)||""),1)]}),_:1}),l[2]||(l[2]=$()),H(z(Fr),null,{default:N(()=>{var t;return[$("\n                        Date: "+se(z(Hn)(null==(t=e.activeOrder)?void 0:t.created_at)),1)]}),_:1})]),l[4]||(l[4]=$()),I("div",pm,[H(z(Nn),{size:"sm",variant:"outline",class:"hover:text-red-400",onClick:l[0]||(l[0]=t=>e.handleDelete(e.activeOrder))},{default:N(()=>[H(z(na),{class:"w-4 h-4"}),l[3]||(l[3]=$(" Delete\n                    ",-1))]),_:1})])]),_:1}),l[43]||(l[43]=$()),H(z(Sr),{class:"p-6 text-sm"},{default:N(()=>{var a,s,n,r,u,o,i,d,c,p,m,f,v,y,g,_,h,b,x,w,q;return[I("div",mm,[l[14]||(l[14]=I("div",{class:"font-semibold"},"Order Details",-1)),l[15]||(l[15]=$()),I("ul",fm,[(D(!0),V(A,null,le(Object.values((null==(a=e.activeOrder)?void 0:a.line_items)||{}),e=>(D(),V("li",{key:e.product_id,class:"flex items-center justify-between"},[I("span",vm,[$(se(e.name)+" x\n                                ",1),I("span",null,se(e.quantity),1)]),l[5]||(l[5]=$()),I("span",null,se(z(zn)(e.total,z(t))),1)]))),128))]),l[16]||(l[16]=$()),H(z(Zo),{class:"my-2"}),l[17]||(l[17]=$()),I("ul",ym,[I("li",gm,[l[6]||(l[6]=I("span",{class:"text-muted-foreground"},"Subtotal",-1)),l[7]||(l[7]=$()),I("span",null,se(z(zn)(null==(s=e.activeOrder)?void 0:s.total,z(t))),1)]),l[12]||(l[12]=$()),I("li",_m,[l[8]||(l[8]=I("span",{class:"text-muted-foreground"},"Discount",-1)),l[9]||(l[9]=$()),I("span",null,se(z(zn)(null==(n=e.activeOrder)?void 0:n.discount_total,z(t))),1)]),l[13]||(l[13]=$()),I("li",hm,[l[10]||(l[10]=I("span",{class:"text-muted-foreground"},"Total",-1)),l[11]||(l[11]=$()),I("span",null,se(z(zn)(null==(r=e.activeOrder)?void 0:r.total,z(t))),1)])])]),l[38]||(l[38]=$()),H(z(Zo),{class:"my-4"}),l[39]||(l[39]=$()),I("div",bm,[l[26]||(l[26]=I("div",{class:"font-semibold"},"Customer Information",-1)),l[27]||(l[27]=$()),I("dl",xm,[I("div",wm,[l[18]||(l[18]=I("dt",{class:"text-muted-foreground"},"Customer",-1)),l[19]||(l[19]=$()),I("dd",null,se(null==(o=null==(u=e.activeOrder)?void 0:u.customer)?void 0:o.full_name),1)]),l[24]||(l[24]=$()),I("div",qm,[l[20]||(l[20]=I("dt",{class:"text-muted-foreground"},"Email",-1)),l[21]||(l[21]=$()),I("dd",null,[I("a",{href:`mailto:${null==(d=null==(i=e.activeOrder)?void 0:i.customer)?void 0:d.email}`},se(null==(p=null==(c=e.activeOrder)?void 0:c.customer)?void 0:p.email),9,Cm)])]),l[25]||(l[25]=$()),I("div",km,[l[22]||(l[22]=I("dt",{class:"text-muted-foreground"},"Phone",-1)),l[23]||(l[23]=$()),I("dd",null,[I("a",{href:`tel:${null==(f=null==(m=e.activeOrder)?void 0:m.customer)?void 0:f.phone}`},se((null==(y=null==(v=e.activeOrder)?void 0:v.customer)?void 0:y.phone)||"N/A"),9,Sm)])])])]),l[40]||(l[40]=$()),H(z(Zo),{class:"my-4"}),l[41]||(l[41]=$()),H(z(fr),{type:"single",collapsible:"",modelValue:e.activeAccordion,"onUpdate:modelValue":l[1]||(l[1]=t=>e.activeAccordion=t)},{default:N(()=>[H(z(yr),{value:"billing"},{default:N(()=>[H(z(gr),null,{default:N(()=>[...l[28]||(l[28]=[$("Billing Address",-1)])]),_:1}),l[29]||(l[29]=$()),H(z(vr),null,{default:N(()=>{var t,l;return[H(jc,{address:null==(l=null==(t=e.activeOrder)?void 0:t.customer)?void 0:l.billing},null,8,["address"])]}),_:1})]),_:1}),l[32]||(l[32]=$()),H(z(yr),{value:"shipping"},{default:N(()=>[H(z(gr),null,{default:N(()=>[...l[30]||(l[30]=[$("Shipping Address",-1)])]),_:1}),l[31]||(l[31]=$()),H(z(vr),null,{default:N(()=>{var t,l;return[H(jc,{address:null==(l=null==(t=e.activeOrder)?void 0:t.customer)?void 0:l.shipping},null,8,["address"])]}),_:1})]),_:1})]),_:1},8,["modelValue"]),l[42]||(l[42]=$()),I("div",Fm,[l[36]||(l[36]=I("div",{class:"font-semibold"},"Payment Information",-1)),l[37]||(l[37]=$()),I("dl",Pm,[(null==(h=null==(_=null==(g=e.activeOrder)?void 0:g.payment_details)?void 0:_.split_payments)?void 0:h.length)?(D(!0),V(A,{key:0},le(null==(x=null==(b=e.activeOrder)?void 0:b.payment_details)?void 0:x.split_payments,(e,a)=>(D(),V("div",{key:a,class:"flex items-center justify-between"},[I("dt",Om,[H(z(ks),{class:"h-4 w-4"}),$(" "+se(e.method),1)]),l[33]||(l[33]=$()),I("dd",null,se(z(zn)(e.amount,z(t))),1)]))),128)):(D(),V("div",Vm,[I("dt",Dm,[H(z(ks),{class:"h-4 w-4"}),l[34]||(l[34]=$("\n                                    Method\n                                ",-1))]),l[35]||(l[35]=$()),I("dd",null,se((null==(q=null==(w=e.activeOrder)?void 0:w.payment_details)?void 0:q.payment_method)||"N/A"),1)]))])])]}),_:1})]),_:1})]))}}),$m={class:"relative w-full max-w-md"},Bm={key:0,class:"absolute z-50 right-0 top-[30] w-full bg-white rounded-md border border-t-0 rounded-t-none bg-popover shadow-sm"},Am={class:"flex-1"},Im={class:"text-xs font-medium"},jm={class:"text-xs text-muted-foreground"},Rm=ee({__name:"AddOrderProduct",emits:["addProduct","close"],setup(e,{emit:t}){const l=oc(),{products:a,searchQuery:s}=lt(l),n=t,r=x(!0),u=()=>c(null,null,function*(){yield l.getProductsByQuery()}),o=()=>{r.value=!1,s.value="",n("close")};return k(()=>{l.getProducts()}),(e,t)=>(D(),V("div",$m,[I("div",{class:te(["relative rounded-md border bg-popover shadow-sm",{"rounded-b-none":r.value}])},[H(z(Ss),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t[1]||(t[1]=$()),H(z(ai),{modelValue:z(s),"onUpdate:modelValue":t[0]||(t[0]=e=>at(s)?s.value=e:null),type:"text",placeholder:"Search products...",class:"pl-10 pr-10 py-5 rounded-none border-none focus-visible:ring-0",onInput:u},null,8,["modelValue"]),t[2]||(t[2]=$()),H(z(Nn),{variant:"ghost",size:"icon",type:"button",class:"absolute right-2 top-1/2 transform -translate-y-1/2",onClick:o},{default:N(()=>[H(z(Cs),{class:"h-4 w-4"})]),_:1})],2),t[5]||(t[5]=$()),r.value&&z(s).length>0?(D(),V("div",Bm,[H(z(Wu),{class:"h-[300px]"},{default:N(()=>[(D(!0),V(A,null,le(z(a)||[],e=>(D(),V("div",{key:e.id,class:"flex items-center justify-between px-2 p-1 hover:bg-muted"},[I("div",Am,[I("h4",Im,se(e.name),1),t[3]||(t[3]=$()),I("p",jm,"\n                            Price: $"+se(e.price),1)]),t[4]||(t[4]=$()),H(z(Nn),{variant:"ghost",size:"icon",type:"button",onClick:t=>(e=>{n("addProduct",{name:e.name,product_id:e.id,quantity:1,price:e.price,total:e.price})})(e)},{default:N(()=>[H(z(os),{class:"h-4 w-4"})]),_:1},8,["onClick"])]))),128))]),_:1})])):T("",!0)]))}}),Um={class:"space-y-4"},Mm={class:"flex items-center justify-between mb-4"},Nm={class:"flex-1"},Em={class:"flex justify-end"},zm={class:"rounded-md border"},Lm={class:"w-full text-sm"},Km={class:"p-2 line-clamp-2"},Hm={class:"p-2"},Gm={class:"p-2"},Wm={class:"p-2"},Qm={class:"p-2"},Ym=ee({__name:"LineItemsTable",props:{form:{}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,a=e=>{l.form.setFieldValue("line_items",Fs(l.form.values.line_items,e))};return(e,t)=>(D(),V("div",Um,[I("div",Mm,[t[0]||(t[0]=I("h2",{class:"text-xl font-semibold"},"Order Items",-1)),t[1]||(t[1]=$()),I("div",Nm,[I("div",Em,[H(Rm,{onAddProduct:a})])])]),t[8]||(t[8]=$()),I("div",zm,[I("table",Lm,[t[6]||(t[6]=I("thead",null,[I("tr",{class:"border-b"},[I("th",{class:"p-2 text-left"},"Product"),$(),I("th",{class:"p-2 text-left"},"Price"),$(),I("th",{class:"p-2 text-left w-[80px]"},"Quantity"),$(),I("th",{class:"p-2 text-left"},"Total"),$(),I("th",{class:"p-2"})])],-1)),t[7]||(t[7]=$()),I("tbody",null,[(D(!0),V(A,null,le(e.form.values.line_items,(e,a)=>(D(),V("tr",{key:a,class:"border-b"},[I("td",Km,se(e.name),1),t[2]||(t[2]=$()),I("td",Hm,se(e.price),1),t[3]||(t[3]=$()),I("td",Gm,[H(z(ai),{type:"number","model-value":e.quantity},null,8,["model-value"])]),t[4]||(t[4]=$()),I("td",Wm,se(e.total),1),t[5]||(t[5]=$()),I("td",Qm,[H(z(Nn),{variant:"ghost",size:"icon",onClick:e=>(e=>{const t=[...l.form.values.line_items];Ps(t,(t,l)=>l===e),l.form.setFieldValue("line_items",t)})(a)},{default:N(()=>[H(z(na),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]))),128))])])])]))}}),Jm=ee({__name:"OrderForm",props:{submitForm:{type:Function},name:{}},setup(e,{expose:t}){var l;const a=Aa({status:Ra(["pending","processing","completed","cancelled","refunded","failed","on-hold"]),line_items:Ua(Aa({product_id:Ia(),quantity:Ia().min(1)})).min(1,"At least one item is required")}),s=e,n=Ka({name:null!=(l=s.name)?l:"orderForm",validationSchema:Ga(a)});t({form:n});const r=n.handleSubmit((e,t)=>c(null,null,function*(){yield s.submitForm(e,t)}));return(e,t)=>(D(),V("form",{class:"p-10 space-y-6",onSubmit:t[0]||(t[0]=ul((...e)=>z(r)&&z(r)(...e),["prevent"]))},[H(z(Ha),{name:"status","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[1]||(t[1]=[$("Order Status",-1)])]),_:1}),t[16]||(t[16]=$()),H(z(Ji),null,{default:N(()=>[H(z(Yr),Y(J(e)),{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select status"})]),_:1}),t[15]||(t[15]=$()),H(z(Jr),null,{default:N(()=>[H(z(eu),{value:"pending"},{default:N(()=>[...t[2]||(t[2]=[$("Pending",-1)])]),_:1}),t[9]||(t[9]=$()),H(z(eu),{value:"processing"},{default:N(()=>[...t[3]||(t[3]=[$("Processing",-1)])]),_:1}),t[10]||(t[10]=$()),H(z(eu),{value:"completed"},{default:N(()=>[...t[4]||(t[4]=[$("Completed",-1)])]),_:1}),t[11]||(t[11]=$()),H(z(eu),{value:"cancelled"},{default:N(()=>[...t[5]||(t[5]=[$("Cancelled",-1)])]),_:1}),t[12]||(t[12]=$()),H(z(eu),{value:"refunded"},{default:N(()=>[...t[6]||(t[6]=[$("Refunded",-1)])]),_:1}),t[13]||(t[13]=$()),H(z(eu),{value:"failed"},{default:N(()=>[...t[7]||(t[7]=[$("Failed",-1)])]),_:1}),t[14]||(t[14]=$()),H(z(eu),{value:"on-hold"},{default:N(()=>[...t[8]||(t[8]=[$("On Hold",-1)])]),_:1})]),_:1})]),_:1},16)]),_:2},1024),t[17]||(t[17]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[20]||(t[20]=$()),H(z(Ha),{name:"line_items"},{default:N(({field:e})=>[H(z(Zi),null,{default:N(()=>[H(Ym,{form:z(n)},null,8,["form"]),t[18]||(t[18]=$()),H(z(ed))]),_:1})]),_:1}),t[21]||(t[21]=$()),H(z(Nn),{type:"submit",loading:z(n).isSubmitting.value},{default:N(()=>[...t[19]||(t[19]=[$("\n            Update Order\n        ",-1)])]),_:1},8,["loading"])],32))}}),Zm={class:"p-8 overflow-y-auto"},Xm={class:"flex items-center gap-2 transition-opacity duration-200 hover:opacity-80"},ef=ee({__name:"Index",setup(e){const{tabs:t,orders:l,activeTab:a,activeOrder:s,pagination:n,getOrders:r,switchTab:u,updateOrder:i,deleteOrder:d,getSingleOrder:p}=(()=>{const e=is("orderEditFormRef"),t=is("orderCreateFormRef"),l=x("details"),a=x([{label:"Details",value:"details",icon:O(rs)},{value:"edit",label:"Edit",icon:O(us)}]),{orderId:s,routerReplace:n}=Cn(),r=sm(),{orders:u,activeOrder:i,pagination:d}=lt(r),p=x(!1),m=x(null),f=x(!1),v=t=>c(null,null,function*(){var s;const u=a.value.find(e=>e.value===l.value),d=o({},u);u&&"create"!==u.value&&(u.icon=O(de,{class:"w-4 h-4 animate-spin"})),yield r.getSingleOrder(t),(null==(s=e.value)?void 0:s.form)&&e.value.form.setValues(i.value),u&&"create"!==u.value&&(u.icon=d.icon),n({orderId:t})}),y=(...e)=>c(null,[...e],function*(e={}){yield r.getOrders(e)});return k(()=>c(null,null,function*(){yield y(),(s.value||u.value.length>0)&&(yield v(s.value||u.value[0].id))})),{tabs:a,orders:u,activeOrder:i,loading:p,error:m,pagination:d,activeTab:l,showDeleteDialog:f,getOrders:y,switchTab:t=>{"edit"===t&&setTimeout(()=>{var t,l;(null==(t=e.value)?void 0:t.form)&&(null==(l=e.value)||l.form.setValues(i.value))},50)},createOrder:(e,l)=>c(null,null,function*(){var a;const s=yield r.createOrder(e);if(s.success)l.resetForm();else{const e=null==(a=t.value)?void 0:a.form;e&&e.setErrors(s.error)}}),_deleteOrder:e=>{f.value=!0,s.value=e},deleteOrder:e=>c(null,null,function*(){yield r.deleteOrder(e),n({orderId:void 0})}),getSingleOrder:v,updateOrder:t=>c(null,null,function*(){var l;t.id=i.value.id;const a=yield r.updateOrder(t);if(!a.success){const t=null==(l=e.value)?void 0:l.form;if(!t)return;t.setErrors(a.error)}})}})(),{deleting:m,showConfirmDialog:f,handleDelete:v,confirmDelete:y}=mo();return(e,o)=>(D(),M(Er,{activeRouteName:"app.order"},{sidebar:N(()=>[H(z(zr),{class:"w-full",modelValue:z(a),"onUpdate:modelValue":[o[1]||(o[1]=e=>at(a)?a.value=e:null),z(u)]},{default:N(()=>[H(Au,null,{header:N(()=>[H(z(Kr),{class:"w-full rounded-none"},{default:N(()=>[(D(!0),V(A,null,le(z(t),e=>(D(),M(z(Gr),{key:e.value,class:"data-[state=active]:shadow-none data-[state=active]:bg-transparent",value:e.value},{default:N(()=>[I("div",Xm,[(D(),M(ie(e.icon),{class:"w-4 h-4"})),$(" "+se(e.label),1)])]),_:2},1032,["value"]))),128))]),_:1})]),default:N(()=>[o[4]||(o[4]=$()),H(z(Lr),{value:"details",class:"mt-0"},{default:N(()=>[H(Tm,{activeOrder:z(s),handleDelete:e=>z(v)(e.id)},null,8,["activeOrder","handleDelete"])]),_:1}),o[5]||(o[5]=$()),H(z(Lr),{value:"edit",class:"mt-0"},{default:N(()=>[H(Jm,{submitForm:z(i),name:"editForm",ref:"orderEditFormRef"},null,8,["submitForm"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),default:N(()=>[I("div",Zm,[H(dm,{orders:z(l),pagination:z(n),getOrders:z(r),activeOrder:z(s),onRowClick:o[0]||(o[0]=e=>z(p)(e.id))},null,8,["orders","pagination","getOrders","activeOrder"])]),o[6]||(o[6]=$()),o[7]||(o[7]=$()),H(z(po),{title:"Are you sure you want to delete this Order?",description:"This action will move the Order to the trash and can be restored within 30 days.",modelValue:z(f),"onUpdate:modelValue":o[2]||(o[2]=e=>at(f)?f.value=e:null),deleting:z(m),onConfirm:o[3]||(o[3]=e=>z(y)(z(d)))},null,8,["modelValue","deleting"])]),_:1}))}}),tf=Object.freeze(Object.defineProperty({__proto__:null,default:ef},Symbol.toStringTag,{value:"Module"}));const lf=bn({},[["render",function(e,t){const l=ae("router-view");return D(),M(l)}]]),af=Object.freeze(Object.defineProperty({__proto__:null,default:lf},Symbol.toStringTag,{value:"Module"})),sf=b("counter",()=>{const e=x([]),t=x(),{get:l,post:a,put:s,remove:n}=yn();return{counters:e,getCounters:t=>c(null,null,function*(){if(!t)return void q.error("Outlet id is required");const{data:a}=yield l(`outlets/${t}/counters`);e.value=a}),activeCounter:t,getSingleCounter:e=>c(null,null,function*(){const{data:a}=yield l(`counters/${e}`);t.value=a}),setActiveCounter:e=>{t.value=e},createCounter:(t,l)=>c(null,null,function*(){const{data:s,error:n,success:r,message:u}=yield a(`outlets/${t}/counters`,l);return r&&(e.value=Array.from([...e.value,s])),q[r?"success":"error"](u),{data:s,error:n,success:r,message:u}}),updateCounter:t=>c(null,null,function*(){const{data:l,error:a,success:n,message:r}=yield s(`counters/${t.id}`,t);return n&&(e.value=e.value.map(e=>e.id===t.id?l:e)),q[n?"success":"error"](r),{data:l,error:a,success:n,message:r}}),deleteCounter:(t,l)=>c(null,null,function*(){const{message:a,success:s}=yield n(`outlets/${t}/counters/${l}`);s&&(e.value=e.value.filter(e=>e.id!==l)),q.success(a)})}}),nf=x([{label:"Details",value:"details",icon:O(rs)},{label:"Edit",value:"edit",icon:O(us)},{label:"Create",value:"create",icon:O(os)},{value:"counter",label:"Add Counter",icon:O(Os)}]),rf=[{accessorKey:"name",header:"Name"},{accessorKey:"Email",header:"Email"},{accessorKey:"phone",header:"Phone"},{accessorKey:"manager_name",header:"Manager"},{accessorKey:"operating_hours",header:"Operating Hour"},{accessorKey:"status",header:"Status"}],uf={class:"font-medium"},of={class:"hidden text-sm text-muted-foreground md:inline"},df=ee({__name:"OutletDataTable",props:{outlets:{},activeOutlet:{}},setup:e=>(e,t)=>(D(),M(z(To),{data:e.outlets,columns:z(rf)},{toolbar:N(({table:e})=>[H(z(Ao),{table:e},{search:N(()=>[H(z(si),{placeholder:"Enter outlet name",table:e,"search-key":"name"},null,8,["table"])]),viewOption:N(()=>[H(z(li),{table:e},null,8,["table"])]),_:2},1032,["table"])]),tbody:N(({table:l})=>[H(z(yi),{table:l,columns:z(rf)},{tableBody:N(()=>[(D(!0),V(A,null,le(l.getRowModel().rows,l=>{var a;return D(),M(z(di),{key:l.id,onClick:t=>e.$emit("rowClick",l.original),"data-state":l.original.id==(null==(a=e.activeOutlet)?void 0:a.id)&&"selected",class:"cursor-pointer"},{default:N(()=>[H(z(ii),{class:"font-medium align-middle"},{default:N(()=>{var e,a;return[I("div",uf,se((null==(e=l.original)?void 0:e.name)||""),1),t[1]||(t[1]=$()),I("div",of,se((null==(a=l.original)?void 0:a.address)||""),1)]}),_:2},1024),t[2]||(t[2]=$()),H(z(ii),null,{default:N(()=>[$(se(l.original.email),1)]),_:2},1024),t[3]||(t[3]=$()),H(z(ii),null,{default:N(()=>[$(se(l.original.phone),1)]),_:2},1024),t[4]||(t[4]=$()),H(z(ii),null,{default:N(()=>[$(se(l.original.manager_name),1)]),_:2},1024),t[5]||(t[5]=$()),H(z(ii),null,{default:N(()=>[$(se(l.original.operating_hours),1)]),_:2},1024),t[6]||(t[6]=$()),H(z(ii),null,{default:N(()=>[$(se(l.original.status),1)]),_:2},1024)]),_:2},1032,["onClick","data-state"])}),128))]),_:2},1032,["table","columns"])]),_:1},8,["data","columns"]))}),cf=ee({__name:"OutletForm",props:{submitForm:{type:Function},name:{}},setup(e,{expose:t}){var l;const a=Aa({name:Ma({required_error:"Outlet name is required."}),address:Ma({required_error:"Address is required."}),phone:Ma({required_error:"Phone number is required."}),email:Ma({required_error:"Email is required."}).email("Please enter a valid email address."),operating_hours:Ma({required_error:"Operating hours are required."}),manager_name:Ma({required_error:"Manager name is required."}),status:Ra(["active","inactive"],{required_error:"Status is required."})}),s=e,n=Ka({name:null!=(l=s.name)?l:"outletForm",validationSchema:Ga(a)});t({form:n});const r=n.handleSubmit((e,t)=>c(null,null,function*(){yield s.submitForm(e,t)}));return(e,t)=>(D(),V("form",{class:"p-10 space-y-6",onSubmit:t[0]||(t[0]=ul((...e)=>z(r)&&z(r)(...e),["prevent"]))},[H(z(Ha),{name:"name","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[1]||(t[1]=[$("Outlet Name",-1)])]),_:1}),t[2]||(t[2]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter outlet name"},e),null,16)]),_:2},1024),t[3]||(t[3]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[26]||(t[26]=$()),H(z(Ha),{name:"address","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[4]||(t[4]=[$("Address",-1)])]),_:1}),t[5]||(t[5]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter outlet address"},e),null,16)]),_:2},1024),t[6]||(t[6]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[27]||(t[27]=$()),H(z(Ha),{name:"phone","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[7]||(t[7]=[$("Phone Number",-1)])]),_:1}),t[8]||(t[8]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"tel",placeholder:"Enter phone number"},e),null,16)]),_:2},1024),t[9]||(t[9]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[28]||(t[28]=$()),H(z(Ha),{name:"email","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[10]||(t[10]=[$("Email",-1)])]),_:1}),t[11]||(t[11]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"email",placeholder:"Enter email address"},e),null,16)]),_:2},1024),t[12]||(t[12]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[29]||(t[29]=$()),H(z(Ha),{name:"operating_hours","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[13]||(t[13]=[$("Operating Hours",-1)])]),_:1}),t[14]||(t[14]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"e.g., Mon-Sun: 8AM-8PM"},e),null,16)]),_:2},1024),t[15]||(t[15]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[30]||(t[30]=$()),H(z(Ha),{name:"manager_name","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[16]||(t[16]=[$("Manager Name",-1)])]),_:1}),t[17]||(t[17]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter manager name"},e),null,16)]),_:2},1024),t[18]||(t[18]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[31]||(t[31]=$()),H(z(Ha),{name:"status","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[19]||(t[19]=[$("Status",-1)])]),_:1}),t[24]||(t[24]=$()),H(z(Ji),null,{default:N(()=>[H(z(Yr),Y(J(e)),{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select status"})]),_:1}),t[23]||(t[23]=$()),H(z(Jr),null,{default:N(()=>[H(z(eu),{value:"active"},{default:N(()=>[...t[20]||(t[20]=[$(" Active ",-1)])]),_:1}),t[22]||(t[22]=$()),H(z(eu),{value:"inactive"},{default:N(()=>[...t[21]||(t[21]=[$(" Inactive ",-1)])]),_:1})]),_:1})]),_:1},16)]),_:2},1024),t[25]||(t[25]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[32]||(t[32]=$()),H(z(Nn),{type:"submit",loading:z(n).isSubmitting.value},{default:N(()=>[$(se("createForm"===e.name?"Create":"Update")+" Outlet\n        ",1)]),_:1},8,["loading"])],32))}}),pf=ee({__name:"CounterTable",props:{counters:{},handleDelete:{type:Function}},setup:e=>(e,t)=>(D(),M(z(ri),null,{default:N(()=>[H(z(fi),null,{default:N(()=>[H(z(di),null,{default:N(()=>[H(z(mi),null,{default:N(()=>[...t[0]||(t[0]=[$(" Name ",-1)])]),_:1}),t[3]||(t[3]=$()),H(z(mi),null,{default:N(()=>[...t[1]||(t[1]=[$("Description",-1)])]),_:1}),t[4]||(t[4]=$()),H(z(mi),{class:"text-right"},{default:N(()=>[...t[2]||(t[2]=[$(" Action ",-1)])]),_:1})]),_:1})]),_:1}),t[7]||(t[7]=$()),H(z(ui),null,{default:N(()=>[(D(!0),V(A,null,le(e.counters,l=>(D(),M(z(di),{key:l.id},{default:N(()=>[H(z(ii),{class:"font-medium"},{default:N(()=>[$(se(l.name),1)]),_:2},1024),t[5]||(t[5]=$()),H(z(ii),null,{default:N(()=>[$(se(l.description),1)]),_:2},1024),t[6]||(t[6]=$()),H(z(ii),{class:"text-right"},{default:N(()=>[H(z(Nn),{onClick:t=>e.handleDelete(l),variant:"ghost",size:"icon"},{default:N(()=>[H(z(na),{class:"h-4 w-4"})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))}),mf={class:"grid gap-0.5"},ff={class:"ml-auto"},vf={class:"grid gap-3"},yf={class:"grid gap-3"},gf={class:"grid gap-3"},_f={class:"flex items-center justify-between"},hf={class:"flex items-center gap-1 text-muted-foreground"},bf=["href"],xf={class:"flex items-center justify-between"},wf={class:"flex items-center gap-1 text-muted-foreground"},qf=["href"],Cf={class:"flex items-center justify-between"},kf={class:"flex items-center gap-1 text-muted-foreground"},Sf={class:"grid gap-3"},Ff={class:"grid gap-3"},Pf={class:"flex items-center justify-between"},Of={class:"flex items-center gap-1 text-muted-foreground"},Vf={class:"flex items-center justify-between"},Df={class:"flex items-center gap-1 text-muted-foreground"},Tf=ee({__name:"OutletDetails",props:{activeOutlet:{},handleDelete:{type:Function}},setup(e){const t=sf(),{counters:l}=lt(t),{deleting:a,showConfirmDialog:s,handleDelete:n,confirmDelete:r}=mo();return(e,u)=>(D(),V("div",null,[H(z(kr),{class:"outlet-card overflow-hidden rounded-none shadow-none border-none"},{default:N(()=>[H(z(Or),{class:"flex flex-row items-start bg-muted/50"},{default:N(()=>[I("div",mf,[H(z(Vr),{class:"group flex items-center gap-2 text-lg"},{default:N(()=>{var t;return[$(se((null==(t=e.activeOutlet)?void 0:t.name)||""),1)]}),_:1}),u[4]||(u[4]=$()),H(z(Fr),null,{default:N(()=>{var t;return[$("\n                        Created: "+se(z(Kn)(null==(t=e.activeOutlet)?void 0:t.created_at)),1)]}),_:1}),u[5]||(u[5]=$()),H(z(Fr),null,{default:N(()=>{var t,l,a;return[u[3]||(u[3]=$("\n                        Status:\n                        ",-1)),I("span",{class:te([{"text-green-500":"active"===(null==(t=e.activeOutlet)?void 0:t.status),"text-red-500":"inactive"===(null==(l=e.activeOutlet)?void 0:l.status)},"capitalize"])},se(null==(a=e.activeOutlet)?void 0:a.status),3)]}),_:1})]),u[7]||(u[7]=$()),I("div",ff,[H(z(Nn),{size:"sm",variant:"outline",class:"hover:text-red-400",onClick:u[0]||(u[0]=t=>e.handleDelete(e.activeOutlet))},{default:N(()=>[H(z(na),{class:"w-4 h-4"}),u[6]||(u[6]=$(" Delete\n                    ",-1))]),_:1})])]),_:1}),u[31]||(u[31]=$()),H(z(Sr),{class:"p-6 text-sm"},{default:N(()=>{var t,a,s,r,o,i,d;return[z(l).length?(D(),V(A,{key:0},[I("div",vf,[u[8]||(u[8]=I("div",{class:"font-semibold"},"Counters",-1)),u[9]||(u[9]=$()),H(pf,{counters:z(l),handleDelete:e=>z(n)(e.id)},null,8,["counters","handleDelete"])]),u[10]||(u[10]=$()),H(z(Zo),{class:"my-4"})],64)):T("",!0),u[28]||(u[28]=$()),I("div",yf,[u[19]||(u[19]=I("div",{class:"font-semibold"},"Contact Information",-1)),u[20]||(u[20]=$()),I("dl",gf,[I("div",_f,[I("dt",hf,[H(z(Vs),{class:"h-4 w-4"}),u[11]||(u[11]=$("\n                                Email\n                            ",-1))]),u[12]||(u[12]=$()),I("dd",null,[I("a",{href:`mailto:${null==(t=e.activeOutlet)?void 0:t.email}`},se(null==(a=e.activeOutlet)?void 0:a.email),9,bf)])]),u[17]||(u[17]=$()),I("div",xf,[I("dt",wf,[H(z(Ds),{class:"h-4 w-4"}),u[13]||(u[13]=$("\n                                Phone\n                            ",-1))]),u[14]||(u[14]=$()),I("dd",null,[I("a",{href:`tel:${null==(s=e.activeOutlet)?void 0:s.phone}`},se(null==(r=e.activeOutlet)?void 0:r.phone),9,qf)])]),u[18]||(u[18]=$()),I("div",Cf,[I("dt",kf,[H(z(Ts),{class:"h-4 w-4"}),u[15]||(u[15]=$("\n                                Address\n                            ",-1))]),u[16]||(u[16]=$()),I("dd",null,se(null==(o=e.activeOutlet)?void 0:o.address),1)])])]),u[29]||(u[29]=$()),H(z(Zo),{class:"my-4"}),u[30]||(u[30]=$()),I("div",Sf,[u[26]||(u[26]=I("div",{class:"font-semibold"},"Operations",-1)),u[27]||(u[27]=$()),I("dl",Ff,[I("div",Pf,[I("dt",Of,[H(z($s),{class:"h-4 w-4"}),u[21]||(u[21]=$("\n                                Manager\n                            ",-1))]),u[22]||(u[22]=$()),I("dd",null,se(null==(i=e.activeOutlet)?void 0:i.manager_name),1)]),u[25]||(u[25]=$()),I("div",Vf,[I("dt",Df,[H(z(Bs),{class:"h-4 w-4"}),u[23]||(u[23]=$("\n                                Operating Hours\n                            ",-1))]),u[24]||(u[24]=$()),I("dd",null,se(null==(d=e.activeOutlet)?void 0:d.operating_hours),1)])])])]}),_:1})]),_:1}),u[32]||(u[32]=$()),H(z(po),{title:"Are you sure you want to delete this counter?",description:"This action will move the counter to the trash and can be restored within 30 days.",modelValue:z(s),"onUpdate:modelValue":u[1]||(u[1]=e=>at(s)?s.value=e:null),deleting:z(a),onConfirm:u[2]||(u[2]=l=>z(r)(l=>{var a;return z(t).deleteCounter(null==(a=e.activeOutlet)?void 0:a.id,l)}))},null,8,["modelValue","deleting"])]))}}),$f=ee({__name:"CounterForm",props:{name:{},submitForm:{type:Function}},setup(e,{expose:t}){var l;const a=Aa({name:Ma({required_error:"Counter name is required."}),description:Ma({required_error:"Description is required."}),position:Ma({required_error:"Position is required."}),status:Ra(["active","inactive"],{required_error:"Status is required."})}),s=e,n=Ka({name:null!=(l=s.name)?l:"counterForm",validationSchema:Ga(a)});t({form:n});const r=n.handleSubmit((e,t)=>c(null,null,function*(){yield s.submitForm(e,t)}));return(e,t)=>(D(),V("form",{class:"p-10 space-y-6",onSubmit:t[0]||(t[0]=ul((...e)=>z(r)&&z(r)(...e),["prevent"]))},[H(z(Ha),{name:"name","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[1]||(t[1]=[$("Counter Name",-1)])]),_:1}),t[2]||(t[2]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter counter name"},e),null,16)]),_:2},1024),t[3]||(t[3]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[17]||(t[17]=$()),H(z(Ha),{name:"description","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[4]||(t[4]=[$("Description",-1)])]),_:1}),t[5]||(t[5]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter counter description"},e),null,16)]),_:2},1024),t[6]||(t[6]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[18]||(t[18]=$()),H(z(Ha),{name:"position","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[7]||(t[7]=[$("Position",-1)])]),_:1}),t[8]||(t[8]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter counter position"},e),null,16)]),_:2},1024),t[9]||(t[9]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[19]||(t[19]=$()),H(z(Ha),{name:"status","validate-on-blur":!z(n).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[10]||(t[10]=[$("Status",-1)])]),_:1}),t[15]||(t[15]=$()),H(z(Ji),null,{default:N(()=>[H(z(Yr),Y(J(e)),{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select status"})]),_:1}),t[14]||(t[14]=$()),H(z(Jr),null,{default:N(()=>[H(z(eu),{value:"active"},{default:N(()=>[...t[11]||(t[11]=[$(" Active ",-1)])]),_:1}),t[13]||(t[13]=$()),H(z(eu),{value:"inactive"},{default:N(()=>[...t[12]||(t[12]=[$(" Inactive ",-1)])]),_:1})]),_:1})]),_:1},16)]),_:2},1024),t[16]||(t[16]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[20]||(t[20]=$()),H(z(Nn),{type:"submit",loading:z(n).isSubmitting.value},{default:N(()=>[$(se("createForm"===e.name?"Create":"Update")+" Counter\n        ",1)]),_:1},8,["loading"])],32))}}),Bf=ee({__name:"Index",setup(e){const t=is("counterCreateFormRef"),l=sf(),{activeOutlet:a}=lt(wn()),s=(e,s)=>c(null,null,function*(){var n;if(!a.value)return void q.error("Please select an outlet first");const r=yield l.createCounter(a.value.id,e);if(r.success)s.resetForm();else{(null==(n=t.value)?void 0:n.form).setErrors(r.error)}});return(e,l)=>z(a)?(D(),M($f,{key:0,submitForm:s,name:"createForm",ref_key:"counterCreateFormRef",ref:t},null,512)):T("",!0)}}),Af={class:"p-8 overflow-y-auto"},If={class:"flex items-center gap-2 transition-opacity duration-200 hover:opacity-80"},jf=ee({__name:"Index",setup(e){const{subMenuTabs:t,outlets:l,activeTab:a,activeOutlet:s,switchTab:n,createOutlet:r,updateOutlet:u,deleteOutlet:i,getSingleOutlet:d}=(()=>{const e=is("outletEditFormRef"),t=is("outletCreateFormRef"),l=x("details"),{routerReplace:a,outletId:s}=Cn(),n=wn(),r=sf(),{outlets:u,activeOutlet:i}=lt(n),d=t=>c(null,null,function*(){var s,n;const d=nf.value.find(e=>e.value===l.value),c=o({},d);d&&"create"!==d.value&&(d.icon=O(de,{class:"w-4 h-4 animate-spin"})),i.value=u.value.find(e=>e.id===t),null==(n=null==(s=e.value)?void 0:s.form)||n.setValues(i.value),d&&"create"!==d.value&&(d.icon=c.icon),yield r.getCounters(t),a({outletId:t})});return k(()=>c(null,null,function*(){if(yield n.getOutlets(),s.value||u.value.length>0){const e=Number(s.value||u.value[0].id);yield d(e),r.getCounters(e)}})),{subMenuTabs:nf,outlets:u,activeOutlet:i,activeTab:l,switchTab:t=>{"edit"===t&&setTimeout(()=>{var t,l;i.value&&(null==(l=null==(t=e.value)?void 0:t.form)||l.setValues(i.value))},50)},createOutlet:(e,l)=>c(null,null,function*(){var a;const s=yield n.createOutlet(e);if(s.success)l.resetForm(),i.value=s.data;else{const e=null==(a=t.value)?void 0:a.form;null==e||e.setErrors(s.error)}}),deleteOutlet:e=>c(null,null,function*(){yield n.deleteOutlet(e)}),getSingleOutlet:d,updateOutlet:t=>c(null,null,function*(){var l,a;t.id=null==(l=i.value)?void 0:l.id;const s=yield n.updateOutlet(t);if(!s.success){const t=null==(a=e.value)?void 0:a.form;null==t||t.setErrors(s.error)}})}})(),{deleting:p,showConfirmDialog:m,handleDelete:f,confirmDelete:v}=mo();return(e,o)=>(D(),M(Er,{activeRouteName:"app.ecosystem"},{sidebar:N(()=>[H(z(zr),{class:"w-full",modelValue:z(a),"onUpdate:modelValue":[o[1]||(o[1]=e=>at(a)?a.value=e:null),z(n)]},{default:N(()=>[H(Au,null,{header:N(()=>[H(z(Kr),{class:"w-full rounded-none"},{default:N(()=>[(D(!0),V(A,null,le(z(t),e=>(D(),M(z(Gr),{key:e.value,class:"data-[state=active]:shadow-none data-[state=active]:bg-transparent",value:e.value},{default:N(()=>[I("div",If,[(D(),M(ie(e.icon),{class:"w-4 h-4"})),$(" "+se(e.label),1)])]),_:2},1032,["value"]))),128))]),_:1})]),default:N(()=>[o[4]||(o[4]=$()),H(z(Lr),{value:"details",class:"mt-0"},{default:N(()=>[H(Tf,{activeOutlet:z(s),handleDelete:e=>z(f)(e.id)},null,8,["activeOutlet","handleDelete"])]),_:1}),o[5]||(o[5]=$()),H(z(Lr),{value:"create",class:"mt-0"},{default:N(()=>[H(cf,{submitForm:z(r),name:"createForm",ref:"outletCreateFormRef"},null,8,["submitForm"])]),_:1}),o[6]||(o[6]=$()),H(z(Lr),{value:"edit",class:"mt-0"},{default:N(()=>[H(cf,{submitForm:z(u),name:"editForm",ref:"outletEditFormRef"},null,8,["submitForm"])]),_:1}),o[7]||(o[7]=$()),H(z(Lr),{value:"counter",class:"mt-0"},{default:N(()=>[H(Bf)]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),default:N(()=>[I("div",Af,[H(df,{outlets:z(l),activeOutlet:z(s),onRowClick:o[0]||(o[0]=e=>z(d)(e.id))},null,8,["outlets","activeOutlet"])]),o[8]||(o[8]=$()),o[9]||(o[9]=$()),H(z(po),{title:"Are you sure you want to delete this outlet?",description:"This action will move the outlet to the trash and can be restored within 30 days.",modelValue:z(m),"onUpdate:modelValue":o[2]||(o[2]=e=>at(m)?m.value=e:null),deleting:z(p),onConfirm:o[3]||(o[3]=e=>z(v)(z(i)))},null,8,["modelValue","deleting"])]),_:1}))}}),Rf=Object.freeze(Object.defineProperty({__proto__:null,default:jf},Symbol.toStringTag,{value:"Module"})),Uf=x([{label:"Details",value:"details",icon:O(rs)},{label:"Edit",value:"edit",icon:O(us)},{label:"Create",value:"create",icon:O(os)}]);O(ps),O(ts),O(ls),O(es);const Mf=[{accessorKey:"avatar",header:({column:e})=>O(Jd,{column:e,title:"Image"})},{accessorKey:"name",header:({column:e})=>O(Jd,{column:e,title:"Name"})},{accessorKey:"email",header:({column:e})=>O(Jd,{column:e,title:"Email"})},{accessorKey:"status",header:({column:e})=>O(Jd,{column:e,title:"Status"})}],Nf=["src"],Ef=ee({__name:"UserDataTable",props:{users:{},activeUser:{}},setup:e=>(e,t)=>(D(),M(z(To),{data:e.users,columns:z(Mf)},{toolbar:N(({table:e})=>[H(z(Ao),{table:e},{search:N(()=>[H(z(si),{placeholder:"Enter user name",table:e,"search-key":"name"},null,8,["table"])]),_:2},1032,["table"])]),tbody:N(({table:l})=>[H(z(yi),{table:l,columns:z(Mf)},{tableBody:N(()=>[(D(!0),V(A,null,le(l.getRowModel().rows,l=>{var a;return D(),M(z(di),{key:l.id,"data-state":l.original.id==(null==(a=e.activeUser)?void 0:a.id)&&"selected",onClick:t=>e.$emit("rowClick",l.original)},{default:N(()=>[H(z(ii),null,{default:N(()=>{var e;return[I("img",{alt:"Customer profile image",class:"aspect-square rounded-full object-cover h-10 w-10",src:null==(e=l.original)?void 0:e.avatar},null,8,Nf)]}),_:2},1024),t[0]||(t[0]=$()),H(z(ii),null,{default:N(()=>[$(se(l.original.name),1)]),_:2},1024),t[1]||(t[1]=$()),H(z(ii),null,{default:N(()=>[$(se(l.original.email),1)]),_:2},1024),t[2]||(t[2]=$()),H(z(ii),null,{default:N(()=>[$(se(l.original.status),1)]),_:2},1024)]),_:2},1032,["data-state","onClick"])}),128))]),_:2},1032,["table","columns"])]),_:1},8,["data","columns"]))}),zf={class:"flex items-center justify-between"},Lf={class:"flex items-center gap-1 text-muted-foreground"},Kf=ee({__name:"UserDescriptionList",props:{label:{},value:{}},setup:e=>(e,t)=>(D(),V("div",zf,[I("dt",Lf,se(e.label),1),t[0]||(t[0]=$()),I("dd",null,[B(e.$slots,"default",{},()=>[$(se(e.value),1)])])]))}),Hf={class:"grid gap-3"},Gf={class:"font-semibold"},Wf=ee({__name:"UserInformationSection",props:{title:{}},setup:e=>(e,t)=>(D(),V("div",Hf,[I("div",Gf,se(e.title),1),t[0]||(t[0]=$()),B(e.$slots,"default")]))}),Qf={class:"grid auto-rows-max gap-3"},Yf={class:"grid gap-0.5 not-italic space-y-4"},Jf=ee({__name:"UserPermissions",props:{permissions:{}},setup:e=>(e,t)=>(D(),V("div",Qf,[I("div",Yf,[(D(!0),V(A,null,le(e.permissions||[],(e,t)=>(D(),V("div",{key:e},[H(Kf,{label:z(Is)(t)},{default:N(()=>[(D(),M(ie(z(e?As:La)),{class:te([[e?"text-green-400":"text-red-400"],"w-4 h-4"])},null,8,["class"]))]),_:2},1032,["label"])]))),128))])]))}),Zf={class:"grid gap-3"},Xf={class:"flex items-center"},ev={class:"text-lg font-semibold"},tv={class:"grid gap-3"},lv=["href"],av=["href"],sv={class:"grid gap-3"},nv={key:0,class:"border rounded-md mt-3"},rv={key:1,class:"text-muted-foreground text-sm"},uv=ee({__name:"UserOutlet",props:{outlet:{}},setup:e=>(e,t)=>(D(),M(z(kr),{class:"outlet-card overflow-hidden rounded-none shadow-none border-none"},{default:N(()=>[H(z(Sr),{class:"p-0"},{default:N(()=>{var l,a,s,n,r;return[I("div",Zf,[I("div",Xf,[I("div",ev,se((null==(l=e.outlet)?void 0:l.name)||""),1),t[0]||(t[0]=$()),H(z(Io),{variant:"outline",class:"ml-auto"},{default:N(()=>{var t;return[$(se(null==(t=e.outlet)?void 0:t.status),1)]}),_:1})]),t[4]||(t[4]=$()),I("dl",tv,[H(Kf,{label:"Email"},{default:N(()=>{var t,l;return[I("a",{href:`mailto:${null==(t=e.outlet)?void 0:t.email}`},se(null==(l=e.outlet)?void 0:l.email),9,lv)]}),_:1}),t[1]||(t[1]=$()),H(Kf,{label:"Phone"},{default:N(()=>{var t,l;return[I("a",{href:`tel:${null==(t=e.outlet)?void 0:t.phone}`},se(null==(l=e.outlet)?void 0:l.phone),9,av)]}),_:1}),t[2]||(t[2]=$()),H(Kf,{label:"Address",value:null==(a=e.outlet)?void 0:a.address},null,8,["value"]),t[3]||(t[3]=$()),H(Kf,{label:"Manager",value:null==(s=e.outlet)?void 0:s.manager_name},null,8,["value"])])]),t[13]||(t[13]=$()),I("div",sv,[(null==(r=null==(n=e.outlet)?void 0:n.counters)?void 0:r.length)?(D(),V("div",nv,[H(z(ri),{class:"text-sm"},{default:N(()=>[H(z(fi),null,{default:N(()=>[H(z(di),null,{default:N(()=>[H(z(mi),null,{default:N(()=>[...t[5]||(t[5]=[$("Counter Name",-1)])]),_:1}),t[8]||(t[8]=$()),H(z(mi),null,{default:N(()=>[...t[6]||(t[6]=[$("Position",-1)])]),_:1}),t[9]||(t[9]=$()),H(z(mi),null,{default:N(()=>[...t[7]||(t[7]=[$("Status",-1)])]),_:1})]),_:1})]),_:1}),t[12]||(t[12]=$()),H(z(ui),null,{default:N(()=>[(D(!0),V(A,null,le(e.outlet.counters,e=>(D(),M(z(di),{key:e.id},{default:N(()=>[H(z(ii),{class:"font-medium"},{default:N(()=>[$(se(e.name),1)]),_:2},1024),t[10]||(t[10]=$()),H(z(ii),null,{default:N(()=>[$(se(e.position||"Not specified"),1)]),_:2},1024),t[11]||(t[11]=$()),H(z(ii),{class:"capitalize"},{default:N(()=>[$(se(e.status),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):(D(),V("div",rv,"\n                    No counters available\n                "))])]}),_:1})]),_:1}))}),ov={class:"rounded-md overflow-hidden border-2 mr-4 w-16 h-16"},iv=["src"],dv={class:"flex-1"},cv={class:"flex items-center gap-2"},pv={class:"ml-auto flex items-center gap-2"},mv=ee({__name:"UserDetails",props:{user:{},handleDelete:{type:Function}},setup(e){const t=e,l=w(()=>{var e;return null==(e=t.user)?void 0:e.roles.map(e=>Is(e)).join(", ")});return(e,t)=>(D(),M(z(kr),{class:"overflow-hidden rounded-none shadow-none border-none"},{default:N(()=>[H(z(Or),{class:"flex flex-row justify-between bg-muted/50"},{default:N(()=>{var l;return[I("div",ov,[I("img",{src:(null==(l=e.user)?void 0:l.avatar)||"",class:"w-full h-full object-cover object-center",alt:""},null,8,iv)]),t[6]||(t[6]=$()),I("div",dv,[H(z(Vr),{class:"text-lg"},{default:N(()=>{var t;return[$(se((null==(t=e.user)?void 0:t.name)||""),1)]}),_:1}),t[5]||(t[5]=$()),I("div",cv,[I("div",null,[H(z(Fr),null,{default:N(()=>{var t;return[$("\n                            Email:\n                            "+se((null==(t=e.user)?void 0:t.email)||""),1)]}),_:1}),t[2]||(t[2]=$()),H(z(Fr),null,{default:N(()=>{var l,a,s;return[t[1]||(t[1]=$("\n                            Status:\n                            ",-1)),I("span",{class:te([{"text-green-500":"active"===(null==(l=e.user)?void 0:l.status),"text-red-500":"inactive"===(null==(a=e.user)?void 0:a.status)},"capitalize"])},se(null==(s=e.user)?void 0:s.status),3)]}),_:1})]),t[4]||(t[4]=$()),I("div",pv,[H(z(Nn),{size:"sm",variant:"outline",class:"hover:text-red-400",onClick:t[0]||(t[0]=t=>e.handleDelete(e.user))},{default:N(()=>[H(z(na),{class:"w-4 h-4"}),t[3]||(t[3]=$(" Delete\n                        ",-1))]),_:1})])])])]}),_:1}),t[11]||(t[11]=$()),H(z(Sr),{class:"p-6 text-sm"},{default:N(()=>[H(Wf,{title:"Personal Information"},{default:N(()=>{var a,s,n,r;return[H(Kf,{label:"First Name",value:null==(a=e.user)?void 0:a.first_name},null,8,["value"]),t[7]||(t[7]=$()),H(Kf,{label:"Last Name",value:null==(s=e.user)?void 0:s.last_name},null,8,["value"]),t[8]||(t[8]=$()),H(Kf,{label:"Roles",value:l.value},null,8,["value"]),t[9]||(t[9]=$()),H(Kf,{label:"Join Date",value:z(Gn)(null==(n=e.user)?void 0:n.created_at)},null,8,["value"]),t[10]||(t[10]=$()),H(Kf,{label:"Last Login",value:null==(r=e.user)?void 0:r.last_login},null,8,["value"])]}),_:1})]),_:1}),t[12]||(t[12]=$()),H(z(Zo),{class:"mb-6"}),t[13]||(t[13]=$()),H(z(Sr),{class:"text-sm"},{default:N(()=>[H(Wf,{title:"User Outlet"},{default:N(()=>{var t;return[H(uv,{outlet:null==(t=e.user)?void 0:t.outlet},null,8,["outlet"])]}),_:1})]),_:1}),t[14]||(t[14]=$()),H(z(Zo),{class:"mb-4"}),t[15]||(t[15]=$()),H(z(Sr),{class:"text-sm"},{default:N(()=>[H(Wf,{title:"User Permission"},{default:N(()=>{var t;return[H(Jf,{permissions:null==(t=e.user)?void 0:t.permissions},null,8,["permissions"])]}),_:1})]),_:1})]),_:1}))}}),fv=ee({__name:"UserForm",props:{name:{},submitForm:{type:Function}},setup(e,{expose:t}){var l;const a=wn(),{outlets:s,activeOutlet:n}=lt(a),r=Aa({name:Ma({required_error:"Username is required"}).min(3,"Username must be at least 3 characters"),email:Ma({required_error:"Email is required"}).email("Please enter a valid email address"),password:Ma({required_error:"Password is required"}).min(8,"Password must be at least 8 characters").optional(),role:Ra(["csmsl_pos_cashier","csmsl_pos_outlet_manager","csmsl_pos_shop_manager"],{required_error:"Role is required"}),display_name:Ma().optional(),outlet_id:Ia().optional(),counter_id:Ia().optional(),phone:Ma().optional(),status:Ma().optional()}).refine(e=>!("csmsl_pos_outlet_manager"===e.role&&!e.outlet_id),{message:"Outlet ID is required for outlet managers",path:["outlet_id"]}),u=e,o=Ka({name:null!=(l=u.name)?l:"userForm",validationSchema:Ga(r)});t({form:o});const i=w(()=>"csmsl_pos_cashier"===o.values.role),d=o.handleSubmit((e,t)=>c(null,null,function*(){yield u.submitForm(e,t)})),p=e=>c(null,null,function*(){yield a.getSingleOutlet(e)});return(e,t)=>(D(),V("form",{class:"p-10 space-y-6",onSubmit:t[0]||(t[0]=ul((...e)=>z(d)&&z(d)(...e),["prevent"]))},[H(z(Ha),{name:"name","validate-on-blur":!z(o).isFieldDirty},{default:N(({componentField:l})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[1]||(t[1]=[$("Username",-1)])]),_:1}),t[2]||(t[2]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",disabled:"editForm"===e.name,placeholder:"Enter username (no spaces)"},l),null,16,["disabled"])]),_:2},1024),t[3]||(t[3]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[38]||(t[38]=$()),"createForm"===e.name?(D(),M(z(Ha),{key:0,name:"password","validate-on-blur":!z(o).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[4]||(t[4]=[$("Password",-1)])]),_:1}),t[5]||(t[5]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"password",autofill:"0",placeholder:"Enter password"},e),null,16)]),_:2},1024),t[6]||(t[6]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"])):T("",!0),t[39]||(t[39]=$()),H(z(Ha),{name:"display_name","validate-on-blur":!z(o).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[7]||(t[7]=[$("Display Name",-1)])]),_:1}),t[8]||(t[8]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Enter full name"},e),null,16)]),_:2},1024),t[9]||(t[9]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[40]||(t[40]=$()),H(z(Ha),{name:"email","validate-on-blur":!z(o).isFieldDirty},{default:N(({componentField:l})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[10]||(t[10]=[$("Email",-1)])]),_:1}),t[11]||(t[11]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"email",disabled:"editForm"===e.name,placeholder:"Enter email address"},l),null,16,["disabled"])]),_:2},1024),t[12]||(t[12]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[41]||(t[41]=$()),H(z(Ha),{name:"role","validate-on-blur":!z(o).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[13]||(t[13]=[$("Role",-1)])]),_:1}),t[18]||(t[18]=$()),H(z(Ji),null,{default:N(()=>[H(z(Yr),Y(J(e)),{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select role"})]),_:1}),t[17]||(t[17]=$()),H(z(Jr),null,{default:N(()=>[H(z(eu),{value:"csmsl_pos_cashier"},{default:N(()=>[...t[14]||(t[14]=[$("\n                                Cashier\n                            ",-1)])]),_:1}),t[16]||(t[16]=$()),H(z(eu),{value:"csmsl_pos_outlet_manager"},{default:N(()=>[...t[15]||(t[15]=[$("Outlet manager",-1)])]),_:1})]),_:1})]),_:1},16)]),_:2},1024),t[19]||(t[19]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[42]||(t[42]=$()),H(z(Ha),{name:"outlet_id","validate-on-blur":!z(o).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[20]||(t[20]=[$("Select Outlet",-1)])]),_:1}),t[22]||(t[22]=$()),H(z(Ji),null,{default:N(()=>[H(z(Yr),E(e,{"onUpdate:modelValue":p}),{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select outlet"})]),_:1}),t[21]||(t[21]=$()),H(z(Jr),null,{default:N(()=>[(D(!0),V(A,null,le(z(s),e=>(D(),M(z(eu),{key:e.id,value:e.id},{default:N(()=>[$(se(e.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},16)]),_:2},1024),t[23]||(t[23]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[43]||(t[43]=$()),i.value?(D(),M(z(Ha),{key:1,name:"counter_id","validate-on-blur":!z(o).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[24]||(t[24]=[$("Select Counter",-1)])]),_:1}),t[26]||(t[26]=$()),H(z(Ji),null,{default:N(()=>[H(z(Yr),Y(J(e)),{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select counter"})]),_:1}),t[25]||(t[25]=$()),H(z(Jr),null,{default:N(()=>{var e;return[(D(!0),V(A,null,le((null==(e=z(n))?void 0:e.counters)||[],e=>(D(),M(z(eu),{key:e.id,value:e.id},{default:N(()=>[$(se(e.name),1)]),_:2},1032,["value"]))),128))]}),_:1})]),_:1},16)]),_:2},1024),t[27]||(t[27]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"])):T("",!0),t[44]||(t[44]=$()),H(z(Ha),{name:"phone","validate-on-blur":!z(o).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[28]||(t[28]=[$("Phone Number",-1)])]),_:1}),t[29]||(t[29]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"tel",placeholder:"Enter phone number"},e),null,16)]),_:2},1024),t[30]||(t[30]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[45]||(t[45]=$()),"editForm"===e.name?(D(),M(z(Ha),{key:2,name:"status","validate-on-blur":!z(o).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[31]||(t[31]=[$("Status",-1)])]),_:1}),t[36]||(t[36]=$()),H(z(Ji),null,{default:N(()=>[H(z(Yr),Y(J(e)),{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select status"})]),_:1}),t[35]||(t[35]=$()),H(z(Jr),null,{default:N(()=>[H(z(eu),{value:"active"},{default:N(()=>[...t[32]||(t[32]=[$(" Active ",-1)])]),_:1}),t[34]||(t[34]=$()),H(z(eu),{value:"inactive"},{default:N(()=>[...t[33]||(t[33]=[$(" Inactive ",-1)])]),_:1})]),_:1})]),_:1},16)]),_:2},1024),t[37]||(t[37]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"])):T("",!0),t[46]||(t[46]=$()),H(z(Nn),{type:"submit",loading:z(o).isSubmitting.value},{default:N(()=>[$(se("createForm"===e.name?"Create":"Update")+" User\n        ",1)]),_:1},8,["loading"])],32))}}),vv={class:"p-8 overflow-y-auto"},yv={class:"flex items-center gap-2 transition-opacity duration-200 hover:opacity-80"},gv=ee({__name:"Index",setup(e){const{users:t,activeUser:l,updateUser:a,createUser:s,deleteUser:n,switchTab:r,getSingleUser:u}=(()=>{const e=is("userEditFormRef"),t=is("userCreateFormRef"),l=x("details"),a=wn(),{routerReplace:s,userId:n}=Cn(),r=hn(),{users:u,activeUser:i}=lt(r),d=x(!1),p=x(null),m=x(!1),f=()=>{var t,l,s,n,r,u,o;if(i.value){const d=Array.isArray(i.value.roles)?i.value.roles[0]:"";null==(l=null==(t=e.value)?void 0:t.form)||l.setValues(i.value),null==(n=null==(s=e.value)?void 0:s.form)||n.setFieldValue("role",d);const c=Number((null==(r=i.value.outlet)?void 0:r.id)||"")||null;null==(o=null==(u=e.value)?void 0:u.form)||o.setFieldValue("outlet_id",c),i.value.outlet&&a.setActiveOutlet(i.value.outlet)}},v=e=>c(null,null,function*(){const t=Uf.value.find(e=>e.value===l.value),a=o({},t);t&&"create"!==t.value&&(t.icon=O(de,{class:"w-4 h-4 animate-spin"})),i.value=u.value.find(t=>t.id===e),f(),t&&"create"!==t.value&&(t.icon=a.icon),s({userId:e})});return k(()=>c(null,null,function*(){if(yield r.getUsers(),n.value||u.value.length>0){const e=Number(n.value||u.value[0].id);yield v(e)}a.getOutlets()})),{subMenuTabs:Uf,users:u,activeUser:i,activeTab:l,loading:d,error:p,showDeleteDialog:m,switchTab:e=>{"edit"===e&&setTimeout(f,50)},createUser:(e,l)=>c(null,null,function*(){var a;d.value=!0;const s=yield r.createUser(e);if(s.success)l.resetForm(),i.value=s.data;else{const e=null==(a=t.value)?void 0:a.form;null==e||e.setErrors(s.error)}d.value=!1}),deleteUser:e=>c(null,null,function*(){d.value=!0,yield r.deleteUser(e),d.value=!1,m.value=!1,s({userId:void 0})}),getSingleUser:v,updateUser:t=>c(null,null,function*(){var l,a;t.id=null==(l=i.value)?void 0:l.id;const s=yield r.updateUser(t);if(!s.success){const t=null==(a=e.value)?void 0:a.form;null==t||t.setErrors(s.error)}})}})(),{deleting:i,showConfirmDialog:d,handleDelete:p,confirmDelete:m}=mo(),f=x("details");return(e,o)=>(D(),M(Er,{activeRouteName:"app.ecosystem"},{sidebar:N(()=>[H(z(zr),{class:"w-full",modelValue:f.value,"onUpdate:modelValue":[o[1]||(o[1]=e=>f.value=e),z(r)]},{default:N(()=>[H(Au,null,{header:N(()=>[H(z(Kr),{class:"w-full rounded-none"},{default:N(()=>[(D(!0),V(A,null,le(z(Uf),e=>(D(),M(z(Gr),{key:e.value,class:"data-[state=active]:shadow-none data-[state=active]:bg-transparent",value:e.value},{default:N(()=>[I("div",yv,[(D(),M(ie(e.icon),{class:"w-4 h-4"})),$(" "+se(e.label),1)])]),_:2},1032,["value"]))),128))]),_:1})]),default:N(()=>[o[4]||(o[4]=$()),H(z(Lr),{value:"details",class:"mt-0"},{default:N(()=>[H(mv,{user:z(l),handleDelete:e=>z(p)(e.id)},null,8,["user","handleDelete"])]),_:1}),o[5]||(o[5]=$()),H(z(Lr),{value:"create",class:"mt-0"},{default:N(()=>[H(fv,{submitForm:z(s),name:"createForm",ref:"userCreateFormRef"},null,8,["submitForm"])]),_:1}),o[6]||(o[6]=$()),H(z(Lr),{value:"edit",class:"mt-0"},{default:N(()=>[H(fv,{submitForm:z(a),name:"editForm",ref:"userEditFormRef"},null,8,["submitForm"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),default:N(()=>[I("div",vv,[H(Ef,{users:z(t),activeUser:z(l),deleteUser:z(p),onRowClick:o[0]||(o[0]=e=>z(u)(e.id))},null,8,["users","activeUser","deleteUser"])]),o[7]||(o[7]=$()),o[8]||(o[8]=$()),H(z(po),{title:"Are you sure you want to delete this user?",description:"This action will move the user to the trash and can be restored within 30 days.",modelValue:z(d),"onUpdate:modelValue":o[2]||(o[2]=e=>at(d)?d.value=e:null),deleting:z(i),onConfirm:o[3]||(o[3]=e=>z(m)(z(n)))},null,8,["modelValue","deleting"])]),_:1}))}}),_v=Object.freeze(Object.defineProperty({__proto__:null,default:gv},Symbol.toStringTag,{value:"Module"})),hv={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},bv={__name:"Calendar",props:{modelValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},defaultValue:{type:null,required:!1},defaultPlaceholder:{type:null,required:!1},placeholder:{type:null,required:!1},pagedNavigation:{type:Boolean,required:!1},preventDeselect:{type:Boolean,required:!1},weekStartsOn:{type:Number,required:!1},weekdayFormat:{type:String,required:!1},calendarLabel:{type:String,required:!1},fixedWeeks:{type:Boolean,required:!1},maxValue:{type:null,required:!1},minValue:{type:null,required:!1},locale:{type:String,required:!1},numberOfMonths:{type:Number,required:!1},disabled:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},initialFocus:{type:Boolean,required:!1},isDateDisabled:{type:Function,required:!1},isDateUnavailable:{type:Function,required:!1},dir:{type:String,required:!1},nextPage:{type:Function,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","update:placeholder"],setup(e,{emit:t}){const l=e,a=t,s=w(()=>{const e=l,{class:t}=e;return d(e,["class"])}),n=U(s,a);return(e,t)=>(D(),M(z(js),E({class:z(On)("p-3",l.class)},z(n)),{default:N(({grid:e,weekDays:l})=>[H(z(Pv),null,{default:N(()=>[H(z(Dv)),t[0]||(t[0]=$()),H(z(Ov)),t[1]||(t[1]=$()),H(z(Vv))]),_:1}),t[3]||(t[3]=$()),I("div",hv,[(D(!0),V(A,null,le(e,e=>(D(),M(z(qv),{key:e.value.toString()},{default:N(()=>[H(z(kv),null,{default:N(()=>[H(z(Sv),null,{default:N(()=>[(D(!0),V(A,null,le(l,e=>(D(),M(z(Fv),{key:e},{default:N(()=>[$(se(e),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),t[2]||(t[2]=$()),H(z(Cv),null,{default:N(()=>[(D(!0),V(A,null,le(e.rows,(t,l)=>(D(),M(z(Sv),{key:`weekDate-${l}`,class:"mt-2 w-full"},{default:N(()=>[(D(!0),V(A,null,le(t,t=>(D(),M(z(xv),{key:t.toString(),date:t},{default:N(()=>[H(z(wv),{day:t,month:e.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}},xv={__name:"CalendarCell",props:{date:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Rs),E({class:z(On)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent [&:has([data-selected][data-outside-view])]:bg-accent/50",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},wv={__name:"CalendarCellTrigger",props:{day:{type:null,required:!0},month:{type:null,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Us),E({class:z(On)(z(En)({variant:"ghost"}),"h-8 w-8 p-0 font-normal","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selected]:bg-primary data-[selected]:text-primary-foreground data-[selected]:opacity-100 data-[selected]:hover:bg-primary data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary data-[selected]:focus:text-primary-foreground","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through","data-[outside-view]:text-muted-foreground data-[outside-view]:opacity-50 [&[data-outside-view][data-selected]]:bg-accent/50 [&[data-outside-view][data-selected]]:text-muted-foreground [&[data-outside-view][data-selected]]:opacity-30",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},qv={__name:"CalendarGrid",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Ms),E({class:z(On)("w-full border-collapse space-y-1",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Cv={__name:"CalendarGridBody",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(Ns),Y(J(t)),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},kv={__name:"CalendarGridHead",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),M(z(Es),Y(J(t)),{default:N(()=>[B(e.$slots,"default")]),_:3},16))}},Sv={__name:"CalendarGridRow",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(zs),E({class:z(On)("flex",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Fv={__name:"CalendarHeadCell",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Ls),E({class:z(On)("w-8 rounded-md text-[0.8rem] font-normal text-muted-foreground",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Pv={__name:"CalendarHeader",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Ks),E({class:z(On)("relative flex w-full items-center justify-between pt-1",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default")]),_:3},16,["class"]))}},Ov={__name:"CalendarHeading",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Hs),E({class:z(On)("text-sm font-medium",t.class)},z(a)),{default:N(({headingValue:t})=>[B(e.$slots,"default",{headingValue:t},()=>[$(se(t),1)])]),_:3},16,["class"]))}},Vv={__name:"CalendarNextButton",props:{step:{type:String,required:!1},nextPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Gs),E({class:z(On)(z(En)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default",{},()=>[H(z($l),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},Dv={__name:"CalendarPrevButton",props:{step:{type:String,required:!1},prevPage:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])}),a=K(l);return(e,l)=>(D(),M(z(Ws),E({class:z(On)(z(En)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",t.class)},z(a)),{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(Tl),{class:"h-4 w-4"})])]),_:3},16,["class"]))}},Tv={class:"text-nowrap cursor-pointer"},$v=ee({__name:"DatePicker",props:mt({label:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=new Jt("en-US",{dateStyle:"long"}),l=ft(e,"modelValue"),a=w({get:()=>{if(l.value)return Ys(l.value)},set:e=>l.value=null==e?void 0:e.toString()});return(e,l)=>(D(),M(z(uu),null,{default:N(()=>[H(z(iu),{"as-child":""},{default:N(()=>[I("div",{class:te(["flex relative w-full items-center justify-between gap-1 h-auto text-nowrap cursor-pointer",z(On)("justify-start text-left font-medium",!a.value&&"text-muted-foreground")])},[H(z(Qs),{class:"h-4 w-4 text-muted-foreground"}),l[1]||(l[1]=$()),I("label",Tv,se(e.label),1),$(" "+se(a.value?z(t).format(a.value.toDate(z(Xt)())):"--/--/----"),1)],2)]),_:1}),l[2]||(l[2]=$()),H(z(ou),{class:"w-auto p-0"},{default:N(()=>[H(z(bv),{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),"initial-focus":""},null,8,["modelValue"])]),_:1})]),_:1}))}}),Bv={class:"min-w-52 space-y-1 relative"},Av={class:"text-sm text-gray-500"},Iv={class:"text-xl font-semibold"},jv={class:"text-sm"},Rv={class:"text-sm"},Uv=ee({__name:"AddressCard",props:{label:{},title:{},email:{},address:{}},setup:e=>(e,t)=>(D(),V("div",Bv,[B(e.$slots,"default"),t[0]||(t[0]=$()),I("p",Av,se(e.label)+":",1),t[1]||(t[1]=$()),I("h3",Iv,se(e.title||"Name"),1),t[2]||(t[2]=$()),I("p",jv,"Email: "+se(e.email||"demo@email.com"),1),t[3]||(t[3]=$()),I("p",Rv,"Address: "+se(e.address||"Route, State, City"),1)]))}),Mv=b("invoice",()=>{const e=x([]),t=x({customer_id:null,outlet_id:null,line_items:[],vat:6,issue_date:(new Date).toISOString().split("T")[0],due_date:""}),l=x(""),a=x([]),s=x({pageIndex:0,pageSize:15,pageCount:0});x(null);const n=x(!1),r=x(),{get:u,post:i,put:d,remove:p}=yn(),m=e=>{r.value=e,t.value={customer_id:e.customer_id,outlet_id:e.outlet_id,line_items:e.line_items,vat:e.vat,issue_date:e.issue_date,due_date:e.due_date}},f=(...t)=>c(null,[...t],function*(t={}){const{data:l,pagination:a}=yield u("invoices",{params:Ln(t)});s.value={pageIndex:a.current_page-1,pageSize:a.per_page,pageCount:a.total_pages},e.value=l}),v=_.debounce(()=>c(null,null,function*(){return yield f({q:l.value.trim()})}),1e3);return{loading:n,invoices:e,pagination:s,getInvoice:f,invoiceForm:t,createInvoice:t=>c(null,null,function*(){n.value=!0;const{data:l,error:a,success:s,message:r}=yield i("invoices",t);return s&&(e.value=Array.from([...e.value,l])),q[s?"success":"error"](r),{data:l,error:a,success:s,message:r}}),activeInvoice:r,setActiveInvoice:m,getSingleInvoice:e=>c(null,null,function*(){const t=yield u(`invoices/${e}`).then(({data:e})=>o({},e));m(t)}),updateInvoice:t=>c(null,null,function*(){n.value=!0;const{data:l,error:a,success:s,message:r}=yield d(`invoices/${t.id}`,t);return s&&(e.value=e.value.map(e=>e.id===t.id?l:e)),q[s?"success":"error"](r),{data:l,error:a,success:s,message:r}}),deleteInvoice:l=>c(null,null,function*(){n.value=!0;const{message:a,success:s}=yield p(`invoices/${l}`);s&&(e.value=e.value.filter(e=>e.id!==l),r.value=void 0,t.value={customer_id:null,outlet_id:null,line_items:[],vat:6,issue_date:(new Date).toISOString().split("T")[0],due_date:""}),q.success(a),n.value=!1}),searchQuery:l,searchFilters:a,getInvoicesByQuery:v}}),Nv=x([{label:"Invoice",value:"details",icon:O(Js)},{label:"Add Item",value:"addItem",icon:O(os)},{label:"Create Customer",value:"create",icon:O(os)}]),Ev=[{accessorKey:"id",header:({column:e})=>O(Jd,{column:e,title:"ID"})},{accessorKey:"customer_id",header:({column:e})=>O(Jd,{column:e,title:"Name"}),enableSorting:!1,enableHiding:!1},{accessorKey:"issue_date",header:({column:e})=>O(Jd,{column:e,title:"Issue Date"})},{accessorKey:"subtotal",header:({column:e})=>O(Jd,{column:e,title:"Amount"})}],zv=()=>{const e=gn(),t=wn(),l=oc(),a=Cc(),s=Mv(),{appSettings:n}=lt(e),{outlets:r}=lt(t),{products:u,searchQuery:o}=lt(l),{customers:i}=lt(a),{routerReplace:d}=Cn(),{loading:p,invoices:m,pagination:f,activeInvoice:v,invoiceForm:y}=lt(s),g=is("invoiceEditFormRef");is("invoiceCreateFormRef");const _=x("details"),h=w(()=>{var e;return!0===(null==(e=n.value)?void 0:e.has_outlet)}),b=w(()=>{var e;return!0===(null==(e=n.value)?void 0:e.has_outlet)?r:""}),q=w(()=>r.value.find(e=>e.id===y.value.outlet_id)),C=w(()=>i.value.find(e=>e.id===y.value.customer_id)),S=w(()=>y.value.line_items.map(e=>Number(e.quantity||0)*Number(e.custom_price||0))),F=w(()=>y.value.line_items.reduce((e,t)=>e+t.quantity*t.custom_price,0)),P=w(()=>F.value*y.value.vat/100),O=w(()=>F.value+P.value),V=(...e)=>c(null,[...e],function*(e={}){p.value=!0,yield s.getInvoice(e),p.value=!1}),D=()=>{p.value=!0;try{_.value="details",y.value={customer_id:null,outlet_id:null,line_items:[],vat:0,issue_date:(new Date).toISOString().split("T")[0],due_date:""},C.value=null,q.value=null,v.value=null,d({invoiceId:null})}catch(e){}p.value=!1};return k(()=>c(null,null,function*(){yield V(),yield t.getOutlets(),yield l.getProducts(),yield a.getCustomers(),yield s.getInvoice()})),{loading:p,hasOutlet:h,appSettings:n,selectedOutlet:q,selectedCustomer:C,invoiceOutlets:b,activeTab:_,subMenuTabs:Nv,customers:i,createCustomer:e=>c(null,null,function*(){yield a.createCustomer(e)}),products:u,searchQuery:o,filteredProducts:()=>c(null,null,function*(){yield l.getProductsByQuery()}),handleCleare:()=>{o.value=""},handleAddProduct:e=>{const t={product_id:e.id,quantity:1,custom_name:e.name,custom_price:e.price,custom_description:e.short_description};y.value.line_items.push(t)},handleRemove:e=>{const t=y.value.line_items.findIndex(t=>t.product_id===e.product_id);-1!==t&&y.value.line_items.splice(t,1)},itemTotalPrice:S,subTotalPrice:F,vatCalculate:P,finalTotal:O,invoiceForm:y,submitInvoice:()=>{p.value=!0;try{s.createInvoice(y.value)}catch(e){}p.value=!1},updateInvoice:e=>c(null,null,function*(){var t;e.id=v.value.id;const l=yield s.updateInvoice(e);if(!l.success){const e=null==(t=g.value)?void 0:t.form;e&&e.setErrors(l.error)}}),deleteInvoice:e=>c(null,null,function*(){(yield s.deleteInvoice(e)).success&&D()}),invoices:m,pagination:f,getInvoices:V,getSingleInvoice:e=>c(null,null,function*(){var t,l;yield s.getSingleInvoice(e),(null==(t=g.value)?void 0:t.form)&&(null==(l=g.value)||l.form.setValues(v.value)),d({invoiceId:e})}),activeInvoice:v,createNewInvoice:D}},Lv={class:"p-4"},Kv=ee({__name:"InvoiceListTable",setup(e){const{invoices:t,pagination:l,getInvoices:a,activeInvoice:s,getSingleInvoice:n}=zv();return(e,r)=>(D(),V("div",Lv,[H(z(To),{data:z(t),columns:z(Ev),pagination:z(l),simplePagination:!0,reFetch:z(a)},{toolbar:N(({table:e})=>[H(z(Ao),{table:e},{search:N(()=>[H(z(si),{placeholder:"Search invoice by id",table:e,"search-key":"id",inputClass:"!w-full h-10"},null,8,["table"])]),_:2},1032,["table"])]),tbody:N(({table:t})=>[H(z(yi),{table:t,columns:z(Ev)},{tableBody:N(()=>[(D(!0),V(A,null,le(t.getRowModel().rows,(t,l)=>{var a;return D(),M(z(di),{key:t.id,onClick:e=>z(n)(t.original.id),"data-state":t.original.id==(null==(a=z(s))?void 0:a.id)&&"selected",class:"cursor-pointer"},{default:N(()=>[H(z(ii),null,{default:N(()=>[$(" #"+se(t.original.id),1)]),_:2},1024),r[0]||(r[0]=$()),H(z(ii),{class:"font-medium align-middle w-full"},{default:N(()=>{var e;return[I("div",null,se(null==(e=t.original.customer)?void 0:e.full_name),1)]}),_:2},1024),r[1]||(r[1]=$()),H(z(ii),{class:"w-full"},{default:N(()=>[$(se(z(Kn)(t.original.issue_date,"dd/MM/yyyy")),1)]),_:2},1024),r[2]||(r[2]=$()),H(z(ii),{class:"w-full"},{default:N(()=>[$(se(z(zn)(t.original.subtotal,e.currency)),1)]),_:2},1024)]),_:2},1032,["onClick","data-state"])}),128))]),_:2},1032,["table","columns"])]),_:1},8,["data","columns","pagination","reFetch"])]))}}),Hv={__name:"EditableText",props:{modelValue:String,class:String,isNumber:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,a=t,s=x(null);function n(e){a("update:modelValue",e.target.innerText)}function r(e){l.isNumber&&(/[0-9]/.test(e.key)||["Backspace","Delete","ArrowLeft","ArrowRight"].includes(e.key)||e.preventDefault())}return k(()=>{var e;s.value.innerText=null!=(e=l.modelValue)?e:""}),P(()=>l.modelValue,e=>{s.value&&s.value.innerText!==e&&(s.value.innerText=e)}),(e,t)=>(D(),V("p",{ref_key:"editable",ref:s,contenteditable:"true",class:te(["editable p-0.5 border border-transparent cursor-text rounded-sm hover:bg-accent hover:border-accent-foreground focus:outline-none focus:border-accent-foreground",null==l?void 0:l.class]),onInput:n,onKeypress:r},null,34))}},Gv={class:"font-medium"},Wv={class:"text-sm text-muted-foreground"},Qv=["innerHTML"],Yv=["onUpdate:modelValue"],Jv=["onUpdate:modelValue"],Zv=ee({__name:"ProductTable",props:{modelValue:{type:Object,required:!0},itemTotalPrice:{type:Number,default:0}},emits:["handleRemove"],setup:(e,{emit:t})=>(t,l)=>(D(),M(z(ri),null,{default:N(()=>[e.modelValue.length?T("",!0):(D(),M(z(oi),{key:0},{default:N(()=>[...l[0]||(l[0]=[$("No product added.",-1)])]),_:1})),l[15]||(l[15]=$()),H(z(fi),null,{default:N(()=>[H(z(di),null,{default:N(()=>[H(z(mi),{class:"w-[60%]"},{default:N(()=>[...l[1]||(l[1]=[$("Item",-1)])]),_:1}),l[6]||(l[6]=$()),H(z(mi),{class:"w-12"},{default:N(()=>[...l[2]||(l[2]=[$("Qty",-1)])]),_:1}),l[7]||(l[7]=$()),H(z(mi),{class:"w-12"},{default:N(()=>[...l[3]||(l[3]=[$("Rate",-1)])]),_:1}),l[8]||(l[8]=$()),H(z(mi),null,{default:N(()=>[...l[4]||(l[4]=[$(" Amount ",-1)])]),_:1}),l[9]||(l[9]=$()),H(z(mi),{class:"print:hidden"},{default:N(()=>[...l[5]||(l[5]=[$(" ... ",-1)])]),_:1})]),_:1})]),_:1}),l[16]||(l[16]=$()),e.modelValue.length?(D(),M(z(ui),{key:1},{default:N(()=>[(D(!0),V(A,null,le(e.modelValue,(a,s)=>(D(),M(z(di),{key:s,class:"group hover:bg-accent"},{default:N(()=>[H(z(ii),{class:"w-[60%]"},{default:N(()=>[I("div",null,[I("p",Gv,[H(Hv,{modelValue:a.custom_name,"onUpdate:modelValue":e=>a.custom_name=e},null,8,["modelValue","onUpdate:modelValue"])]),l[10]||(l[10]=$()),I("p",Wv,[I("div",{innerHTML:a.custom_description},null,8,Qv)])])]),_:2},1024),l[11]||(l[11]=$()),H(z(ii),{class:"w-12"},{default:N(()=>[Xe(I("input",{type:"number","onUpdate:modelValue":e=>a.quantity=e,min:1,class:"bg-transparent w-full"},null,8,Yv),[[nl,a.quantity]])]),_:2},1024),l[12]||(l[12]=$()),H(z(ii),{class:"w-20"},{default:N(()=>[Xe(I("input",{type:"number","onUpdate:modelValue":e=>a.custom_price=e,min:0,class:"bg-transparent w-full"},null,8,Jv),[[nl,a.custom_price]])]),_:2},1024),l[13]||(l[13]=$()),H(z(ii),{class:"w-20"},{default:N(()=>[$(se(z(zn)(e.itemTotalPrice[s])),1)]),_:2},1024),l[14]||(l[14]=$()),H(z(ii),{class:"print:hidden w-8"},{default:N(()=>[H(z(na),{onClick:e=>t.$emit("handleRemove",a),class:"w-4 h-4 hover:text-red-400 cursor-pointer"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):T("",!0)]),_:1}))}),Xv={__name:"PrintSection",setup(e,{expose:t}){const l=x(null);return t({printHandler:()=>{const e=l.value,t=e.cloneNode(!0),a=e.querySelectorAll("input, textarea"),s=t.querySelectorAll("input, textarea");a.forEach((e,t)=>{const l=s[t];l&&("TEXTAREA"===l.tagName?l.innerHTML=e.value:"INPUT"===l.tagName&&l.setAttribute("value",e.value))});const n=window.open("","_blank","width=900,height=650");if(!n)return;const r=document.head,u=Array.from(r.querySelectorAll("style")).map(e=>e.outerHTML).join("\n"),o=`\n                    <!DOCTYPE html>\n                    <html lang="en">\n                    <head>\n                        <meta charset="UTF-8" />\n                        <title>Print Invoice</title>\n                        ${Array.from(r.querySelectorAll('link[rel="stylesheet"]')).map(e=>e.outerHTML).join("\n")}\n                        ${u}\n                        <style>\n                            @media print {\n                                body {\n                                    background: white !important;\n                                    color: black !important;\n                                    padding: 1rem;\n                                    font-family: inherit;\n                                }\n                                input, textarea {\n                                    font-size: 1rem;\n                                    color: black;\n                                }\n                            }\n                            body {\n                                margin: 0;\n                                padding: 0;\n                            }\n                        </style>\n                    </head>\n                    <body>\n                        <div id="print-content">\n                            ${t.outerHTML}\n                        </div>\n                        <script>\n                            window.onload = function() {\n                                window.print();\n                                window.onafterprint = function () {\n                                    window.close();\n                                };\n                            }\n                        <\/script>\n                    </body>\n                    </html>\n                `;n.document.open(),n.document.write(o),n.document.close()}}),(e,t)=>(D(),V("div",null,[I("div",{ref_key:"printRef",ref:l},[B(e.$slots,"default")],512)]))}},ey={class:"flex justify-between border-b pb-2 mb-4"},ty={class:"text-2xl font-bold"},ly={key:0,class:"text-sm text-slate-400"},ay={class:"print:hidden flex items-center gap-2"},sy={class:"flex justify-between gap-4 mb-4"},ny={key:0,class:"print:hidden w-full flex items-center"},ry={key:0,class:"print:hidden w-full flex items-center"},uy={class:"py-2 flex justify-between"},oy={class:"flex print:w-fit print:justify-between gap-4"},iy={class:"print:text-sm text-sm text-gray-500 flex gap-1 items-center"},dy={class:"print:text-sm text-sm text-gray-500 flex gap-1 items-center"},cy={class:"flex justify-end mt-4"},py={class:"space-y-2 min-w-[300px]"},my={class:"flex justify-between"},fy={class:"font-medium"},vy={class:"flex justify-between"},yy={class:"text-sm"},gy={class:"border-b-2 pb-1 overflow-hidden print:hidden"},_y={class:"font-medium"},hy={class:"flex justify-between border-t"},by={class:"font-semibol"},xy={class:"print:hidden flex justify-center gap-2"},wy={class:"flex items-center gap-2 transition-opacity duration-200 hover:opacity-80"},qy={class:"additem w-full p-4"},Cy={class:"flex justify-end"},ky={class:"item-show-modal w-full relative mt-2"},Sy={class:"relative rounded-md rounded-b-none border bg-popover shadow-sm"},Fy={class:"w-full rounded-md border border-t-0 rounded-t-none bg-popover shadow-sm"},Py={class:"flex-1"},Oy={class:"text-xs font-medium"},Vy={class:"text-xs text-muted-foreground"},Dy=ee({__name:"Index",setup(e){const{loading:t,hasOutlet:l,appSettings:a,selectedOutlet:s,selectedCustomer:n,invoiceOutlets:r,activeTab:u,subMenuTabs:o,customers:i,createCustomer:d,products:c,searchQuery:p,filteredProducts:m,handleCleare:f,handleAddProduct:v,handleRemove:y,itemTotalPrice:g,subTotalPrice:_,vatCalculate:h,finalTotal:b,invoiceForm:q,submitInvoice:C,updateInvoice:k,createNewInvoice:S,activeInvoice:F,deleteInvoice:P}=zv(),{deleting:O,showConfirmDialog:B,handleDelete:j,confirmDelete:R}=mo(),U=x(),E=w(()=>window.matchMedia("(max-width: 767px)").matches),L=()=>{var e;null==(e=U.value)||e.printHandler()};return(e,x)=>{const w=ae("Separator");return D(),V(A,null,[H(Pn,{loading:z(t)},null,8,["loading"]),x[62]||(x[62]=$()),H(Er,{activeRouteName:"app.invoice"},{sidebar:N(()=>[H(z(zr),{class:"print:hidden w-full",modelValue:z(u),"onUpdate:modelValue":x[12]||(x[12]=e=>at(u)?u.value=e:null)},{default:N(()=>[H(Au,null,{header:N(()=>[H(z(Kr),{class:"w-full rounded-none"},{default:N(()=>[(D(!0),V(A,null,le(z(o),e=>(D(),M(z(Gr),{key:e.value,class:"data-[state=active]:shadow-none data-[state=active]:bg-transparent",value:e.value},{default:N(()=>[I("div",wy,[(D(),M(ie(e.icon),{class:"w-4 h-4"})),$(" "+se(e.label),1)])]),_:2},1032,["value"]))),128))]),_:1})]),default:N(()=>[x[57]||(x[57]=$()),H(z(Lr),{value:"details",class:"mt-0"},{default:N(()=>[H(Kv)]),_:1}),x[58]||(x[58]=$()),H(z(Lr),{value:"create",class:"mt-0"},{default:N(()=>[H(lp,{submitForm:z(d),name:"createForm",ref:"customerCreateFormRef"},null,8,["submitForm"])]),_:1}),x[59]||(x[59]=$()),H(z(Lr),{value:"addItem",class:"mt-0"},{default:N(()=>[I("div",qy,[I("div",Cy,[H(z(Nn),{onClick:x[10]||(x[10]=e=>u.value="details"),variant:"outline"},{default:N(()=>[x[50]||(x[50]=$("Close\n                  ",-1)),H(z(Cs),{class:"w-4 h-4 ml-2"})]),_:1})]),x[56]||(x[56]=$()),I("div",ky,[I("div",Sy,[H(z(Ss),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),x[51]||(x[51]=$()),H(z(ai),{modelValue:z(p),"onUpdate:modelValue":x[11]||(x[11]=e=>at(p)?p.value=e:null),type:"text",placeholder:"Search products...",class:"pl-10 pr-10 py-5 rounded-none border-none focus-visible:ring-0",onInput:z(m)},null,8,["modelValue","onInput"]),x[52]||(x[52]=$()),H(z(Nn),{variant:"ghost",size:"icon",type:"button",class:"absolute right-2 top-1/2 transform -translate-y-1/2",onClick:z(f)},{default:N(()=>[H(z(Cs),{class:"h-4 w-4"})]),_:1},8,["onClick"])]),x[55]||(x[55]=$()),I("div",Fy,[H(z(Wu),{class:"h-auto",style:{height:"calc(100vh - 250px)"}},{default:N(()=>[(D(!0),V(A,null,le(z(c)||[],e=>(D(),V("div",{key:e.id,class:"flex items-center justify-between px-2 p-1 hover:bg-muted"},[I("div",Py,[I("h4",Oy,se(e.name),1),x[53]||(x[53]=$()),I("p",Vy,"\n                          Price: $"+se(e.price),1)]),x[54]||(x[54]=$()),H(z(Nn),{variant:"ghost",size:"icon",type:"button",onClick:t=>z(v)(e)},{default:N(()=>[H(z(os),{class:"h-4 w-4"})]),_:1},8,["onClick"])]))),128))]),_:1})])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:N(()=>[I("div",{class:"p-8",style:rt({zoom:E.value?.6:1})},[H(Xv,{ref_key:"printSectionRef",ref:U},{default:N(()=>[H(z(kr),{class:"print:mb-1 print:p-1 print:border-none print:shadow-none print:bg-white print:text-black mb-4 text-base font-normal"},{default:N(()=>[H(z(Or),null,{default:N(()=>[I("div",ey,[I("div",null,[I("h1",ty,[x[15]||(x[15]=$("\n                  Invoice\n                  ",-1)),z(F)?(D(),V("span",ly,"#"+se(z(F).id),1)):T("",!0)])]),x[19]||(x[19]=$()),I("div",ay,[z(F)?(D(),M(z(Nn),{key:0,onClick:z(S),variant:"outline"},{default:N(()=>[...x[16]||(x[16]=[$("Create",-1)])]),_:1},8,["onClick"])):T("",!0),x[18]||(x[18]=$()),z(F)?(D(),M(z(Nn),{key:1,onClick:x[0]||(x[0]=e=>z(j)(z(F).id)),variant:"outline"},{default:N(()=>[...x[17]||(x[17]=[$("Delete",-1)])]),_:1})):T("",!0)])])]),_:1}),x[41]||(x[41]=$()),H(z(Sr),null,{default:N(()=>{var e,t,o,d,c,p,m,f;return[I("div",sy,[H(Uv,{label:"Billing Form",title:(null==(e=z(s))?void 0:e.name)||(null==(t=z(a))?void 0:t.site_name)||"Marchent Outlet",email:(null==(o=z(s))?void 0:o.email)||(null==(d=z(a))?void 0:d.email),address:(null==(c=z(s))?void 0:c.address)||(null==(p=z(a))?void 0:p.store_address)},{default:N(()=>[z(l)?(D(),V("div",ny,[H(z(Ha),{name:"outlet"},{default:N(()=>[H(z(Zi),{class:te("w-full")},{default:N(()=>[H(z(Ji),null,{default:N(()=>[H(z(Yr),{modelValue:z(q).outlet_id,"onUpdate:modelValue":x[1]||(x[1]=e=>z(q).outlet_id=e)},{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select outlet"})]),_:1}),x[20]||(x[20]=$()),H(z(Jr),null,{default:N(()=>[(D(!0),V(A,null,le(z(r).value,e=>(D(),M(z(eu),{key:e.id,value:e.id},{default:N(()=>[$(se(e.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1}),x[21]||(x[21]=$()),H(z(ed))]),_:1})]),_:1})])):T("",!0)]),_:1},8,["title","email","address"]),x[23]||(x[23]=$()),H(Uv,{label:"Billing to",title:z(n)?`${z(n).first_name} ${z(n).last_name}`:"Client Name",email:null==(m=z(n))?void 0:m.email,address:null==(f=z(n))?void 0:f.billing.address_1},{default:N(()=>[z(i)?(D(),V("div",ry,[H(Np,{modelValue:z(q).customer_id,"onUpdate:modelValue":x[2]||(x[2]=e=>z(q).customer_id=e),placeholder:"Select Customer",items:z(i),"item-label":"full_name"},null,8,["modelValue","items"]),x[22]||(x[22]=$()),H(z(Nn),{variant:"outline",size:"icon",class:"ml-3 shrink-0 shadow-sm opacity-50 hover:opacity-100",onClick:x[3]||(x[3]=e=>u.value="create"===z(u)?"details":"create")},{default:N(()=>[H(z(ea),{class:te(["create"===z(u)&&"rotate-45","h-6 w-6"])},null,8,["class"])]),_:1})])):T("",!0)]),_:1},8,["title","email","address"])]),x[38]||(x[38]=$()),I("div",uy,[I("div",oy,[I("p",iy,[H($v,{label:"Issue Date:",modelValue:z(q).issue_date,"onUpdate:modelValue":x[4]||(x[4]=e=>z(q).issue_date=e)},null,8,["modelValue"])]),x[24]||(x[24]=$()),I("p",dy,[H($v,{label:"Due Date:",modelValue:z(q).due_date,"onUpdate:modelValue":x[5]||(x[5]=e=>z(q).due_date=e)},null,8,["modelValue"])])]),x[26]||(x[26]=$()),H(z(Nn),{class:"print:hidden",onClick:x[6]||(x[6]=e=>u.value="addItem")},{default:N(()=>[x[25]||(x[25]=$("Add Item ",-1)),H(z(ea),{class:"h-6 w-6"})]),_:1})]),x[39]||(x[39]=$()),H(Zv,{modelValue:z(q).line_items,"onUpdate:modelValue":x[7]||(x[7]=e=>z(q).line_items=e),itemTotalPrice:z(g),onHandleRemove:z(y)},null,8,["modelValue","itemTotalPrice","onHandleRemove"]),x[40]||(x[40]=$()),I("div",cy,[I("div",py,[I("div",my,[x[27]||(x[27]=I("span",{class:"text-sm"},"Subtotal",-1)),x[28]||(x[28]=$()),I("span",fy,"$"+se(z(_)),1)]),x[35]||(x[35]=$()),I("div",vy,[I("span",yy,[x[31]||(x[31]=$("Vat\n                    ",-1)),I("span",gy,[x[29]||(x[29]=$("\n                      (\n                      ",-1)),H(Hv,{class:te(" inline-block"),"is-number":!0,modelValue:z(q).vat,"onUpdate:modelValue":x[8]||(x[8]=e=>z(q).vat=e)},null,8,["modelValue"]),x[30]||(x[30]=$("\n                      %)",-1))])]),x[32]||(x[32]=$()),I("span",_y,se(z(zn)(z(h))),1)]),x[36]||(x[36]=$()),H(w),x[37]||(x[37]=$()),I("div",hy,[x[33]||(x[33]=I("span",{class:"font-semibold"},"Total",-1)),x[34]||(x[34]=$()),I("span",by,se(z(zn)(z(b))),1)])])])]}),_:1})]),_:1})]),_:1},512),x[49]||(x[49]=$()),I("div",xy,[H(z(Nn),{variant:"outline"},{default:N(()=>[x[42]||(x[42]=$("Send Mail\n          ",-1)),H(z(Vs),{class:"w-4 h-4 ml-2"})]),_:1}),x[46]||(x[46]=$()),H(z(Nn),{variant:"outline",onClick:L},{default:N(()=>[x[43]||(x[43]=$("Print PDF ",-1)),H(z(Zs),{class:"w-4 h-4 ml-2"})]),_:1}),x[47]||(x[47]=$()),z(F)?T("",!0):(D(),M(z(Nn),{key:0,onClick:z(C),loading:z(t)},{default:N(()=>[x[44]||(x[44]=$("\n          Submit ",-1)),H(z(ds),{class:"w-4 h-4 ml-2"})]),_:1},8,["onClick","loading"])),x[48]||(x[48]=$()),z(F)?(D(),M(z(Nn),{key:1,onClick:x[9]||(x[9]=e=>z(k)(z(q)))},{default:N(()=>[x[45]||(x[45]=$("\n          Update ",-1)),H(z(ds),{class:"w-4 h-4 ml-2"})]),_:1})):T("",!0)])],4),x[60]||(x[60]=$()),x[61]||(x[61]=$()),H(z(po),{title:"Are you sure you want to delete this invoice?",description:"This action will move the invoice to the trash and can be restored within 30 days.",modelValue:z(B),"onUpdate:modelValue":x[13]||(x[13]=e=>at(B)?B.value=e:null),deleting:z(O),onConfirm:x[14]||(x[14]=e=>z(R)(z(P)))},null,8,["modelValue","deleting"])]),_:1})],64)}}}),Ty=Object.freeze(Object.defineProperty({__proto__:null,default:Dy},Symbol.toStringTag,{value:"Module"})),$y={class:"min-h-screen"},By={class:"border-b sticky top-0 z-50 bg-background"},Ay={class:"flex h-14 items-center px-2"},Iy={class:"ml-auto flex items-center space-x-2 md:space-x-4"},jy=ee({__name:"AppLayout",props:{activeRouteName:{}},setup(e){const t=gn(),{themes:l,setTheme:a}=t,{activeTheme:s}=lt(t),{menuItems:n,authUser:r}=lt(hn());return k(()=>{t.getTheme()}),(e,t)=>(D(),V("div",$y,[I("div",By,[I("div",Ay,[H(br,{activeRouteName:e.activeRouteName,routes:z(n)},null,8,["activeRouteName","routes"]),t[3]||(t[3]=$()),H(In,{activeRouteName:e.activeRouteName,routes:z(n)},null,8,["activeRouteName","routes"]),t[4]||(t[4]=$()),I("div",Iy,[H(Br,{modelValue:z(s),"onUpdate:modelValue":t[0]||(t[0]=e=>at(s)?s.value=e:null),themes:z(l),onChangeTheme:z(a)},null,8,["modelValue","themes","onChangeTheme"]),t[1]||(t[1]=$()),H(Cr),t[2]||(t[2]=$()),H(or,{user:z(r)},null,8,["user"])])])]),t[5]||(t[5]=$()),H(Ar),t[6]||(t[6]=$()),B(e.$slots,"default")]))}}),Ry={class:"space-y-1 flex gap-1 justify-start items-center md:block"},Uy=ee({__name:"SidebarButtons",props:{settingItems:{}},setup:e=>(e,t)=>{const l=ae("router-link");return D(),V("ul",Ry,[(D(!0),V(A,null,le(e.settingItems,(a,s)=>(D(),V("li",{key:s},[H(l,{to:{name:a.value}},{default:N(()=>[H(z(Nn),{variant:"ghost",class:te(["w-auto p-3 md:w-full !justify-start !text-base",a.value===e.$route.name?"bg-accent text-accent-foreground":""])},{default:N(()=>[(D(),M(ie(a.icon),{class:"w-4 h-4"})),t[0]||(t[0]=$()),I("span",{class:te(["md:block",[a.value===e.$route.name?"block":"hidden"]])},se(a.title),3)]),_:2},1032,["class"])]),_:2},1032,["to"])]))),128))])}}),My={class:"flex flex-col md:grid grid-cols-12"},Ny={class:"p-4"},Ey={class:"main-section col-span-10"},zy={class:"p-4 space-y-8 mb-8"},Ly=ee({__name:"Index",setup(e){const{settingItems:t}=(()=>{const e=fn.find(e=>"app.settings"===e.name);return{settingItems:((null==e?void 0:e.children)||[]).map(e=>{var t,l,a;return{value:e.name,title:null!=(l=null==(t=e.meta)?void 0:t.title)?l:e.name,icon:(null==(a=e.meta)?void 0:a.icon)?O(e.meta.icon):null}})}})();return(e,l)=>{const a=ae("sidebar"),s=ae("router-view");return D(),M(jy,{activeRouteName:"app.settings"},{default:N(()=>[I("div",My,[H(a,{class:"side-bar col-span-2 border-r md:min-h-screen"},{default:N(()=>[I("div",Ny,[H(Uy,{settingItems:z(t)},null,8,["settingItems"])])]),_:1}),l[0]||(l[0]=$()),I("main",Ey,[I("div",zy,[H(s)])])])]),_:1})}}}),Ky=Object.freeze(Object.defineProperty({__proto__:null,default:Ly},Symbol.toStringTag,{value:"Module"})),Hy=Aa({username:Ma({required_error:"Username is required"}).min(3,"Username must be at least 3 characters"),email:Ma({required_error:"Email is required"}).email("Please enter a valid email address"),first_name:Ma().optional(),last_name:Ma().optional(),display_name:Ma().optional()}),Gy={class:"profile-form max-w-4xl"},Wy={class:"grid grid-cols-2 gap-4"},Qy=ee({__name:"ProfileForm",props:{form:{},submitForm:{type:Function}},setup(e,{expose:t}){const l=Ka({name:"profileForm",validationSchema:Ga(Hy)}),a=e;t({form:l});const s=l.handleSubmit((e,t)=>c(null,null,function*(){yield a.submitForm(e,t)}));return(e,t)=>(D(),V("div",Gy,[B(e.$slots,"formHeader"),t[23]||(t[23]=$()),I("form",{onSubmit:t[0]||(t[0]=ul((...e)=>z(s)&&z(s)(...e),["prevent"])),class:"space-y-4"},[H(z(Ha),{name:"username"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[1]||(t[1]=[$("Username",-1)])]),_:1}),t[2]||(t[2]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Username",disabled:""},e),null,16)]),_:2},1024),t[3]||(t[3]=$()),H(z(ed))]),_:2},1024)]),_:1}),t[18]||(t[18]=$()),H(z(Ha),{name:"email"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[4]||(t[4]=[$("Email",-1)])]),_:1}),t[5]||(t[5]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"email",placeholder:"Email",disabled:""},e),null,16)]),_:2},1024),t[6]||(t[6]=$()),H(z(ed))]),_:2},1024)]),_:1}),t[19]||(t[19]=$()),I("div",Wy,[H(z(Ha),{name:"first_name"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[7]||(t[7]=[$("First Name",-1)])]),_:1}),t[8]||(t[8]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"First Name"},e),null,16)]),_:2},1024),t[9]||(t[9]=$()),H(z(ed))]),_:2},1024)]),_:1}),t[13]||(t[13]=$()),H(z(Ha),{name:"last_name"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[10]||(t[10]=[$("Last Name",-1)])]),_:1}),t[11]||(t[11]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Last Name"},e),null,16)]),_:2},1024),t[12]||(t[12]=$()),H(z(ed))]),_:2},1024)]),_:1})]),t[20]||(t[20]=$()),H(z(Ha),{name:"display_name"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[14]||(t[14]=[$("Display Name",-1)])]),_:1}),t[15]||(t[15]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Display Name"},e),null,16)]),_:2},1024),t[16]||(t[16]=$()),H(z(ed))]),_:2},1024)]),_:1}),t[21]||(t[21]=$()),H(z(Nn),{type:"submit",loading:z(l).isSubmitting.value},{default:N(()=>[...t[17]||(t[17]=[$("Update Profile",-1)])]),_:1},8,["loading"]),t[22]||(t[22]=$()),B(e.$slots,"formFooter")],32)]))}}),Yy=["USD","EURO","BDT"],Jy=Aa({site_name:Ma().optional(),store_country:Ma().optional(),store_city:Ma().optional(),store_postcode:Ma().optional(),store_address:Ma().optional(),store_address_2:Ma().optional(),currency:Ra(Yy).optional()}),Zy={class:"profile-form max-w-4xl"},Xy=ee({__name:"StoreForm",props:{form:{},submitForm:{type:Function}},setup(e,{expose:t}){const l=Ka({name:"storeForm",validationSchema:Ga(Jy)}),a=e;t({form:l});const s=l.handleSubmit((e,t)=>c(null,null,function*(){yield a.submitForm(e,t)}));return(e,t)=>(D(),V("div",Zy,[B(e.$slots,"formHeader"),t[32]||(t[32]=$()),I("form",{onSubmit:t[0]||(t[0]=ul((...e)=>z(s)&&z(s)(...e),["prevent"])),class:"space-y-4"},[H(z(Ha),{name:"site_name"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[1]||(t[1]=[$("Store Name",-1)])]),_:1}),t[2]||(t[2]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Store Name"},e),null,16)]),_:2},1024),t[3]||(t[3]=$()),H(z(ed))]),_:2},1024)]),_:1}),t[24]||(t[24]=$()),H(z(Ha),{name:"store_country"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[4]||(t[4]=[$("Store Country",-1)])]),_:1}),t[5]||(t[5]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Store Country"},e),null,16)]),_:2},1024),t[6]||(t[6]=$()),H(z(ed))]),_:2},1024)]),_:1}),t[25]||(t[25]=$()),H(z(Ha),{name:"store_city"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[7]||(t[7]=[$("Store City",-1)])]),_:1}),t[8]||(t[8]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Store City"},e),null,16)]),_:2},1024),t[9]||(t[9]=$()),H(z(ed))]),_:2},1024)]),_:1}),t[26]||(t[26]=$()),H(z(Ha),{name:"store_postcode"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[10]||(t[10]=[$("Store Postcode",-1)])]),_:1}),t[11]||(t[11]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Store Postcode"},e),null,16)]),_:2},1024),t[12]||(t[12]=$()),H(z(ed))]),_:2},1024)]),_:1}),t[27]||(t[27]=$()),H(z(Ha),{name:"store_address"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[13]||(t[13]=[$("Store Address",-1)])]),_:1}),t[14]||(t[14]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Store Address"},e),null,16)]),_:2},1024),t[15]||(t[15]=$()),H(z(ed))]),_:2},1024)]),_:1}),t[28]||(t[28]=$()),H(z(Ha),{name:"store_address_2"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[16]||(t[16]=[$("Store Address Secondary",-1)])]),_:1}),t[17]||(t[17]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"text",placeholder:"Store Address Secondary"},e),null,16)]),_:2},1024),t[18]||(t[18]=$()),H(z(ed))]),_:2},1024)]),_:1}),t[29]||(t[29]=$()),H(z(Ha),{"validate-on-blur":!z(l).isFieldDirty,name:"currency"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[19]||(t[19]=[$("Currency",-1)])]),_:1}),t[21]||(t[21]=$()),H(z(Yr),Y(J(e)),{default:N(()=>[H(z(Ji),null,{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select Currency"})]),_:1})]),_:1}),t[20]||(t[20]=$()),H(z(Jr),null,{default:N(()=>[(D(!0),V(A,null,le(z(Yy),e=>(D(),M(z(eu),{key:e,value:e},{default:N(()=>[$(se(e.charAt(0).toUpperCase()+e.slice(1)),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},16),t[22]||(t[22]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[30]||(t[30]=$()),H(z(Nn),{type:"submit",loading:z(l).isSubmitting.value},{default:N(()=>[...t[23]||(t[23]=[$("Update Store",-1)])]),_:1},8,["loading"]),t[31]||(t[31]=$()),B(e.$slots,"formFooter")],32)]))}}),eg=()=>{const e=hn(),t=gn(),l=x(!1),a=is("authUserEditFormRef"),s=is("appSettingsEditFormRef"),{authUser:n}=lt(e),{appSettings:r}=lt(t);return k(()=>c(null,null,function*(){yield c(null,null,function*(){var t,s;l.value=!0;try{yield e.getCurrentUser(),(null==(t=a.value)?void 0:t.form)&&(null==(s=a.value)||s.form.setValues(n.value))}finally{l.value=!1}}),yield c(null,null,function*(){var e,a;l.value=!0;try{yield t.getAppSettings(),(null==(e=s.value)?void 0:e.form)&&(null==(a=s.value)||a.form.setValues(r.value))}finally{l.value=!1}})})),{authUser:n,updateAuth:t=>c(null,null,function*(){var s,r;l.value=!0;try{t.id=null==(s=n.value)?void 0:s.id;const l=yield e.updateUser(t);if(!l.success){const e=null==(r=a.value)?void 0:r.form;e&&e.setErrors(l.error)}}finally{l.value=!1}}),appSettings:r,updateAppSettings:e=>c(null,null,function*(){var a;l.value=!0;try{const l=yield t.updateAppSettings(e);if(!l.success){const e=null==(a=s.value)?void 0:a.form;e&&e.setErrors(l.error)}}finally{l.value=!1}}),loading:l}},tg=ee({__name:"Index",setup(e){const{authUser:t,updateAuth:l,appSettings:a,updateAppSettings:s,loading:n}=eg();return(e,r)=>(D(),V(A,null,[H(Pn,{loading:z(n)},null,8,["loading"]),r[2]||(r[2]=$()),H(Qy,{form:z(t),submitForm:z(l),ref:"authUserEditFormRef"},{formHeader:N(()=>[...r[0]||(r[0]=[I("div",{class:"mb-4 border-b"},[I("h1",{class:"text-xl"},"Profile Settings"),$(),I("p",{class:"mb-6 text-gray-600"},"\n                    Update your profile information here.\n                ")],-1)])]),_:1},8,["form","submitForm"]),r[3]||(r[3]=$()),H(Xy,{form:z(a),submitForm:z(s),ref:"appSettingsEditFormRef"},{formHeader:N(()=>[...r[1]||(r[1]=[I("div",{class:"mb-4 border-b"},[I("h1",{class:"text-xl"},"Store Settings"),$(),I("p",{class:"mb-6 text-gray-600"},"\n                    Configure your store info here.\n                ")],-1)])]),_:1},8,["form","submitForm"])],64))}}),lg=Object.freeze(Object.defineProperty({__proto__:null,default:tg},Symbol.toStringTag,{value:"Module"})),ag=b("wizard",()=>{const e=x(null),t=x(null),{get:l,put:a}=yn();return{wizards:e,getWizards:()=>c(null,null,function*(){try{const{data:t}=yield l("wizard");e.value=t}catch(t){throw t}}),updateWizards:l=>c(null,null,function*(){try{const{data:t,error:s,success:n,message:r}=yield a("wizard",l);return n&&(e.value=o(o({},e.value),t)),q[n?"success":"error"](r),{data:t,error:s,success:n,message:r}}catch(s){throw t.value=s,s}})}}),sg=()=>{const e=ag(),t=is("setupEditFormRef"),l=x(!1),{wizards:a}=lt(e);return k(()=>c(null,null,function*(){yield c(null,null,function*(){var s,n;l.value=!0;try{yield e.getWizards(),(null==(s=t.value)?void 0:s.form)&&(null==(n=t.value)||n.form.setValues(a.value))}finally{l.value=!1}})})),{wizards:a,updateWizards:a=>c(null,null,function*(){var s;l.value=!0;try{const l=yield e.updateWizards(a);if(!l.success){const e=null==(s=t.value)?void 0:s.form;e&&e.setErrors(l.error)}}finally{l.value=!1}}),loading:l}},ng=["retail","wholesale","manufacturing","service"],rg=["small","medium","large","enterprise"],ug=[{id:"physical_store",label:"Physical Store"},{id:"online_marketplace",label:"Online Marketplace"},{id:"social_media",label:"Social Media"},{id:"website",label:"Website"}],og=["small","medium","large"],ig=[{value:"0-10000",label:"$0 - $10,000"},{value:"10000-50000",label:"$10,000 - $50,000"},{value:"50000-100000",label:"$50,000 - $100,000"},{value:"100000+",label:"$100,000+"}],dg=["local","national","international"],cg=Aa({business_type:Ra(ng),inventory_range:Ra(rg),company_name:Ma().min(2,"Company name must be at least 2 characters"),industry_sector:Ma().min(2,"Industry sector is required"),has_outlet:ja().optional(),company_size:Ra(og).optional(),monthly_revenue:Ma().optional(),sales_channel:Ua(Ma()).refine(e=>e.some(e=>e),{message:"You have to select at least one item."}),target_market:Ra(dg).optional(),additional_notes:Ma().optional()}),pg={class:"company-form max-w-4xl"},mg={class:"mb-4"},fg=ee({__name:"BusinessSetupForm",props:{form:{},submitForm:{type:Function}},setup(e,{expose:t}){const l=Ka({name:"setupForm",validationSchema:Ga(cg),initialValues:{sales_channel:[""]}}),a=e;t({form:l});const s=l.handleSubmit((e,t)=>c(null,null,function*(){yield a.submitForm(e,t)}));return(e,t)=>(D(),V("div",pg,[I("form",{onSubmit:t[0]||(t[0]=ul((...e)=>z(s)&&z(s)(...e),["prevent"])),class:"space-y-4"},[t[42]||(t[42]=I("div",{class:"mb-4 border-b"},[I("h1",{class:"text-xl"},"Business Info Settings"),$(),I("p",{class:"mb-6 text-gray-600"},"\n                    Set up your business profile to get started.\n                ")],-1)),t[43]||(t[43]=$()),H(z(Ha),{"validate-on-blur":!z(l).isFieldDirty,name:"company_name"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[1]||(t[1]=[$("Company Name",-1)])]),_:1}),t[2]||(t[2]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E(e,{placeholder:"Enter your company name"}),null,16)]),_:2},1024),t[3]||(t[3]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[44]||(t[44]=$()),H(z(Ha),{"validate-on-blur":!z(l).isFieldDirty,name:"business_type"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[4]||(t[4]=[$("Business Type",-1)])]),_:1}),t[6]||(t[6]=$()),H(z(Yr),Y(J(e)),{default:N(()=>[H(z(Ji),null,{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select business type"})]),_:1})]),_:1}),t[5]||(t[5]=$()),H(z(Jr),null,{default:N(()=>[(D(!0),V(A,null,le(z(ng),e=>(D(),M(z(eu),{key:e,value:e},{default:N(()=>[$(se(e.charAt(0).toUpperCase()+e.slice(1)),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},16),t[7]||(t[7]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[45]||(t[45]=$()),H(z(Ha),{"validate-on-blur":!z(l).isFieldDirty,name:"industry_sector"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[8]||(t[8]=[$("Industry Sector",-1)])]),_:1}),t[9]||(t[9]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E(e,{placeholder:"e.g., Fashion, Technology"}),null,16)]),_:2},1024),t[10]||(t[10]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[46]||(t[46]=$()),t[47]||(t[47]=I("div",{class:"mb-4 border-b"},[I("h1",{class:"text-xl"},"Business Scale Settings"),$(),I("p",{class:"mb-6 text-gray-600"},"\n                    Configure your business scale to tailor the experience to\n                    your needs.\n                ")],-1)),t[48]||(t[48]=$()),H(z(Ha),{"validate-on-blur":!z(l).isFieldDirty,name:"inventory_range"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[11]||(t[11]=[$("Inventory Range",-1)])]),_:1}),t[13]||(t[13]=$()),H(z(Yr),Y(J(e)),{default:N(()=>[H(z(Ji),null,{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select inventory range"})]),_:1})]),_:1}),t[12]||(t[12]=$()),H(z(Jr),null,{default:N(()=>[(D(!0),V(A,null,le(z(rg),e=>(D(),M(z(eu),{key:e,value:e},{default:N(()=>[$(se(e.charAt(0).toUpperCase()+e.slice(1))+" "+se("small"===e?"(< 1000 items)":"medium"===e?"(1000-10000 items)":"large"===e?"(10000-50000 items)":"(50000+ items)"),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},16),t[14]||(t[14]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[49]||(t[49]=$()),H(z(Ha),{"validate-on-blur":!z(l).isFieldDirty,name:"company_size"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[15]||(t[15]=[$("Company Size",-1)])]),_:1}),t[17]||(t[17]=$()),H(z(Yr),Y(J(e)),{default:N(()=>[H(z(Ji),null,{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select company size"})]),_:1})]),_:1}),t[16]||(t[16]=$()),H(z(Jr),null,{default:N(()=>[(D(!0),V(A,null,le(z(og),e=>(D(),M(z(eu),{key:e,value:e},{default:N(()=>[$(se(e.charAt(0).toUpperCase()+e.slice(1))+" "+se("small"===e?"(1-50 employees)":"medium"===e?"(51-200 employees)":"(200+ employees)"),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},16),t[18]||(t[18]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[50]||(t[50]=$()),H(z(Ha),{"validate-on-blur":!z(l).isFieldDirty,name:"monthly_revenue"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[19]||(t[19]=[$("Monthly Revenue Range",-1)])]),_:1}),t[21]||(t[21]=$()),H(z(Yr),Y(J(e)),{default:N(()=>[H(z(Ji),null,{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select revenue range"})]),_:1})]),_:1}),t[20]||(t[20]=$()),H(z(Jr),null,{default:N(()=>[(D(!0),V(A,null,le(z(ig),e=>(D(),M(z(eu),{key:e.value,value:e.value},{default:N(()=>[$(se(e.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},16),t[22]||(t[22]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[51]||(t[51]=$()),t[52]||(t[52]=I("div",{class:"mb-4 border-b"},[I("h1",{class:"text-xl"},"Business Areas"),$(),I("p",{class:"mb-6 text-gray-600"},"\n                    Define the areas of your business to help us understand your\n                    operations better.\n                ")],-1)),t[53]||(t[53]=$()),H(z(Ha),{"validate-on-blur":!z(l).isFieldDirty,name:"has_outlet"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[23]||(t[23]=[$("Do you have multiple outlets?",-1)])]),_:1}),t[28]||(t[28]=$()),H(z(Yr),Y(J(e)),{default:N(()=>[H(z(Ji),null,{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select option"})]),_:1})]),_:1}),t[27]||(t[27]=$()),H(z(Jr),null,{default:N(()=>[H(z(eu),{value:!0},{default:N(()=>[...t[24]||(t[24]=[$("Yes",-1)])]),_:1}),t[26]||(t[26]=$()),H(z(eu),{value:!1},{default:N(()=>[...t[25]||(t[25]=[$("No",-1)])]),_:1})]),_:1})]),_:1},16),t[29]||(t[29]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[54]||(t[54]=$()),H(z(Ha),{"validate-on-blur":!z(l).isFieldDirty,name:"sales_channel"},{default:N(({value:e,setValue:l})=>[H(z(Zi),null,{default:N(()=>[I("div",mg,[H(z(Xi),null,{default:N(()=>[...t[30]||(t[30]=[$("Sales Channel",-1)])]),_:1})]),t[32]||(t[32]=$()),(D(!0),V(A,null,le(z(ug),a=>(D(),M(z(Ha),{key:a.id,type:"checkbox",value:a.id,"unchecked-value":!1,name:"sales_channel"},{default:N(()=>[H(z(Zi),{class:"flex flex-row items-start space-x-3 space-y-0"},{default:N(()=>[H(z(Ji),null,{default:N(()=>[H(z(Yd),{checked:e.includes(a.id),"onUpdate:checked":t=>l(z(Wn)(t,a.id,e))},null,8,["checked","onUpdate:checked"])]),_:2},1024),t[31]||(t[31]=$()),H(z(Xi),{class:"font-normal"},{default:N(()=>[$(se(a.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128)),t[33]||(t[33]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[55]||(t[55]=$()),H(z(Ha),{"validate-on-blur":!z(l).isFieldDirty,name:"target_market"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[34]||(t[34]=[$("Target Market",-1)])]),_:1}),t[36]||(t[36]=$()),H(z(Yr),Y(J(e)),{default:N(()=>[H(z(Ji),null,{default:N(()=>[H(z(su),null,{default:N(()=>[H(z(nu),{placeholder:"Select target market"})]),_:1})]),_:1}),t[35]||(t[35]=$()),H(z(Jr),null,{default:N(()=>[(D(!0),V(A,null,le(z(dg),e=>(D(),M(z(eu),{key:e,value:e},{default:N(()=>[$(se(e.charAt(0).toUpperCase()+e.slice(1)),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},16),t[37]||(t[37]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[56]||(t[56]=$()),H(z(Ha),{"validate-on-blur":!z(l).isFieldDirty,name:"additional_notes"},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[38]||(t[38]=[$("Additional Notes",-1)])]),_:1}),t[39]||(t[39]=$()),H(z(Ji),null,{default:N(()=>[H(z(Cd),E(e,{placeholder:"Any additional setup information"}),null,16)]),_:2},1024),t[40]||(t[40]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[57]||(t[57]=$()),H(z(Nn),{type:"submit",loading:z(l).isSubmitting.value},{default:N(()=>[...t[41]||(t[41]=[$("Update Setup",-1)])]),_:1},8,["loading"])],32)]))}}),vg=ee({__name:"Index",setup(e){const{wizards:t,updateWizards:l,loading:a}=sg();return(e,s)=>(D(),V(A,null,[H(Pn,{loading:z(a)},null,8,["loading"]),s[0]||(s[0]=$()),H(fg,{form:z(t),submitForm:z(l),ref:"setupEditFormRef"},null,8,["form","submitForm"])],64))}}),yg=Object.freeze(Object.defineProperty({__proto__:null,default:vg},Symbol.toStringTag,{value:"Module"})),gg={__name:"Alert",props:{class:{type:null,required:!1},variant:{type:null,required:!1}},setup(e){const t=e;return(l,a)=>(D(),V("div",{class:te(z(On)(z(bg)({variant:e.variant}),t.class)),role:"alert"},[B(l.$slots,"default")],2))}},_g={__name:"AlertDescription",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("div",{class:te(z(On)("text-sm [&_p]:leading-relaxed",t.class))},[B(e.$slots,"default")],2))}},hg={__name:"AlertTitle",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,l)=>(D(),V("h5",{class:te(z(On)("mb-1 font-medium leading-none tracking-tight",t.class))},[B(e.$slots,"default")],2))}},bg=oe("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),xg={class:"flex justify-end gap-x-2"},wg=ee({__name:"Index",setup(e){const t=Aa({organization_name:Ma().optional(),api_key:Ma({required_error:"API Key is required."})}),l=localStorage.getItem("_token"),a=Ka({name:"configForm",validationSchema:Ga(t),initialValues:{api_key:l||""}}),s=a.handleSubmit(e=>c(null,null,function*(){const{get:t}=to(e.api_key),{success:l}=yield t("thread");l?localStorage.setItem("_token",e.api_key):q.error("Make sure your api key is a valid")}));return(e,t)=>(D(),V("form",{class:"p-10 space-y-6",onSubmit:t[0]||(t[0]=ul((...e)=>z(s)&&z(s)(...e),["prevent"]))},[H(z(gg),{class:"text-left"},{default:N(()=>[H(z(Xs),{class:"h-4 w-4"}),t[3]||(t[3]=$()),H(z(hg),null,{default:N(()=>[...t[1]||(t[1]=[$("How to Get Your Crafely AI API Key",-1)])]),_:1}),t[4]||(t[4]=$()),H(z(_g),{class:"mt-2 space-y-2"},{default:N(()=>[...t[2]||(t[2]=[I("p",null,"\n                    To use AI features, you'll need a Crafely AI API key. Here's\n                    how to get one:\n                ",-1),$(),I("ol",{class:"list-decimal ml-4 space-y-1"},[I("li",null,[$("\n                        Visit\n                        "),I("a",{href:"https://crafely.com",target:"_blank",class:"text-primary hover:underline"},"Crafely AI's website")]),$(),I("li",null,"\n                        Create an account or log in to your Crafely AI dashboard\n                    "),$(),I("li",null,"\n                        Navigate to the API section in your account settings\n                    "),$(),I("li",null,'Click on "Generate new API key"'),$(),I("li",null,"Copy your API key and enter it below")],-1),$(),I("p",{class:"text-sm mt-2 text-muted-foreground"},"\n                    Note: Keep your API key secure and do not share it with\n                    others. Your usage will be subject to Crafely AI's pricing\n                    and terms.\n                ",-1)])]),_:1})]),_:1}),t[9]||(t[9]=$()),H(z(Ha),{name:"api_key","validate-on-blur":!z(a).isFieldDirty},{default:N(({componentField:e})=>[H(z(Zi),null,{default:N(()=>[H(z(Xi),null,{default:N(()=>[...t[5]||(t[5]=[$("Crafely API Key",-1)])]),_:1}),t[6]||(t[6]=$()),H(z(Ji),null,{default:N(()=>[H(z(ai),E({type:"password",placeholder:"Enter api key"},e),null,16)]),_:2},1024),t[7]||(t[7]=$()),H(z(ed))]),_:2},1024)]),_:1},8,["validate-on-blur"]),t[10]||(t[10]=$()),I("div",xg,[H(z(Nn),{type:"submit",loading:z(a).isSubmitting.value},{default:N(()=>[...t[8]||(t[8]=[$("\n                Update Configuration\n            ",-1)])]),_:1},8,["loading"])])],32))}}),qg=Object.freeze(Object.defineProperty({__proto__:null,default:wg},Symbol.toStringTag,{value:"Module"})),Cg={class:"overflow-hidden rounded-md relative"},kg=["src","alt","width","height"],Sg={class:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},Fg={class:"flex items-center gap-3"},Pg={class:"space-y-3 text-sm"},Og={class:"font-medium leading-none text-center w-full"},Vg={class:"flex flex-col text-center gap-y-1"},Dg={class:"text-muted-foreground text-xs"},Tg={class:"flex gap-x-1 justify-center items-center"},$g={class:"font-bold text-lg"},Bg={key:0,class:"text-xs line-through text-muted-foreground"},Ag=ee({__name:"GridView",props:{product:{type:Object,required:!0},aspectRatio:{type:String,default:"portrait"},width:{type:Number||null,default:300},height:{type:Number||null,default:300},increment:{type:Function,required:!0},decrement:{type:Function,required:!0}},setup:e=>(t,l)=>{var a,s;return D(),V("div",{class:te(z(On)("space-y-3 group relative",null!=(a=t.$attrs.class)?a:""))},[I("div",Cg,[$(se(e.product.cart)+" ",1),I("img",{src:(null==(s=e.product)?void 0:s.image_url)||"/01.jpeg",alt:e.product.name,width:e.width,height:e.height,class:te(z(On)("h-auto w-auto object-cover transition-all group-hover:scale-105","portrait"===e.aspectRatio?"aspect-[3/4]":"aspect-square"))},null,10,kg),l[3]||(l[3]=$()),I("div",Sg,[I("div",Fg,[H(z(Nn),{variant:"secondary",size:"icon",class:"h-8 w-8 rounded-full",onClick:l[0]||(l[0]=t=>e.decrement(e.product))},{default:N(()=>[H(z(en),{class:"h-4 w-4"})]),_:1}),l[2]||(l[2]=$()),H(z(Nn),{variant:"secondary",size:"icon",class:"h-8 w-8 rounded-full",onClick:l[1]||(l[1]=t=>e.increment(e.product))},{default:N(()=>[H(z(Pl),{class:"h-4 w-4"})]),_:1})])])]),l[7]||(l[7]=$()),I("div",Pg,[I("h3",Og,se(e.product.name),1),l[6]||(l[6]=$()),I("div",Vg,[I("div",Dg,"\n          Stock "+se(e.product.stock||"out"),1),l[5]||(l[5]=$()),I("div",Tg,[I("p",$g,se(z(zn)(e.product.price,e.product.currency)),1),l[4]||(l[4]=$()),e.product.sale_price?(D(),V("sub",Bg,se(z(zn)(e.product.sale_price,e.product.currency)),1)):T("",!0)])])])],2)}}),Ig={__name:"DataTableRowActions",props:{row:{type:Object,required:!0},labels:{type:Array,required:!0},setActiveProduct:{type:Function,required:!0}},setup:e=>(t,l)=>(D(),M(z(Yn),null,{default:N(()=>[H(z(sr),{"as-child":""},{default:N(()=>[H(z(Nn),{variant:"ghost",class:"flex h-8 w-8 p-0 data-[state=open]:bg-muted"},{default:N(()=>[H(z(tn),{class:"h-4 w-4"}),l[1]||(l[1]=$()),l[2]||(l[2]=I("span",{class:"sr-only"},"Open menu",-1))]),_:1})]),_:1}),l[12]||(l[12]=$()),H(z(Xn),{align:"end",class:"w-[160px]"},{default:N(()=>[H(z(er),{onClick:l[0]||(l[0]=t=>e.setActiveProduct(e.row.original))},{default:N(()=>[...l[3]||(l[3]=[$("\n                Details\n            ",-1)])]),_:1}),l[8]||(l[8]=$()),H(z(er),null,{default:N(()=>[...l[4]||(l[4]=[$("Make a copy",-1)])]),_:1}),l[9]||(l[9]=$()),H(z(er),null,{default:N(()=>[...l[5]||(l[5]=[$("Favorite",-1)])]),_:1}),l[10]||(l[10]=$()),H(z(lr)),l[11]||(l[11]=$()),H(z(er),null,{default:N(()=>[l[7]||(l[7]=$("\n                Delete\n                ",-1)),H(z(ar),null,{default:N(()=>[...l[6]||(l[6]=[$("",-1)])]),_:1})]),_:1})]),_:1})]),_:1}))},jg=[{value:"bug",label:"Bug"},{value:"feature",label:"Feature"},{value:"documentation",label:"Documentation"}],Rg=[{value:"Decor",label:"Decor"},{value:"Clothing",label:"Clothing"},{value:"Accessories",label:"Accessories"},{value:"Tshirts",label:"Tshirts"}],Ug=[{value:"low",label:"Low",icon:O(Ja)},{value:"medium",label:"Medium",icon:O(ln)},{value:"high",label:"High",icon:O(Za)}],Mg=[{accessorKey:"src"},{accessorKey:"sku"},{accessorKey:"name"},{accessorKey:"price"},{accessorKey:"stock"},{accessorKey:"categories",filterFn:(e,t,l)=>_.intersection(l,e.getValue(t)).length>0},{id:"actions",cell:({row:e})=>O(Ig,{row:e,labels:jg})}],Ng={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-10"},Eg=ee(i(o({},{name:"BasicShowcase"}),{__name:"BasicShowcase",props:{products:Array},setup(e){const t=up();return(l,a)=>(D(),M(z(To),{data:e.products,columns:z(Mg)},{toolbar:N(({table:e})=>[H(z(Ao),{table:e,priorities:z(Ug)},{search:N(()=>{var t;return[H(z(ai),{class:"max-w-sm",placeholder:"Filter name...","model-value":(null==(t=e.getColumn("name"))?void 0:t.getFilterValue())||"","onUpdate:modelValue":t=>{var l;return null==(l=e.getColumn("name"))?void 0:l.setFilterValue(t)}},null,8,["model-value","onUpdate:modelValue"])]}),filter:N(()=>[e.getColumn("categories")?(D(),M(z(ti),{key:0,column:e.getColumn("categories"),title:"Categories",options:z(Rg)},null,8,["column","options"])):T("",!0)]),_:2},1032,["table","priorities"])]),tbody:N(({table:e})=>[I("div",Ng,[(D(!0),V(A,null,le(e.getRowModel().rows,e=>(D(),M(Ag,{key:e.id,product:e.original,class:"w-full","aspect-ratio":"square",width:null,height:null,increment:e=>z(t).addToCart(e),decrement:e=>z(t).decreaseQuantity(e)},null,8,["product","increment","decrement"]))),128))])]),_:1},8,["data","columns"]))}})),zg=Object.freeze(Object.defineProperty({__proto__:null,default:Eg},Symbol.toStringTag,{value:"Module"})),Lg=ee({__name:"StandardShowcase",props:{products:Array},setup:e=>(t,l)=>(D(),M(z(To),{data:e.products,columns:z(Mg)},{toolbar:N(({table:e})=>[H(z(Ao),{table:e,priorities:z(Ug)},{search:N(()=>{var t;return[H(z(ai),{class:"max-w-sm",placeholder:"Filter name...","model-value":(null==(t=e.getColumn("name"))?void 0:t.getFilterValue())||"","onUpdate:modelValue":t=>{var l;return null==(l=e.getColumn("name"))?void 0:l.setFilterValue(t)}},null,8,["model-value","onUpdate:modelValue"])]}),filter:N(()=>[e.getColumn("categories")?(D(),M(z(ti),{key:0,column:e.getColumn("categories"),title:"Categories",options:z(Rg)},null,8,["column","options"])):T("",!0)]),_:2},1032,["table","priorities"])]),_:1},8,["data","columns"]))}),Kg=Object.freeze(Object.defineProperty({__proto__:null,default:Lg},Symbol.toStringTag,{value:"Module"})),Hg={__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(an),E(l.value,{class:z(On)("w-9 h-9 flex items-center justify-center",t.class)}),{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(tn))])]),_:3},16,["class"]))}},Gg={__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1,default:!0},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(sn),Y(J(l.value)),{default:N(()=>[H(z(Nn),{class:te(z(On)("w-9 h-9 p-0",t.class)),variant:"outline"},{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(Dl))])]),_:3},8,["class"])]),_:3},16))}},Wg={__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1,default:!0},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(nn),Y(J(l.value)),{default:N(()=>[H(z(Nn),{class:te(z(On)("w-9 h-9 p-0",t.class)),variant:"outline"},{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(Bl))])]),_:3},8,["class"])]),_:3},16))}},Qg={__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1,default:!0},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(rn),Y(J(l.value)),{default:N(()=>[H(z(Nn),{class:te(z(On)("w-9 h-9 p-0",t.class)),variant:"outline"},{default:N(()=>[B(e.$slots,"default",{},()=>[H(z($l))])]),_:3},8,["class"])]),_:3},16))}},Yg={__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1,default:!0},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,l=w(()=>{const e=t,{class:l}=e;return d(e,["class"])});return(e,a)=>(D(),M(z(un),Y(J(l.value)),{default:N(()=>[H(z(Nn),{class:te(z(On)("w-9 h-9 p-0",t.class)),variant:"outline"},{default:N(()=>[B(e.$slots,"default",{},()=>[H(z(Tl))])]),_:3},8,["class"])]),_:3},16))}},Jg=ee({__name:"Pagination",setup:e=>(e,t)=>(D(),M(z(cn),{total:100,"sibling-count":1,"show-edges":"","default-page":2},{default:N(({page:e})=>[H(z(on),{class:"flex items-center gap-1"},{default:N(({items:l})=>[H(z(Gg)),t[0]||(t[0]=$()),H(z(Yg)),t[1]||(t[1]=$()),(D(!0),V(A,null,le(l,(t,l)=>(D(),V(A,{key:l},["page"===t.type?(D(),M(z(dn),{key:l,value:t.value,"as-child":""},{default:N(()=>[H(z(Nn),{class:"w-10 h-10 p-0",variant:t.value===e?"default":"outline"},{default:N(()=>[$(se(t.value),1)]),_:2},1032,["variant"])]),_:2},1032,["value"])):(D(),M(z(Hg),{key:t.type,index:l},null,8,["index"]))],64))),128)),t[2]||(t[2]=$()),H(z(Qg)),t[3]||(t[3]=$()),H(z(Wg))]),_:2},1024)]),_:1}))}),Zg={class:"space-y-8"},Xg=ee({__name:"Enterprise",props:{products:Array},setup(e){const t=oc(),{getProductsByQuery:l}=t;let{searchKey:a}=lt(t);return(t,s)=>(D(),V("div",Zg,[H(z(ai),{modelValue:z(a),"onUpdate:modelValue":s[0]||(s[0]=e=>at(a)?a.value=e:a=e),onInput:z(l)},null,8,["modelValue","onInput"]),s[1]||(s[1]=$()),H(z(To),{data:e.products,columns:z(Mg),hidePaginate:""},null,8,["data","columns"]),s[2]||(s[2]=$()),I("div",null,[H(Jg)])]))}}),e_=Object.freeze(Object.defineProperty({__proto__:null,default:Xg},Symbol.toStringTag,{value:"Module"}));export{bn as _,hn as a,_n as b,fn as f,gn as u};
